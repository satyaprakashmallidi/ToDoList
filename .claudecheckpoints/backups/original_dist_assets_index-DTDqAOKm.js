(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function Lx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function vw(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var i=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return s[n]}})}),t}var Dd={exports:{}},Qa={},Ld={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function bw(){if(Kg)return De;Kg=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,_={};function S(C,$,se){this.props=C,this.context=$,this.refs=_,this.updater=se||b}S.prototype.isReactComponent={},S.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},S.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function N(){}N.prototype=S.prototype;function P(C,$,se){this.props=C,this.context=$,this.refs=_,this.updater=se||b}var E=P.prototype=new N;E.constructor=P,j(E,S.prototype),E.isPureReactComponent=!0;var I=Array.isArray,L=Object.prototype.hasOwnProperty,B={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function q(C,$,se){var oe,be={},ke=null,je=null;if($!=null)for(oe in $.ref!==void 0&&(je=$.ref),$.key!==void 0&&(ke=""+$.key),$)L.call($,oe)&&!G.hasOwnProperty(oe)&&(be[oe]=$[oe]);var Pe=arguments.length-2;if(Pe===1)be.children=se;else if(1<Pe){for(var Ae=Array(Pe),Qe=0;Qe<Pe;Qe++)Ae[Qe]=arguments[Qe+2];be.children=Ae}if(C&&C.defaultProps)for(oe in Pe=C.defaultProps,Pe)be[oe]===void 0&&(be[oe]=Pe[oe]);return{$$typeof:s,type:C,key:ke,ref:je,props:be,_owner:B.current}}function Z(C,$){return{$$typeof:s,type:C.type,key:$,ref:C.ref,props:C.props,_owner:C._owner}}function re(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function K(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(se){return $[se]})}var ie=/\/+/g;function Y(C,$){return typeof C=="object"&&C!==null&&C.key!=null?K(""+C.key):$.toString(36)}function ae(C,$,se,oe,be){var ke=typeof C;(ke==="undefined"||ke==="boolean")&&(C=null);var je=!1;if(C===null)je=!0;else switch(ke){case"string":case"number":je=!0;break;case"object":switch(C.$$typeof){case s:case e:je=!0}}if(je)return je=C,be=be(je),C=oe===""?"."+Y(je,0):oe,I(be)?(se="",C!=null&&(se=C.replace(ie,"$&/")+"/"),ae(be,$,se,"",function(Qe){return Qe})):be!=null&&(re(be)&&(be=Z(be,se+(!be.key||je&&je.key===be.key?"":(""+be.key).replace(ie,"$&/")+"/")+C)),$.push(be)),1;if(je=0,oe=oe===""?".":oe+":",I(C))for(var Pe=0;Pe<C.length;Pe++){ke=C[Pe];var Ae=oe+Y(ke,Pe);je+=ae(ke,$,se,Ae,be)}else if(Ae=v(C),typeof Ae=="function")for(C=Ae.call(C),Pe=0;!(ke=C.next()).done;)ke=ke.value,Ae=oe+Y(ke,Pe++),je+=ae(ke,$,se,Ae,be);else if(ke==="object")throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return je}function Q(C,$,se){if(C==null)return C;var oe=[],be=0;return ae(C,oe,"","",function(ke){return $.call(se,ke,be++)}),oe}function ce(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(se){(C._status===0||C._status===-1)&&(C._status=1,C._result=se)},function(se){(C._status===0||C._status===-1)&&(C._status=2,C._result=se)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var R={current:null},M={transition:null},W={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:M,ReactCurrentOwner:B};function A(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:Q,forEach:function(C,$,se){Q(C,function(){$.apply(this,arguments)},se)},count:function(C){var $=0;return Q(C,function(){$++}),$},toArray:function(C){return Q(C,function($){return $})||[]},only:function(C){if(!re(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},De.Component=S,De.Fragment=t,De.Profiler=i,De.PureComponent=P,De.StrictMode=n,De.Suspense=h,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,De.act=A,De.cloneElement=function(C,$,se){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var oe=j({},C.props),be=C.key,ke=C.ref,je=C._owner;if($!=null){if($.ref!==void 0&&(ke=$.ref,je=B.current),$.key!==void 0&&(be=""+$.key),C.type&&C.type.defaultProps)var Pe=C.type.defaultProps;for(Ae in $)L.call($,Ae)&&!G.hasOwnProperty(Ae)&&(oe[Ae]=$[Ae]===void 0&&Pe!==void 0?Pe[Ae]:$[Ae])}var Ae=arguments.length-2;if(Ae===1)oe.children=se;else if(1<Ae){Pe=Array(Ae);for(var Qe=0;Qe<Ae;Qe++)Pe[Qe]=arguments[Qe+2];oe.children=Pe}return{$$typeof:s,type:C.type,key:be,ref:ke,props:oe,_owner:je}},De.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:l,_context:C},C.Consumer=C},De.createElement=q,De.createFactory=function(C){var $=q.bind(null,C);return $.type=C,$},De.createRef=function(){return{current:null}},De.forwardRef=function(C){return{$$typeof:d,render:C}},De.isValidElement=re,De.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:ce}},De.memo=function(C,$){return{$$typeof:m,type:C,compare:$===void 0?null:$}},De.startTransition=function(C){var $=M.transition;M.transition={};try{C()}finally{M.transition=$}},De.unstable_act=A,De.useCallback=function(C,$){return R.current.useCallback(C,$)},De.useContext=function(C){return R.current.useContext(C)},De.useDebugValue=function(){},De.useDeferredValue=function(C){return R.current.useDeferredValue(C)},De.useEffect=function(C,$){return R.current.useEffect(C,$)},De.useId=function(){return R.current.useId()},De.useImperativeHandle=function(C,$,se){return R.current.useImperativeHandle(C,$,se)},De.useInsertionEffect=function(C,$){return R.current.useInsertionEffect(C,$)},De.useLayoutEffect=function(C,$){return R.current.useLayoutEffect(C,$)},De.useMemo=function(C,$){return R.current.useMemo(C,$)},De.useReducer=function(C,$,se){return R.current.useReducer(C,$,se)},De.useRef=function(C){return R.current.useRef(C)},De.useState=function(C){return R.current.useState(C)},De.useSyncExternalStore=function(C,$,se){return R.current.useSyncExternalStore(C,$,se)},De.useTransition=function(){return R.current.useTransition()},De.version="18.3.1",De}var Jg;function Yh(){return Jg||(Jg=1,Ld.exports=bw()),Ld.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function ww(){if(Qg)return Qa;Qg=1;var s=Yh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,m){var g,x={},v=null,b=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)n.call(h,g)&&!l.hasOwnProperty(g)&&(x[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)x[g]===void 0&&(x[g]=h[g]);return{$$typeof:e,type:d,key:v,ref:b,props:x,_owner:i.current}}return Qa.Fragment=t,Qa.jsx=c,Qa.jsxs=c,Qa}var Xg;function jw(){return Xg||(Xg=1,Dd.exports=ww()),Dd.exports}var a=jw(),k=Yh();const qe=Lx(k);var Ql={},Fd={exports:{}},ls={},$d={exports:{}},zd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function kw(){return Zg||(Zg=1,(function(s){function e(M,W){var A=M.length;M.push(W);e:for(;0<A;){var C=A-1>>>1,$=M[C];if(0<i($,W))M[C]=W,M[A]=$,A=C;else break e}}function t(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var W=M[0],A=M.pop();if(A!==W){M[0]=A;e:for(var C=0,$=M.length,se=$>>>1;C<se;){var oe=2*(C+1)-1,be=M[oe],ke=oe+1,je=M[ke];if(0>i(be,A))ke<$&&0>i(je,be)?(M[C]=je,M[ke]=A,C=ke):(M[C]=be,M[oe]=A,C=oe);else if(ke<$&&0>i(je,A))M[C]=je,M[ke]=A,C=ke;else break e}}return W}function i(M,W){var A=M.sortIndex-W.sortIndex;return A!==0?A:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();s.unstable_now=function(){return c.now()-d}}var h=[],m=[],g=1,x=null,v=3,b=!1,j=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(M){for(var W=t(m);W!==null;){if(W.callback===null)n(m);else if(W.startTime<=M)n(m),W.sortIndex=W.expirationTime,e(h,W);else break;W=t(m)}}function I(M){if(_=!1,E(M),!j)if(t(h)!==null)j=!0,ce(L);else{var W=t(m);W!==null&&R(I,W.startTime-M)}}function L(M,W){j=!1,_&&(_=!1,N(q),q=-1),b=!0;var A=v;try{for(E(W),x=t(h);x!==null&&(!(x.expirationTime>W)||M&&!K());){var C=x.callback;if(typeof C=="function"){x.callback=null,v=x.priorityLevel;var $=C(x.expirationTime<=W);W=s.unstable_now(),typeof $=="function"?x.callback=$:x===t(h)&&n(h),E(W)}else n(h);x=t(h)}if(x!==null)var se=!0;else{var oe=t(m);oe!==null&&R(I,oe.startTime-W),se=!1}return se}finally{x=null,v=A,b=!1}}var B=!1,G=null,q=-1,Z=5,re=-1;function K(){return!(s.unstable_now()-re<Z)}function ie(){if(G!==null){var M=s.unstable_now();re=M;var W=!0;try{W=G(!0,M)}finally{W?Y():(B=!1,G=null)}}else B=!1}var Y;if(typeof P=="function")Y=function(){P(ie)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Q=ae.port2;ae.port1.onmessage=ie,Y=function(){Q.postMessage(null)}}else Y=function(){S(ie,0)};function ce(M){G=M,B||(B=!0,Y())}function R(M,W){q=S(function(){M(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_continueExecution=function(){j||b||(j=!0,ce(L))},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_getFirstCallbackNode=function(){return t(h)},s.unstable_next=function(M){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var A=v;v=W;try{return M()}finally{v=A}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var A=v;v=M;try{return W()}finally{v=A}},s.unstable_scheduleCallback=function(M,W,A){var C=s.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?C+A:C):A=C,M){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=A+$,M={id:g++,callback:W,priorityLevel:M,startTime:A,expirationTime:$,sortIndex:-1},A>C?(M.sortIndex=A,e(m,M),t(h)===null&&M===t(m)&&(_?(N(q),q=-1):_=!0,R(I,A-C))):(M.sortIndex=$,e(h,M),j||b||(j=!0,ce(L))),M},s.unstable_shouldYield=K,s.unstable_wrapCallback=function(M){var W=v;return function(){var A=v;v=W;try{return M.apply(this,arguments)}finally{v=A}}}})(zd)),zd}var ep;function _w(){return ep||(ep=1,$d.exports=kw()),$d.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function Nw(){if(tp)return ls;tp=1;var s=Yh(),e=_w();function t(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function l(r,o){c(r,o),c(r+"Capture",o)}function c(r,o){for(i[r]=o,r=0;r<o.length;r++)n.add(o[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function v(r){return h.call(x,r)?!0:h.call(g,r)?!1:m.test(r)?x[r]=!0:(g[r]=!0,!1)}function b(r,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function j(r,o,u,f){if(o===null||typeof o>"u"||b(r,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function _(r,o,u,f,p,y,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=r,this.type=o,this.sanitizeURL=y,this.removeEmptyString=w}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new _(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];S[o]=new _(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new _(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new _(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new _(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new _(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new _(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new _(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new _(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(N,P);S[o]=new _(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(N,P);S[o]=new _(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(N,P);S[o]=new _(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new _(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new _(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,o,u,f){var p=S.hasOwnProperty(o)?S[o]:null;(p!==null?p.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(j(o,u,p,f)&&(u=null),f||p===null?v(o)&&(u===null?r.removeAttribute(o):r.setAttribute(o,""+u)):p.mustUseProperty?r[p.propertyName]=u===null?p.type===3?!1:"":u:(o=p.attributeName,f=p.attributeNamespace,u===null?r.removeAttribute(o):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,f?r.setAttributeNS(f,o,u):r.setAttribute(o,u))))}var I=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),B=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),K=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),M=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var A=Object.assign,C;function $(r){if(C===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);C=o&&o[1]||""}return`
`+C+r}var se=!1;function oe(r,o){if(!r||se)return"";se=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(V){var f=V}Reflect.construct(r,[],o)}else{try{o.call()}catch(V){f=V}r.call(o.prototype)}else{try{throw Error()}catch(V){f=V}r()}}catch(V){if(V&&f&&typeof V.stack=="string"){for(var p=V.stack.split(`
`),y=f.stack.split(`
`),w=p.length-1,T=y.length-1;1<=w&&0<=T&&p[w]!==y[T];)T--;for(;1<=w&&0<=T;w--,T--)if(p[w]!==y[T]){if(w!==1||T!==1)do if(w--,T--,0>T||p[w]!==y[T]){var O=`
`+p[w].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=w&&0<=T);break}}}finally{se=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?$(r):""}function be(r){switch(r.tag){case 5:return $(r.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return r=oe(r.type,!1),r;case 11:return r=oe(r.type.render,!1),r;case 1:return r=oe(r.type,!0),r;default:return""}}function ke(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case G:return"Fragment";case B:return"Portal";case Z:return"Profiler";case q:return"StrictMode";case Y:return"Suspense";case ae:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case K:return(r.displayName||"Context")+".Consumer";case re:return(r._context.displayName||"Context")+".Provider";case ie:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Q:return o=r.displayName||null,o!==null?o:ke(r.type)||"Memo";case ce:o=r._payload,r=r._init;try{return ke(r(o))}catch{}}return null}function je(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(o);case 8:return o===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Pe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ae(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Qe(r){var o=Ae(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return p.call(this)},set:function(w){f=""+w,y.call(this,w)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function mt(r){r._valueTracker||(r._valueTracker=Qe(r))}function kt(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return r&&(f=Ae(r)?r.checked?"true":"false":r.value),r=f,r!==u?(o.setValue(r),!0):!1}function bt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Kt(r,o){var u=o.checked;return A({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function ut(r,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Pe(o.value!=null?o.value:u),r._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ds(r,o){o=o.checked,o!=null&&E(r,"checked",o,!1)}function fn(r,o){Ds(r,o);var u=Pe(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?Jt(r,o.type,u):o.hasOwnProperty("defaultValue")&&Jt(r,o.type,Pe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function Ls(r,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,u||o===r.value||(r.value=o),r.defaultValue=o}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Jt(r,o,u){(o!=="number"||bt(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var Fs=Array.isArray;function Ve(r,o,u,f){if(r=r.options,o){o={};for(var p=0;p<u.length;p++)o["$"+u[p]]=!0;for(u=0;u<r.length;u++)p=o.hasOwnProperty("$"+r[u].value),r[u].selected!==p&&(r[u].selected=p),p&&f&&(r[u].defaultSelected=!0)}else{for(u=""+Pe(u),o=null,p=0;p<r.length;p++){if(r[p].value===u){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}o!==null||r[p].disabled||(o=r[p])}o!==null&&(o.selected=!0)}}function $t(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return A({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ms(r,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Fs(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}r._wrapperState={initialValue:Pe(u)}}function ue(r,o){var u=Pe(o.value),f=Pe(o.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),o.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),f!=null&&(r.defaultValue=""+f)}function Re(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function _e(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?_e(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var it,pt=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,p){MSApp.execUnsafeLocalFunction(function(){return r(o,u,f,p)})}:r})(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(it=it||document.createElement("div"),it.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=it.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function ws(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var at={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},In=["Webkit","ms","Moz","O"];Object.keys(at).forEach(function(r){In.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),at[o]=at[r]})});function ti(r,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||at.hasOwnProperty(r)&&at[r]?(""+o).trim():o+"px"}function mn(r,o){r=r.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,p=ti(u,o[u],f);u==="float"&&(u="cssFloat"),f?r.setProperty(u,p):r[u]=p}}var si=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $s(r,o){if(o){if(si[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function br(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function zt(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var zs=null,Bs=null,Us=null;function Dn(r){if(r=Da(r)){if(typeof zs!="function")throw Error(t(280));var o=r.stateNode;o&&(o=hl(o),zs(r.stateNode,r.type,o))}}function ni(r){Bs?Us?Us.push(r):Us=[r]:Bs=r}function wr(){if(Bs){var r=Bs,o=Us;if(Us=Bs=null,Dn(r),o)for(r=0;r<o.length;r++)Dn(o[r])}}function ri(r,o){return r(o)}function Pt(){}var Ln=!1;function Fn(r,o,u){if(Ln)return r(o,u);Ln=!0;try{return ri(r,o,u)}finally{Ln=!1,(Bs!==null||Us!==null)&&(Pt(),wr())}}function xt(r,o){var u=r.stateNode;if(u===null)return null;var f=hl(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var z=!1;if(d)try{var Ee={};Object.defineProperty(Ee,"passive",{get:function(){z=!0}}),window.addEventListener("test",Ee,Ee),window.removeEventListener("test",Ee,Ee)}catch{z=!1}function Je(r,o,u,f,p,y,w,T,O){var V=Array.prototype.slice.call(arguments,3);try{o.apply(u,V)}catch(ee){this.onError(ee)}}var ot=!1,ze=null,gs=!1,dt=null,Vo={onError:function(r){ot=!0,ze=r}};function qo(r,o,u,f,p,y,w,T,O){ot=!1,ze=null,Je.apply(Vo,arguments)}function Go(r,o,u,f,p,y,w,T,O){if(qo.apply(this,arguments),ot){if(ot){var V=ze;ot=!1,ze=null}else throw Error(t(198));gs||(gs=!0,dt=V)}}function Qt(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function ma(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function ii(r){if(Qt(r)!==r)throw Error(t(188))}function tu(r){var o=r.alternate;if(!o){if(o=Qt(r),o===null)throw Error(t(188));return o!==r?null:r}for(var u=r,f=o;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return ii(p),r;if(y===f)return ii(p),o;y=y.sibling}throw Error(t(188))}if(u.return!==f.return)u=p,f=y;else{for(var w=!1,T=p.child;T;){if(T===u){w=!0,u=p,f=y;break}if(T===f){w=!0,f=p,u=y;break}T=T.sibling}if(!w){for(T=y.child;T;){if(T===u){w=!0,u=y,f=p;break}if(T===f){w=!0,f=y,u=p;break}T=T.sibling}if(!w)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?r:o}function Yo(r){return r=tu(r),r!==null?jr(r):null}function jr(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=jr(r);if(o!==null)return o;r=r.sibling}return null}var D=e.unstable_scheduleCallback,J=e.unstable_cancelCallback,we=e.unstable_shouldYield,Ce=e.unstable_requestPaint,he=e.unstable_now,Oe=e.unstable_getCurrentPriorityLevel,le=e.unstable_ImmediatePriority,wt=e.unstable_UserBlockingPriority,ks=e.unstable_NormalPriority,su=e.unstable_LowPriority,ai=e.unstable_IdlePriority,ga=null,Ws=null;function oi(r){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(ga,r,void 0,(r.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:xa,Ko=Math.log,pa=Math.LN2;function xa(r){return r>>>=0,r===0?32:31-(Ko(r)/pa|0)|0}var kr=64,li=4194304;function ya(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Jo(r,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,y=r.pingedLanes,w=u&268435455;if(w!==0){var T=w&~p;T!==0?f=ya(T):(y&=w,y!==0&&(f=ya(y)))}else w=u&~p,w!==0?f=ya(w):y!==0&&(f=ya(y));if(f===0)return 0;if(o!==0&&o!==f&&(o&p)===0&&(p=f&-f,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=f;0<o;)u=31-Bt(o),p=1<<u,f|=r[u],o&=~p;return f}function Fv(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $v(r,o){for(var u=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var w=31-Bt(y),T=1<<w,O=p[w];O===-1?((T&u)===0||(T&f)!==0)&&(p[w]=Fv(T,o)):O<=o&&(r.expiredLanes|=T),y&=~T}}function nu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Sf(){var r=kr;return kr<<=1,(kr&4194240)===0&&(kr=64),r}function ru(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function va(r,o,u){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Bt(o),r[o]=u}function zv(r,o){var u=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<u;){var p=31-Bt(u),y=1<<p;o[p]=0,f[p]=-1,r[p]=-1,u&=~y}}function iu(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var f=31-Bt(u),p=1<<f;p&o|r[f]&o&&(r[f]|=o),u&=~p}}var Ge=0;function Cf(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ef,au,Tf,Pf,Mf,ou=!1,Qo=[],$n=null,zn=null,Bn=null,ba=new Map,wa=new Map,Un=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(r,o){switch(r){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":ba.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":wa.delete(o.pointerId)}}function ja(r,o,u,f,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},o!==null&&(o=Da(o),o!==null&&au(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),r)}function Uv(r,o,u,f,p){switch(o){case"focusin":return $n=ja($n,r,o,u,f,p),!0;case"dragenter":return zn=ja(zn,r,o,u,f,p),!0;case"mouseover":return Bn=ja(Bn,r,o,u,f,p),!0;case"pointerover":var y=p.pointerId;return ba.set(y,ja(ba.get(y)||null,r,o,u,f,p)),!0;case"gotpointercapture":return y=p.pointerId,wa.set(y,ja(wa.get(y)||null,r,o,u,f,p)),!0}return!1}function Of(r){var o=_r(r.target);if(o!==null){var u=Qt(o);if(u!==null){if(o=u.tag,o===13){if(o=ma(u),o!==null){r.blockedOn=o,Mf(r.priority,function(){Tf(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xo(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=cu(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);js=f,u.target.dispatchEvent(f),js=null}else return o=Da(u),o!==null&&au(o),r.blockedOn=u,!1;o.shift()}return!0}function Rf(r,o,u){Xo(r)&&u.delete(o)}function Wv(){ou=!1,$n!==null&&Xo($n)&&($n=null),zn!==null&&Xo(zn)&&(zn=null),Bn!==null&&Xo(Bn)&&(Bn=null),ba.forEach(Rf),wa.forEach(Rf)}function ka(r,o){r.blockedOn===o&&(r.blockedOn=null,ou||(ou=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wv)))}function _a(r){function o(p){return ka(p,r)}if(0<Qo.length){ka(Qo[0],r);for(var u=1;u<Qo.length;u++){var f=Qo[u];f.blockedOn===r&&(f.blockedOn=null)}}for($n!==null&&ka($n,r),zn!==null&&ka(zn,r),Bn!==null&&ka(Bn,r),ba.forEach(o),wa.forEach(o),u=0;u<Un.length;u++)f=Un[u],f.blockedOn===r&&(f.blockedOn=null);for(;0<Un.length&&(u=Un[0],u.blockedOn===null);)Of(u),u.blockedOn===null&&Un.shift()}var ci=I.ReactCurrentBatchConfig,Zo=!0;function Hv(r,o,u,f){var p=Ge,y=ci.transition;ci.transition=null;try{Ge=1,lu(r,o,u,f)}finally{Ge=p,ci.transition=y}}function Vv(r,o,u,f){var p=Ge,y=ci.transition;ci.transition=null;try{Ge=4,lu(r,o,u,f)}finally{Ge=p,ci.transition=y}}function lu(r,o,u,f){if(Zo){var p=cu(r,o,u,f);if(p===null)Su(r,o,f,el,u),Af(r,f);else if(Uv(p,r,o,u,f))f.stopPropagation();else if(Af(r,f),o&4&&-1<Bv.indexOf(r)){for(;p!==null;){var y=Da(p);if(y!==null&&Ef(y),y=cu(r,o,u,f),y===null&&Su(r,o,f,el,u),y===p)break;p=y}p!==null&&f.stopPropagation()}else Su(r,o,f,null,u)}}var el=null;function cu(r,o,u,f){if(el=null,r=zt(f),r=_r(r),r!==null)if(o=Qt(r),o===null)r=null;else if(u=o.tag,u===13){if(r=ma(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return el=r,null}function If(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oe()){case le:return 1;case wt:return 4;case ks:case su:return 16;case ai:return 536870912;default:return 16}default:return 16}}var Wn=null,uu=null,tl=null;function Df(){if(tl)return tl;var r,o=uu,u=o.length,f,p="value"in Wn?Wn.value:Wn.textContent,y=p.length;for(r=0;r<u&&o[r]===p[r];r++);var w=u-r;for(f=1;f<=w&&o[u-f]===p[y-f];f++);return tl=p.slice(r,1<f?1-f:void 0)}function sl(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function nl(){return!0}function Lf(){return!1}function ps(r){function o(u,f,p,y,w){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(u=r[T],this[T]=u?u(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?nl:Lf,this.isPropagationStopped=Lf,this}return A(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),o}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=ps(ui),Na=A({},ui,{view:0,detail:0}),qv=ps(Na),hu,fu,Sa,rl=A({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Sa&&(Sa&&r.type==="mousemove"?(hu=r.screenX-Sa.screenX,fu=r.screenY-Sa.screenY):fu=hu=0,Sa=r),hu)},movementY:function(r){return"movementY"in r?r.movementY:fu}}),Ff=ps(rl),Gv=A({},rl,{dataTransfer:0}),Yv=ps(Gv),Kv=A({},Na,{relatedTarget:0}),mu=ps(Kv),Jv=A({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Qv=ps(Jv),Xv=A({},ui,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Zv=ps(Xv),eb=A({},ui,{data:0}),$f=ps(eb),tb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rb(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=nb[r])?!!o[r]:!1}function gu(){return rb}var ib=A({},Na,{key:function(r){if(r.key){var o=tb[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=sl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sb[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(r){return r.type==="keypress"?sl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?sl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ab=ps(ib),ob=A({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zf=ps(ob),lb=A({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),cb=ps(lb),ub=A({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),db=ps(ub),hb=A({},rl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),fb=ps(hb),mb=[9,13,27,32],pu=d&&"CompositionEvent"in window,Ca=null;d&&"documentMode"in document&&(Ca=document.documentMode);var gb=d&&"TextEvent"in window&&!Ca,Bf=d&&(!pu||Ca&&8<Ca&&11>=Ca),Uf=" ",Wf=!1;function Hf(r,o){switch(r){case"keyup":return mb.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var di=!1;function pb(r,o){switch(r){case"compositionend":return Vf(o);case"keypress":return o.which!==32?null:(Wf=!0,Uf);case"textInput":return r=o.data,r===Uf&&Wf?null:r;default:return null}}function xb(r,o){if(di)return r==="compositionend"||!pu&&Hf(r,o)?(r=Df(),tl=uu=Wn=null,di=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Bf&&o.locale!=="ko"?null:o.data;default:return null}}var yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qf(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!yb[r.type]:o==="textarea"}function Gf(r,o,u,f){ni(f),o=cl(o,"onChange"),0<o.length&&(u=new du("onChange","change",null,u,f),r.push({event:u,listeners:o}))}var Ea=null,Ta=null;function vb(r){dm(r,0)}function il(r){var o=pi(r);if(kt(o))return r}function bb(r,o){if(r==="change")return o}var Yf=!1;if(d){var xu;if(d){var yu="oninput"in document;if(!yu){var Kf=document.createElement("div");Kf.setAttribute("oninput","return;"),yu=typeof Kf.oninput=="function"}xu=yu}else xu=!1;Yf=xu&&(!document.documentMode||9<document.documentMode)}function Jf(){Ea&&(Ea.detachEvent("onpropertychange",Qf),Ta=Ea=null)}function Qf(r){if(r.propertyName==="value"&&il(Ta)){var o=[];Gf(o,Ta,r,zt(r)),Fn(vb,o)}}function wb(r,o,u){r==="focusin"?(Jf(),Ea=o,Ta=u,Ea.attachEvent("onpropertychange",Qf)):r==="focusout"&&Jf()}function jb(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return il(Ta)}function kb(r,o){if(r==="click")return il(o)}function _b(r,o){if(r==="input"||r==="change")return il(o)}function Nb(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Hs=typeof Object.is=="function"?Object.is:Nb;function Pa(r,o){if(Hs(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!h.call(o,p)||!Hs(r[p],o[p]))return!1}return!0}function Xf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Zf(r,o){var u=Xf(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=o&&f>=o)return{node:u,offset:o-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Xf(u)}}function em(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?em(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function tm(){for(var r=window,o=bt();o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=bt(r.document)}return o}function vu(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function Sb(r){var o=tm(),u=r.focusedElem,f=r.selectionRange;if(o!==u&&u&&u.ownerDocument&&em(u.ownerDocument.documentElement,u)){if(f!==null&&vu(u)){if(o=f.start,r=f.end,r===void 0&&(r=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(r,u.value.length);else if(r=(o=u.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var p=u.textContent.length,y=Math.min(f.start,p);f=f.end===void 0?y:Math.min(f.end,p),!r.extend&&y>f&&(p=f,f=y,y=p),p=Zf(u,y);var w=Zf(u,f);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),r.removeAllRanges(),y>f?(r.addRange(o),r.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),r.addRange(o)))}}for(o=[],r=u;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)r=o[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Cb=d&&"documentMode"in document&&11>=document.documentMode,hi=null,bu=null,Ma=null,wu=!1;function sm(r,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;wu||hi==null||hi!==bt(f)||(f=hi,"selectionStart"in f&&vu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ma&&Pa(Ma,f)||(Ma=f,f=cl(bu,"onSelect"),0<f.length&&(o=new du("onSelect","select",null,o,u),r.push({event:o,listeners:f}),o.target=hi)))}function al(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var fi={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},ju={},nm={};d&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function ol(r){if(ju[r])return ju[r];if(!fi[r])return r;var o=fi[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in nm)return ju[r]=o[u];return r}var rm=ol("animationend"),im=ol("animationiteration"),am=ol("animationstart"),om=ol("transitionend"),lm=new Map,cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(r,o){lm.set(r,o),l(o,[r])}for(var ku=0;ku<cm.length;ku++){var _u=cm[ku],Eb=_u.toLowerCase(),Tb=_u[0].toUpperCase()+_u.slice(1);Hn(Eb,"on"+Tb)}Hn(rm,"onAnimationEnd"),Hn(im,"onAnimationIteration"),Hn(am,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(om,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function um(r,o,u){var f=r.type||"unknown-event";r.currentTarget=u,Go(f,o,void 0,r),r.currentTarget=null}function dm(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],p=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var w=f.length-1;0<=w;w--){var T=f[w],O=T.instance,V=T.currentTarget;if(T=T.listener,O!==y&&p.isPropagationStopped())break e;um(p,T,V),y=O}else for(w=0;w<f.length;w++){if(T=f[w],O=T.instance,V=T.currentTarget,T=T.listener,O!==y&&p.isPropagationStopped())break e;um(p,T,V),y=O}}}if(gs)throw r=dt,gs=!1,dt=null,r}function tt(r,o){var u=o[Au];u===void 0&&(u=o[Au]=new Set);var f=r+"__bubble";u.has(f)||(hm(o,r,2,!1),u.add(f))}function Nu(r,o,u){var f=0;o&&(f|=4),hm(u,r,f,o)}var ll="_reactListening"+Math.random().toString(36).slice(2);function Oa(r){if(!r[ll]){r[ll]=!0,n.forEach(function(u){u!=="selectionchange"&&(Pb.has(u)||Nu(u,!1,r),Nu(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[ll]||(o[ll]=!0,Nu("selectionchange",!1,o))}}function hm(r,o,u,f){switch(If(o)){case 1:var p=Hv;break;case 4:p=Vv;break;default:p=lu}u=p.bind(null,o,u,r),p=void 0,!z||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(o,u,{capture:!0,passive:p}):r.addEventListener(o,u,!0):p!==void 0?r.addEventListener(o,u,{passive:p}):r.addEventListener(o,u,!1)}function Su(r,o,u,f,p){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var T=f.stateNode.containerInfo;if(T===p||T.nodeType===8&&T.parentNode===p)break;if(w===4)for(w=f.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;w=w.return}for(;T!==null;){if(w=_r(T),w===null)return;if(O=w.tag,O===5||O===6){f=y=w;continue e}T=T.parentNode}}f=f.return}Fn(function(){var V=y,ee=zt(u),te=[];e:{var X=lm.get(r);if(X!==void 0){var de=du,me=r;switch(r){case"keypress":if(sl(u)===0)break e;case"keydown":case"keyup":de=ab;break;case"focusin":me="focus",de=mu;break;case"focusout":me="blur",de=mu;break;case"beforeblur":case"afterblur":de=mu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=cb;break;case rm:case im:case am:de=Qv;break;case om:de=db;break;case"scroll":de=qv;break;case"wheel":de=fb;break;case"copy":case"cut":case"paste":de=Zv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=zf}var xe=(o&4)!==0,yt=!xe&&r==="scroll",U=xe?X!==null?X+"Capture":null:X;xe=[];for(var F=V,H;F!==null;){H=F;var ne=H.stateNode;if(H.tag===5&&ne!==null&&(H=ne,U!==null&&(ne=xt(F,U),ne!=null&&xe.push(Ra(F,ne,H)))),yt)break;F=F.return}0<xe.length&&(X=new de(X,me,null,u,ee),te.push({event:X,listeners:xe}))}}if((o&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",X&&u!==js&&(me=u.relatedTarget||u.fromElement)&&(_r(me)||me[gn]))break e;if((de||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,de?(me=u.relatedTarget||u.toElement,de=V,me=me?_r(me):null,me!==null&&(yt=Qt(me),me!==yt||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=V),de!==me)){if(xe=Ff,ne="onMouseLeave",U="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(xe=zf,ne="onPointerLeave",U="onPointerEnter",F="pointer"),yt=de==null?X:pi(de),H=me==null?X:pi(me),X=new xe(ne,F+"leave",de,u,ee),X.target=yt,X.relatedTarget=H,ne=null,_r(ee)===V&&(xe=new xe(U,F+"enter",me,u,ee),xe.target=H,xe.relatedTarget=yt,ne=xe),yt=ne,de&&me)t:{for(xe=de,U=me,F=0,H=xe;H;H=mi(H))F++;for(H=0,ne=U;ne;ne=mi(ne))H++;for(;0<F-H;)xe=mi(xe),F--;for(;0<H-F;)U=mi(U),H--;for(;F--;){if(xe===U||U!==null&&xe===U.alternate)break t;xe=mi(xe),U=mi(U)}xe=null}else xe=null;de!==null&&fm(te,X,de,xe,!1),me!==null&&yt!==null&&fm(te,yt,me,xe,!0)}}e:{if(X=V?pi(V):window,de=X.nodeName&&X.nodeName.toLowerCase(),de==="select"||de==="input"&&X.type==="file")var ve=bb;else if(qf(X))if(Yf)ve=_b;else{ve=jb;var Ne=wb}else(de=X.nodeName)&&de.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ve=kb);if(ve&&(ve=ve(r,V))){Gf(te,ve,u,ee);break e}Ne&&Ne(r,X,V),r==="focusout"&&(Ne=X._wrapperState)&&Ne.controlled&&X.type==="number"&&Jt(X,"number",X.value)}switch(Ne=V?pi(V):window,r){case"focusin":(qf(Ne)||Ne.contentEditable==="true")&&(hi=Ne,bu=V,Ma=null);break;case"focusout":Ma=bu=hi=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,sm(te,u,ee);break;case"selectionchange":if(Cb)break;case"keydown":case"keyup":sm(te,u,ee)}var Se;if(pu)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else di?Hf(r,u)&&(Te="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Te="onCompositionStart");Te&&(Bf&&u.locale!=="ko"&&(di||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&di&&(Se=Df()):(Wn=ee,uu="value"in Wn?Wn.value:Wn.textContent,di=!0)),Ne=cl(V,Te),0<Ne.length&&(Te=new $f(Te,r,null,u,ee),te.push({event:Te,listeners:Ne}),Se?Te.data=Se:(Se=Vf(u),Se!==null&&(Te.data=Se)))),(Se=gb?pb(r,u):xb(r,u))&&(V=cl(V,"onBeforeInput"),0<V.length&&(ee=new $f("onBeforeInput","beforeinput",null,u,ee),te.push({event:ee,listeners:V}),ee.data=Se))}dm(te,o)})}function Ra(r,o,u){return{instance:r,listener:o,currentTarget:u}}function cl(r,o){for(var u=o+"Capture",f=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=xt(r,u),y!=null&&f.unshift(Ra(r,y,p)),y=xt(r,o),y!=null&&f.push(Ra(r,y,p))),r=r.return}return f}function mi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function fm(r,o,u,f,p){for(var y=o._reactName,w=[];u!==null&&u!==f;){var T=u,O=T.alternate,V=T.stateNode;if(O!==null&&O===f)break;T.tag===5&&V!==null&&(T=V,p?(O=xt(u,y),O!=null&&w.unshift(Ra(u,O,T))):p||(O=xt(u,y),O!=null&&w.push(Ra(u,O,T)))),u=u.return}w.length!==0&&r.push({event:o,listeners:w})}var Mb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function mm(r){return(typeof r=="string"?r:""+r).replace(Mb,`
`).replace(Ab,"")}function ul(r,o,u){if(o=mm(o),mm(r)!==o&&u)throw Error(t(425))}function dl(){}var Cu=null,Eu=null;function Tu(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Pu=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(r){return gm.resolve(null).then(r).catch(Ib)}:Pu;function Ib(r){setTimeout(function(){throw r})}function Mu(r,o){var u=o,f=0;do{var p=u.nextSibling;if(r.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(f===0){r.removeChild(p),_a(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=p}while(u);_a(o)}function Vn(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function pm(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}var gi=Math.random().toString(36).slice(2),tn="__reactFiber$"+gi,Ia="__reactProps$"+gi,gn="__reactContainer$"+gi,Au="__reactEvents$"+gi,Db="__reactListeners$"+gi,Lb="__reactHandles$"+gi;function _r(r){var o=r[tn];if(o)return o;for(var u=r.parentNode;u;){if(o=u[gn]||u[tn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=pm(r);r!==null;){if(u=r[tn])return u;r=pm(r)}return o}r=u,u=r.parentNode}return null}function Da(r){return r=r[tn]||r[gn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function pi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function hl(r){return r[Ia]||null}var Ou=[],xi=-1;function qn(r){return{current:r}}function st(r){0>xi||(r.current=Ou[xi],Ou[xi]=null,xi--)}function Ze(r,o){xi++,Ou[xi]=r.current,r.current=o}var Gn={},Ut=qn(Gn),ns=qn(!1),Nr=Gn;function yi(r,o){var u=r.type.contextTypes;if(!u)return Gn;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in u)p[y]=o[y];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=p),p}function rs(r){return r=r.childContextTypes,r!=null}function fl(){st(ns),st(Ut)}function xm(r,o,u){if(Ut.current!==Gn)throw Error(t(168));Ze(Ut,o),Ze(ns,u)}function ym(r,o,u){var f=r.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var p in f)if(!(p in o))throw Error(t(108,je(r)||"Unknown",p));return A({},u,f)}function ml(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Gn,Nr=Ut.current,Ze(Ut,r),Ze(ns,ns.current),!0}function vm(r,o,u){var f=r.stateNode;if(!f)throw Error(t(169));u?(r=ym(r,o,Nr),f.__reactInternalMemoizedMergedChildContext=r,st(ns),st(Ut),Ze(Ut,r)):st(ns),Ze(ns,u)}var pn=null,gl=!1,Ru=!1;function bm(r){pn===null?pn=[r]:pn.push(r)}function Fb(r){gl=!0,bm(r)}function Yn(){if(!Ru&&pn!==null){Ru=!0;var r=0,o=Ge;try{var u=pn;for(Ge=1;r<u.length;r++){var f=u[r];do f=f(!0);while(f!==null)}pn=null,gl=!1}catch(p){throw pn!==null&&(pn=pn.slice(r+1)),D(le,Yn),p}finally{Ge=o,Ru=!1}}return null}var vi=[],bi=0,pl=null,xl=0,_s=[],Ns=0,Sr=null,xn=1,yn="";function Cr(r,o){vi[bi++]=xl,vi[bi++]=pl,pl=r,xl=o}function wm(r,o,u){_s[Ns++]=xn,_s[Ns++]=yn,_s[Ns++]=Sr,Sr=r;var f=xn;r=yn;var p=32-Bt(f)-1;f&=~(1<<p),u+=1;var y=32-Bt(o)+p;if(30<y){var w=p-p%5;y=(f&(1<<w)-1).toString(32),f>>=w,p-=w,xn=1<<32-Bt(o)+p|u<<p|f,yn=y+r}else xn=1<<y|u<<p|f,yn=r}function Iu(r){r.return!==null&&(Cr(r,1),wm(r,1,0))}function Du(r){for(;r===pl;)pl=vi[--bi],vi[bi]=null,xl=vi[--bi],vi[bi]=null;for(;r===Sr;)Sr=_s[--Ns],_s[Ns]=null,yn=_s[--Ns],_s[Ns]=null,xn=_s[--Ns],_s[Ns]=null}var xs=null,ys=null,lt=!1,Vs=null;function jm(r,o){var u=Ts(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=r,o=r.deletions,o===null?(r.deletions=[u],r.flags|=16):o.push(u)}function km(r,o){switch(r.tag){case 5:var u=r.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,xs=r,ys=Vn(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,xs=r,ys=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Sr!==null?{id:xn,overflow:yn}:null,r.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Ts(18,null,null,0),u.stateNode=o,u.return=r,r.child=u,xs=r,ys=null,!0):!1;default:return!1}}function Lu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Fu(r){if(lt){var o=ys;if(o){var u=o;if(!km(r,o)){if(Lu(r))throw Error(t(418));o=Vn(u.nextSibling);var f=xs;o&&km(r,o)?jm(f,u):(r.flags=r.flags&-4097|2,lt=!1,xs=r)}}else{if(Lu(r))throw Error(t(418));r.flags=r.flags&-4097|2,lt=!1,xs=r}}}function _m(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;xs=r}function yl(r){if(r!==xs)return!1;if(!lt)return _m(r),lt=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!Tu(r.type,r.memoizedProps)),o&&(o=ys)){if(Lu(r))throw Nm(),Error(t(418));for(;o;)jm(r,o),o=Vn(o.nextSibling)}if(_m(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(o===0){ys=Vn(r.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}r=r.nextSibling}ys=null}}else ys=xs?Vn(r.stateNode.nextSibling):null;return!0}function Nm(){for(var r=ys;r;)r=Vn(r.nextSibling)}function wi(){ys=xs=null,lt=!1}function $u(r){Vs===null?Vs=[r]:Vs.push(r)}var $b=I.ReactCurrentBatchConfig;function La(r,o,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,r));var p=f,y=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(w){var T=p.refs;w===null?delete T[y]:T[y]=w},o._stringRef=y,o)}if(typeof r!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,r))}return r}function vl(r,o){throw r=Object.prototype.toString.call(o),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function Sm(r){var o=r._init;return o(r._payload)}function Cm(r){function o(U,F){if(r){var H=U.deletions;H===null?(U.deletions=[F],U.flags|=16):H.push(F)}}function u(U,F){if(!r)return null;for(;F!==null;)o(U,F),F=F.sibling;return null}function f(U,F){for(U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function p(U,F){return U=sr(U,F),U.index=0,U.sibling=null,U}function y(U,F,H){return U.index=H,r?(H=U.alternate,H!==null?(H=H.index,H<F?(U.flags|=2,F):H):(U.flags|=2,F)):(U.flags|=1048576,F)}function w(U){return r&&U.alternate===null&&(U.flags|=2),U}function T(U,F,H,ne){return F===null||F.tag!==6?(F=Pd(H,U.mode,ne),F.return=U,F):(F=p(F,H),F.return=U,F)}function O(U,F,H,ne){var ve=H.type;return ve===G?ee(U,F,H.props.children,ne,H.key):F!==null&&(F.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ce&&Sm(ve)===F.type)?(ne=p(F,H.props),ne.ref=La(U,F,H),ne.return=U,ne):(ne=Wl(H.type,H.key,H.props,null,U.mode,ne),ne.ref=La(U,F,H),ne.return=U,ne)}function V(U,F,H,ne){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=Md(H,U.mode,ne),F.return=U,F):(F=p(F,H.children||[]),F.return=U,F)}function ee(U,F,H,ne,ve){return F===null||F.tag!==7?(F=Ir(H,U.mode,ne,ve),F.return=U,F):(F=p(F,H),F.return=U,F)}function te(U,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Pd(""+F,U.mode,H),F.return=U,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case L:return H=Wl(F.type,F.key,F.props,null,U.mode,H),H.ref=La(U,null,F),H.return=U,H;case B:return F=Md(F,U.mode,H),F.return=U,F;case ce:var ne=F._init;return te(U,ne(F._payload),H)}if(Fs(F)||W(F))return F=Ir(F,U.mode,H,null),F.return=U,F;vl(U,F)}return null}function X(U,F,H,ne){var ve=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ve!==null?null:T(U,F,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return H.key===ve?O(U,F,H,ne):null;case B:return H.key===ve?V(U,F,H,ne):null;case ce:return ve=H._init,X(U,F,ve(H._payload),ne)}if(Fs(H)||W(H))return ve!==null?null:ee(U,F,H,ne,null);vl(U,H)}return null}function de(U,F,H,ne,ve){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get(H)||null,T(F,U,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case L:return U=U.get(ne.key===null?H:ne.key)||null,O(F,U,ne,ve);case B:return U=U.get(ne.key===null?H:ne.key)||null,V(F,U,ne,ve);case ce:var Ne=ne._init;return de(U,F,H,Ne(ne._payload),ve)}if(Fs(ne)||W(ne))return U=U.get(H)||null,ee(F,U,ne,ve,null);vl(F,ne)}return null}function me(U,F,H,ne){for(var ve=null,Ne=null,Se=F,Te=F=0,Ot=null;Se!==null&&Te<H.length;Te++){Se.index>Te?(Ot=Se,Se=null):Ot=Se.sibling;var Be=X(U,Se,H[Te],ne);if(Be===null){Se===null&&(Se=Ot);break}r&&Se&&Be.alternate===null&&o(U,Se),F=y(Be,F,Te),Ne===null?ve=Be:Ne.sibling=Be,Ne=Be,Se=Ot}if(Te===H.length)return u(U,Se),lt&&Cr(U,Te),ve;if(Se===null){for(;Te<H.length;Te++)Se=te(U,H[Te],ne),Se!==null&&(F=y(Se,F,Te),Ne===null?ve=Se:Ne.sibling=Se,Ne=Se);return lt&&Cr(U,Te),ve}for(Se=f(U,Se);Te<H.length;Te++)Ot=de(Se,U,Te,H[Te],ne),Ot!==null&&(r&&Ot.alternate!==null&&Se.delete(Ot.key===null?Te:Ot.key),F=y(Ot,F,Te),Ne===null?ve=Ot:Ne.sibling=Ot,Ne=Ot);return r&&Se.forEach(function(nr){return o(U,nr)}),lt&&Cr(U,Te),ve}function xe(U,F,H,ne){var ve=W(H);if(typeof ve!="function")throw Error(t(150));if(H=ve.call(H),H==null)throw Error(t(151));for(var Ne=ve=null,Se=F,Te=F=0,Ot=null,Be=H.next();Se!==null&&!Be.done;Te++,Be=H.next()){Se.index>Te?(Ot=Se,Se=null):Ot=Se.sibling;var nr=X(U,Se,Be.value,ne);if(nr===null){Se===null&&(Se=Ot);break}r&&Se&&nr.alternate===null&&o(U,Se),F=y(nr,F,Te),Ne===null?ve=nr:Ne.sibling=nr,Ne=nr,Se=Ot}if(Be.done)return u(U,Se),lt&&Cr(U,Te),ve;if(Se===null){for(;!Be.done;Te++,Be=H.next())Be=te(U,Be.value,ne),Be!==null&&(F=y(Be,F,Te),Ne===null?ve=Be:Ne.sibling=Be,Ne=Be);return lt&&Cr(U,Te),ve}for(Se=f(U,Se);!Be.done;Te++,Be=H.next())Be=de(Se,U,Te,Be.value,ne),Be!==null&&(r&&Be.alternate!==null&&Se.delete(Be.key===null?Te:Be.key),F=y(Be,F,Te),Ne===null?ve=Be:Ne.sibling=Be,Ne=Be);return r&&Se.forEach(function(yw){return o(U,yw)}),lt&&Cr(U,Te),ve}function yt(U,F,H,ne){if(typeof H=="object"&&H!==null&&H.type===G&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case L:e:{for(var ve=H.key,Ne=F;Ne!==null;){if(Ne.key===ve){if(ve=H.type,ve===G){if(Ne.tag===7){u(U,Ne.sibling),F=p(Ne,H.props.children),F.return=U,U=F;break e}}else if(Ne.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ce&&Sm(ve)===Ne.type){u(U,Ne.sibling),F=p(Ne,H.props),F.ref=La(U,Ne,H),F.return=U,U=F;break e}u(U,Ne);break}else o(U,Ne);Ne=Ne.sibling}H.type===G?(F=Ir(H.props.children,U.mode,ne,H.key),F.return=U,U=F):(ne=Wl(H.type,H.key,H.props,null,U.mode,ne),ne.ref=La(U,F,H),ne.return=U,U=ne)}return w(U);case B:e:{for(Ne=H.key;F!==null;){if(F.key===Ne)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){u(U,F.sibling),F=p(F,H.children||[]),F.return=U,U=F;break e}else{u(U,F);break}else o(U,F);F=F.sibling}F=Md(H,U.mode,ne),F.return=U,U=F}return w(U);case ce:return Ne=H._init,yt(U,F,Ne(H._payload),ne)}if(Fs(H))return me(U,F,H,ne);if(W(H))return xe(U,F,H,ne);vl(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(u(U,F.sibling),F=p(F,H),F.return=U,U=F):(u(U,F),F=Pd(H,U.mode,ne),F.return=U,U=F),w(U)):u(U,F)}return yt}var ji=Cm(!0),Em=Cm(!1),bl=qn(null),wl=null,ki=null,zu=null;function Bu(){zu=ki=wl=null}function Uu(r){var o=bl.current;st(bl),r._currentValue=o}function Wu(r,o,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===u)break;r=r.return}}function _i(r,o){wl=r,zu=ki=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&o)!==0&&(is=!0),r.firstContext=null)}function Ss(r){var o=r._currentValue;if(zu!==r)if(r={context:r,memoizedValue:o,next:null},ki===null){if(wl===null)throw Error(t(308));ki=r,wl.dependencies={lanes:0,firstContext:r}}else ki=ki.next=r;return o}var Er=null;function Hu(r){Er===null?Er=[r]:Er.push(r)}function Tm(r,o,u,f){var p=o.interleaved;return p===null?(u.next=u,Hu(o)):(u.next=p.next,p.next=u),o.interleaved=u,vn(r,f)}function vn(r,o){r.lanes|=o;var u=r.alternate;for(u!==null&&(u.lanes|=o),u=r,r=r.return;r!==null;)r.childLanes|=o,u=r.alternate,u!==null&&(u.childLanes|=o),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Kn=!1;function Vu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pm(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function bn(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function Jn(r,o,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Fe&2)!==0){var p=f.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),f.pending=o,vn(r,u)}return p=f.interleaved,p===null?(o.next=o,Hu(f)):(o.next=p.next,p.next=o),f.interleaved=o,vn(r,u)}function jl(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,iu(r,u)}}function Mm(r,o){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var w={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?p=y=w:y=y.next=w,u=u.next}while(u!==null);y===null?p=y=o:y=y.next=o}else p=y=o;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,effects:f.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}function kl(r,o,u,f){var p=r.updateQueue;Kn=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var O=T,V=O.next;O.next=null,w===null?y=V:w.next=V,w=O;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,T=ee.lastBaseUpdate,T!==w&&(T===null?ee.firstBaseUpdate=V:T.next=V,ee.lastBaseUpdate=O))}if(y!==null){var te=p.baseState;w=0,ee=V=O=null,T=y;do{var X=T.lane,de=T.eventTime;if((f&X)===X){ee!==null&&(ee=ee.next={eventTime:de,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var me=r,xe=T;switch(X=o,de=u,xe.tag){case 1:if(me=xe.payload,typeof me=="function"){te=me.call(de,te,X);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=xe.payload,X=typeof me=="function"?me.call(de,te,X):me,X==null)break e;te=A({},te,X);break e;case 2:Kn=!0}}T.callback!==null&&T.lane!==0&&(r.flags|=64,X=p.effects,X===null?p.effects=[T]:X.push(T))}else de={eventTime:de,lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ee===null?(V=ee=de,O=te):ee=ee.next=de,w|=X;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;X=T,T=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);if(ee===null&&(O=te),p.baseState=O,p.firstBaseUpdate=V,p.lastBaseUpdate=ee,o=p.shared.interleaved,o!==null){p=o;do w|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);Mr|=w,r.lanes=w,r.memoizedState=te}}function Am(r,o,u){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var f=r[o],p=f.callback;if(p!==null){if(f.callback=null,f=u,typeof p!="function")throw Error(t(191,p));p.call(f)}}}var Fa={},sn=qn(Fa),$a=qn(Fa),za=qn(Fa);function Tr(r){if(r===Fa)throw Error(t(174));return r}function qu(r,o){switch(Ze(za,o),Ze($a,r),Ze(sn,Fa),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:$e(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=$e(o,r)}st(sn),Ze(sn,o)}function Ni(){st(sn),st($a),st(za)}function Om(r){Tr(za.current);var o=Tr(sn.current),u=$e(o,r.type);o!==u&&(Ze($a,r),Ze(sn,u))}function Gu(r){$a.current===r&&(st(sn),st($a))}var ht=qn(0);function _l(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Yu=[];function Ku(){for(var r=0;r<Yu.length;r++)Yu[r]._workInProgressVersionPrimary=null;Yu.length=0}var Nl=I.ReactCurrentDispatcher,Ju=I.ReactCurrentBatchConfig,Pr=0,ft=null,_t=null,Mt=null,Sl=!1,Ba=!1,Ua=0,zb=0;function Wt(){throw Error(t(321))}function Qu(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Hs(r[u],o[u]))return!1;return!0}function Xu(r,o,u,f,p,y){if(Pr=y,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Nl.current=r===null||r.memoizedState===null?Hb:Vb,r=u(f,p),Ba){y=0;do{if(Ba=!1,Ua=0,25<=y)throw Error(t(301));y+=1,Mt=_t=null,o.updateQueue=null,Nl.current=qb,r=u(f,p)}while(Ba)}if(Nl.current=Tl,o=_t!==null&&_t.next!==null,Pr=0,Mt=_t=ft=null,Sl=!1,o)throw Error(t(300));return r}function Zu(){var r=Ua!==0;return Ua=0,r}function nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ft.memoizedState=Mt=r:Mt=Mt.next=r,Mt}function Cs(){if(_t===null){var r=ft.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var o=Mt===null?ft.memoizedState:Mt.next;if(o!==null)Mt=o,_t=r;else{if(r===null)throw Error(t(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Mt===null?ft.memoizedState=Mt=r:Mt=Mt.next=r}return Mt}function Wa(r,o){return typeof o=="function"?o(r):o}function ed(r){var o=Cs(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var f=_t,p=f.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}f.baseQueue=p=y,u.pending=null}if(p!==null){y=p.next,f=f.baseState;var T=w=null,O=null,V=y;do{var ee=V.lane;if((Pr&ee)===ee)O!==null&&(O=O.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),f=V.hasEagerState?V.eagerState:r(f,V.action);else{var te={lane:ee,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};O===null?(T=O=te,w=f):O=O.next=te,ft.lanes|=ee,Mr|=ee}V=V.next}while(V!==null&&V!==y);O===null?w=f:O.next=T,Hs(f,o.memoizedState)||(is=!0),o.memoizedState=f,o.baseState=w,o.baseQueue=O,u.lastRenderedState=f}if(r=u.interleaved,r!==null){p=r;do y=p.lane,ft.lanes|=y,Mr|=y,p=p.next;while(p!==r)}else p===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function td(r){var o=Cs(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var f=u.dispatch,p=u.pending,y=o.memoizedState;if(p!==null){u.pending=null;var w=p=p.next;do y=r(y,w.action),w=w.next;while(w!==p);Hs(y,o.memoizedState)||(is=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,f]}function Rm(){}function Im(r,o){var u=ft,f=Cs(),p=o(),y=!Hs(f.memoizedState,p);if(y&&(f.memoizedState=p,is=!0),f=f.queue,sd(Fm.bind(null,u,f,r),[r]),f.getSnapshot!==o||y||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,Ha(9,Lm.bind(null,u,f,p,o),void 0,null),At===null)throw Error(t(349));(Pr&30)!==0||Dm(u,o,p)}return p}function Dm(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function Lm(r,o,u,f){o.value=u,o.getSnapshot=f,$m(o)&&zm(r)}function Fm(r,o,u){return u(function(){$m(o)&&zm(r)})}function $m(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Hs(r,u)}catch{return!0}}function zm(r){var o=vn(r,1);o!==null&&Ks(o,r,1,-1)}function Bm(r){var o=nn();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:r},o.queue=r,r=r.dispatch=Wb.bind(null,ft,r),[o.memoizedState,r]}function Ha(r,o,u,f){return r={tag:r,create:o,destroy:u,deps:f,next:null},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.lastEffect=r.next=r):(u=o.lastEffect,u===null?o.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,o.lastEffect=r)),r}function Um(){return Cs().memoizedState}function Cl(r,o,u,f){var p=nn();ft.flags|=r,p.memoizedState=Ha(1|o,u,void 0,f===void 0?null:f)}function El(r,o,u,f){var p=Cs();f=f===void 0?null:f;var y=void 0;if(_t!==null){var w=_t.memoizedState;if(y=w.destroy,f!==null&&Qu(f,w.deps)){p.memoizedState=Ha(o,u,y,f);return}}ft.flags|=r,p.memoizedState=Ha(1|o,u,y,f)}function Wm(r,o){return Cl(8390656,8,r,o)}function sd(r,o){return El(2048,8,r,o)}function Hm(r,o){return El(4,2,r,o)}function Vm(r,o){return El(4,4,r,o)}function qm(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Gm(r,o,u){return u=u!=null?u.concat([r]):null,El(4,4,qm.bind(null,o,r),u)}function nd(){}function Ym(r,o){var u=Cs();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Qu(o,f[1])?f[0]:(u.memoizedState=[r,o],r)}function Km(r,o){var u=Cs();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Qu(o,f[1])?f[0]:(r=r(),u.memoizedState=[r,o],r)}function Jm(r,o,u){return(Pr&21)===0?(r.baseState&&(r.baseState=!1,is=!0),r.memoizedState=u):(Hs(u,o)||(u=Sf(),ft.lanes|=u,Mr|=u,r.baseState=!0),o)}function Bb(r,o){var u=Ge;Ge=u!==0&&4>u?u:4,r(!0);var f=Ju.transition;Ju.transition={};try{r(!1),o()}finally{Ge=u,Ju.transition=f}}function Qm(){return Cs().memoizedState}function Ub(r,o,u){var f=er(r);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Xm(r))Zm(o,u);else if(u=Tm(r,o,u,f),u!==null){var p=Zt();Ks(u,r,f,p),eg(u,o,f)}}function Wb(r,o,u){var f=er(r),p={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Xm(r))Zm(o,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var w=o.lastRenderedState,T=y(w,u);if(p.hasEagerState=!0,p.eagerState=T,Hs(T,w)){var O=o.interleaved;O===null?(p.next=p,Hu(o)):(p.next=O.next,O.next=p),o.interleaved=p;return}}catch{}finally{}u=Tm(r,o,p,f),u!==null&&(p=Zt(),Ks(u,r,f,p),eg(u,o,f))}}function Xm(r){var o=r.alternate;return r===ft||o!==null&&o===ft}function Zm(r,o){Ba=Sl=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function eg(r,o,u){if((u&4194240)!==0){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,iu(r,u)}}var Tl={readContext:Ss,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},Hb={readContext:Ss,useCallback:function(r,o){return nn().memoizedState=[r,o===void 0?null:o],r},useContext:Ss,useEffect:Wm,useImperativeHandle:function(r,o,u){return u=u!=null?u.concat([r]):null,Cl(4194308,4,qm.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Cl(4194308,4,r,o)},useInsertionEffect:function(r,o){return Cl(4,2,r,o)},useMemo:function(r,o){var u=nn();return o=o===void 0?null:o,r=r(),u.memoizedState=[r,o],r},useReducer:function(r,o,u){var f=nn();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},f.queue=r,r=r.dispatch=Ub.bind(null,ft,r),[f.memoizedState,r]},useRef:function(r){var o=nn();return r={current:r},o.memoizedState=r},useState:Bm,useDebugValue:nd,useDeferredValue:function(r){return nn().memoizedState=r},useTransition:function(){var r=Bm(!1),o=r[0];return r=Bb.bind(null,r[1]),nn().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,u){var f=ft,p=nn();if(lt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),At===null)throw Error(t(349));(Pr&30)!==0||Dm(f,o,u)}p.memoizedState=u;var y={value:u,getSnapshot:o};return p.queue=y,Wm(Fm.bind(null,f,y,r),[r]),f.flags|=2048,Ha(9,Lm.bind(null,f,y,u,o),void 0,null),u},useId:function(){var r=nn(),o=At.identifierPrefix;if(lt){var u=yn,f=xn;u=(f&~(1<<32-Bt(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ua++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=zb++,o=":"+o+"r"+u.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},Vb={readContext:Ss,useCallback:Ym,useContext:Ss,useEffect:sd,useImperativeHandle:Gm,useInsertionEffect:Hm,useLayoutEffect:Vm,useMemo:Km,useReducer:ed,useRef:Um,useState:function(){return ed(Wa)},useDebugValue:nd,useDeferredValue:function(r){var o=Cs();return Jm(o,_t.memoizedState,r)},useTransition:function(){var r=ed(Wa)[0],o=Cs().memoizedState;return[r,o]},useMutableSource:Rm,useSyncExternalStore:Im,useId:Qm,unstable_isNewReconciler:!1},qb={readContext:Ss,useCallback:Ym,useContext:Ss,useEffect:sd,useImperativeHandle:Gm,useInsertionEffect:Hm,useLayoutEffect:Vm,useMemo:Km,useReducer:td,useRef:Um,useState:function(){return td(Wa)},useDebugValue:nd,useDeferredValue:function(r){var o=Cs();return _t===null?o.memoizedState=r:Jm(o,_t.memoizedState,r)},useTransition:function(){var r=td(Wa)[0],o=Cs().memoizedState;return[r,o]},useMutableSource:Rm,useSyncExternalStore:Im,useId:Qm,unstable_isNewReconciler:!1};function qs(r,o){if(r&&r.defaultProps){o=A({},o),r=r.defaultProps;for(var u in r)o[u]===void 0&&(o[u]=r[u]);return o}return o}function rd(r,o,u,f){o=r.memoizedState,u=u(f,o),u=u==null?o:A({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Pl={isMounted:function(r){return(r=r._reactInternals)?Qt(r)===r:!1},enqueueSetState:function(r,o,u){r=r._reactInternals;var f=Zt(),p=er(r),y=bn(f,p);y.payload=o,u!=null&&(y.callback=u),o=Jn(r,y,p),o!==null&&(Ks(o,r,p,f),jl(o,r,p))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var f=Zt(),p=er(r),y=bn(f,p);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Jn(r,y,p),o!==null&&(Ks(o,r,p,f),jl(o,r,p))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Zt(),f=er(r),p=bn(u,f);p.tag=2,o!=null&&(p.callback=o),o=Jn(r,p,f),o!==null&&(Ks(o,r,f,u),jl(o,r,f))}};function tg(r,o,u,f,p,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,w):o.prototype&&o.prototype.isPureReactComponent?!Pa(u,f)||!Pa(p,y):!0}function sg(r,o,u){var f=!1,p=Gn,y=o.contextType;return typeof y=="object"&&y!==null?y=Ss(y):(p=rs(o)?Nr:Ut.current,f=o.contextTypes,y=(f=f!=null)?yi(r,p):Gn),o=new o(u,y),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Pl,r.stateNode=o,o._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),o}function ng(r,o,u,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==r&&Pl.enqueueReplaceState(o,o.state,null)}function id(r,o,u,f){var p=r.stateNode;p.props=u,p.state=r.memoizedState,p.refs={},Vu(r);var y=o.contextType;typeof y=="object"&&y!==null?p.context=Ss(y):(y=rs(o)?Nr:Ut.current,p.context=yi(r,y)),p.state=r.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(rd(r,o,y,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Pl.enqueueReplaceState(p,p.state,null),kl(r,u,p,f),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Si(r,o){try{var u="",f=o;do u+=be(f),f=f.return;while(f);var p=u}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:o,stack:p,digest:null}}function ad(r,o,u){return{value:r,source:null,stack:u??null,digest:o??null}}function od(r,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Gb=typeof WeakMap=="function"?WeakMap:Map;function rg(r,o,u){u=bn(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Ll||(Ll=!0,jd=f),od(r,o)},u}function ig(r,o,u){u=bn(-1,u),u.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var p=o.value;u.payload=function(){return f(p)},u.callback=function(){od(r,o)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){od(r,o),typeof f!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),u}function ag(r,o,u){var f=r.pingCache;if(f===null){f=r.pingCache=new Gb;var p=new Set;f.set(o,p)}else p=f.get(o),p===void 0&&(p=new Set,f.set(o,p));p.has(u)||(p.add(u),r=ow.bind(null,r,o,u),o.then(r,r))}function og(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function lg(r,o,u,f,p){return(r.mode&1)===0?(r===o?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=bn(-1,1),o.tag=2,Jn(u,o,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Yb=I.ReactCurrentOwner,is=!1;function Xt(r,o,u,f){o.child=r===null?Em(o,null,u,f):ji(o,r.child,u,f)}function cg(r,o,u,f,p){u=u.render;var y=o.ref;return _i(o,p),f=Xu(r,o,u,f,y,p),u=Zu(),r!==null&&!is?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~p,wn(r,o,p)):(lt&&u&&Iu(o),o.flags|=1,Xt(r,o,f,p),o.child)}function ug(r,o,u,f,p){if(r===null){var y=u.type;return typeof y=="function"&&!Td(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,dg(r,o,y,f,p)):(r=Wl(u.type,null,f,o,o.mode,p),r.ref=o.ref,r.return=o,o.child=r)}if(y=r.child,(r.lanes&p)===0){var w=y.memoizedProps;if(u=u.compare,u=u!==null?u:Pa,u(w,f)&&r.ref===o.ref)return wn(r,o,p)}return o.flags|=1,r=sr(y,f),r.ref=o.ref,r.return=o,o.child=r}function dg(r,o,u,f,p){if(r!==null){var y=r.memoizedProps;if(Pa(y,f)&&r.ref===o.ref)if(is=!1,o.pendingProps=f=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(is=!0);else return o.lanes=r.lanes,wn(r,o,p)}return ld(r,o,u,f,p)}function hg(r,o,u){var f=o.pendingProps,p=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ei,vs),vs|=u;else{if((u&1073741824)===0)return r=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,Ze(Ei,vs),vs|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:u,Ze(Ei,vs),vs|=f}else y!==null?(f=y.baseLanes|u,o.memoizedState=null):f=u,Ze(Ei,vs),vs|=f;return Xt(r,o,p,u),o.child}function fg(r,o){var u=o.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function ld(r,o,u,f,p){var y=rs(u)?Nr:Ut.current;return y=yi(o,y),_i(o,p),u=Xu(r,o,u,f,y,p),f=Zu(),r!==null&&!is?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~p,wn(r,o,p)):(lt&&f&&Iu(o),o.flags|=1,Xt(r,o,u,p),o.child)}function mg(r,o,u,f,p){if(rs(u)){var y=!0;ml(o)}else y=!1;if(_i(o,p),o.stateNode===null)Al(r,o),sg(o,u,f),id(o,u,f,p),f=!0;else if(r===null){var w=o.stateNode,T=o.memoizedProps;w.props=T;var O=w.context,V=u.contextType;typeof V=="object"&&V!==null?V=Ss(V):(V=rs(u)?Nr:Ut.current,V=yi(o,V));var ee=u.getDerivedStateFromProps,te=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==f||O!==V)&&ng(o,w,f,V),Kn=!1;var X=o.memoizedState;w.state=X,kl(o,f,w,p),O=o.memoizedState,T!==f||X!==O||ns.current||Kn?(typeof ee=="function"&&(rd(o,u,ee,f),O=o.memoizedState),(T=Kn||tg(o,u,T,f,X,O,V))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=O),w.props=f,w.state=O,w.context=V,f=T):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{w=o.stateNode,Pm(r,o),T=o.memoizedProps,V=o.type===o.elementType?T:qs(o.type,T),w.props=V,te=o.pendingProps,X=w.context,O=u.contextType,typeof O=="object"&&O!==null?O=Ss(O):(O=rs(u)?Nr:Ut.current,O=yi(o,O));var de=u.getDerivedStateFromProps;(ee=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==te||X!==O)&&ng(o,w,f,O),Kn=!1,X=o.memoizedState,w.state=X,kl(o,f,w,p);var me=o.memoizedState;T!==te||X!==me||ns.current||Kn?(typeof de=="function"&&(rd(o,u,de,f),me=o.memoizedState),(V=Kn||tg(o,u,V,f,X,me,O)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,me,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,me,O)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=me),w.props=f,w.state=me,w.context=O,f=V):(typeof w.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(o.flags|=1024),f=!1)}return cd(r,o,u,f,y,p)}function cd(r,o,u,f,p,y){fg(r,o);var w=(o.flags&128)!==0;if(!f&&!w)return p&&vm(o,u,!1),wn(r,o,y);f=o.stateNode,Yb.current=o;var T=w&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,r!==null&&w?(o.child=ji(o,r.child,null,y),o.child=ji(o,null,T,y)):Xt(r,o,T,y),o.memoizedState=f.state,p&&vm(o,u,!0),o.child}function gg(r){var o=r.stateNode;o.pendingContext?xm(r,o.pendingContext,o.pendingContext!==o.context):o.context&&xm(r,o.context,!1),qu(r,o.containerInfo)}function pg(r,o,u,f,p){return wi(),$u(p),o.flags|=256,Xt(r,o,u,f),o.child}var ud={dehydrated:null,treeContext:null,retryLane:0};function dd(r){return{baseLanes:r,cachePool:null,transitions:null}}function xg(r,o,u){var f=o.pendingProps,p=ht.current,y=!1,w=(o.flags&128)!==0,T;if((T=w)||(T=r!==null&&r.memoizedState===null?!1:(p&2)!==0),T?(y=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ze(ht,p&1),r===null)return Fu(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((o.mode&1)===0?o.lanes=1:r.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(w=f.children,r=f.fallback,y?(f=o.mode,y=o.child,w={mode:"hidden",children:w},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=Hl(w,f,0,null),r=Ir(r,f,u,null),y.return=o,r.return=o,y.sibling=r,o.child=y,o.child.memoizedState=dd(u),o.memoizedState=ud,r):hd(o,w));if(p=r.memoizedState,p!==null&&(T=p.dehydrated,T!==null))return Kb(r,o,w,f,T,p,u);if(y){y=f.fallback,w=o.mode,p=r.child,T=p.sibling;var O={mode:"hidden",children:f.children};return(w&1)===0&&o.child!==p?(f=o.child,f.childLanes=0,f.pendingProps=O,o.deletions=null):(f=sr(p,O),f.subtreeFlags=p.subtreeFlags&14680064),T!==null?y=sr(T,y):(y=Ir(y,w,u,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,w=r.child.memoizedState,w=w===null?dd(u):{baseLanes:w.baseLanes|u,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=r.childLanes&~u,o.memoizedState=ud,f}return y=r.child,r=y.sibling,f=sr(y,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,r!==null&&(u=o.deletions,u===null?(o.deletions=[r],o.flags|=16):u.push(r)),o.child=f,o.memoizedState=null,f}function hd(r,o){return o=Hl({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Ml(r,o,u,f){return f!==null&&$u(f),ji(o,r.child,null,u),r=hd(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Kb(r,o,u,f,p,y,w){if(u)return o.flags&256?(o.flags&=-257,f=ad(Error(t(422))),Ml(r,o,w,f)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(y=f.fallback,p=o.mode,f=Hl({mode:"visible",children:f.children},p,0,null),y=Ir(y,p,w,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,(o.mode&1)!==0&&ji(o,r.child,null,w),o.child.memoizedState=dd(w),o.memoizedState=ud,y);if((o.mode&1)===0)return Ml(r,o,w,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var T=f.dgst;return f=T,y=Error(t(419)),f=ad(y,f,void 0),Ml(r,o,w,f)}if(T=(w&r.childLanes)!==0,is||T){if(f=At,f!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(f.suspendedLanes|w))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,vn(r,p),Ks(f,r,p,-1))}return Ed(),f=ad(Error(t(421))),Ml(r,o,w,f)}return p.data==="$?"?(o.flags|=128,o.child=r.child,o=lw.bind(null,r),p._reactRetry=o,null):(r=y.treeContext,ys=Vn(p.nextSibling),xs=o,lt=!0,Vs=null,r!==null&&(_s[Ns++]=xn,_s[Ns++]=yn,_s[Ns++]=Sr,xn=r.id,yn=r.overflow,Sr=o),o=hd(o,f.children),o.flags|=4096,o)}function yg(r,o,u){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),Wu(r.return,o,u)}function fd(r,o,u,f,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=p)}function vg(r,o,u){var f=o.pendingProps,p=f.revealOrder,y=f.tail;if(Xt(r,o,f.children,u),f=ht.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yg(r,u,o);else if(r.tag===19)yg(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Ze(ht,f),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(u=o.child,p=null;u!==null;)r=u.alternate,r!==null&&_l(r)===null&&(p=u),u=u.sibling;u=p,u===null?(p=o.child,o.child=null):(p=u.sibling,u.sibling=null),fd(o,!1,p,u,y);break;case"backwards":for(u=null,p=o.child,o.child=null;p!==null;){if(r=p.alternate,r!==null&&_l(r)===null){o.child=p;break}r=p.sibling,p.sibling=u,u=p,p=r}fd(o,!0,u,null,y);break;case"together":fd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Al(r,o){(o.mode&1)===0&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function wn(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Mr|=o.lanes,(u&o.childLanes)===0)return null;if(r!==null&&o.child!==r.child)throw Error(t(153));if(o.child!==null){for(r=o.child,u=sr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=sr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function Jb(r,o,u){switch(o.tag){case 3:gg(o),wi();break;case 5:Om(o);break;case 1:rs(o.type)&&ml(o);break;case 4:qu(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,p=o.memoizedProps.value;Ze(bl,f._currentValue),f._currentValue=p;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Ze(ht,ht.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?xg(r,o,u):(Ze(ht,ht.current&1),r=wn(r,o,u),r!==null?r.sibling:null);Ze(ht,ht.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(r.flags&128)!==0){if(f)return vg(r,o,u);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ze(ht,ht.current),f)break;return null;case 22:case 23:return o.lanes=0,hg(r,o,u)}return wn(r,o,u)}var bg,md,wg,jg;bg=function(r,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},md=function(){},wg=function(r,o,u,f){var p=r.memoizedProps;if(p!==f){r=o.stateNode,Tr(sn.current);var y=null;switch(u){case"input":p=Kt(r,p),f=Kt(r,f),y=[];break;case"select":p=A({},p,{value:void 0}),f=A({},f,{value:void 0}),y=[];break;case"textarea":p=$t(r,p),f=$t(r,f),y=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=dl)}$s(u,f);var w;u=null;for(V in p)if(!f.hasOwnProperty(V)&&p.hasOwnProperty(V)&&p[V]!=null)if(V==="style"){var T=p[V];for(w in T)T.hasOwnProperty(w)&&(u||(u={}),u[w]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(i.hasOwnProperty(V)?y||(y=[]):(y=y||[]).push(V,null));for(V in f){var O=f[V];if(T=p?.[V],f.hasOwnProperty(V)&&O!==T&&(O!=null||T!=null))if(V==="style")if(T){for(w in T)!T.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(u||(u={}),u[w]="");for(w in O)O.hasOwnProperty(w)&&T[w]!==O[w]&&(u||(u={}),u[w]=O[w])}else u||(y||(y=[]),y.push(V,u)),u=O;else V==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,T=T?T.__html:void 0,O!=null&&T!==O&&(y=y||[]).push(V,O)):V==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(V,""+O):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(i.hasOwnProperty(V)?(O!=null&&V==="onScroll"&&tt("scroll",r),y||T===O||(y=[])):(y=y||[]).push(V,O))}u&&(y=y||[]).push("style",u);var V=y;(o.updateQueue=V)&&(o.flags|=4)}},jg=function(r,o,u,f){u!==f&&(o.flags|=4)};function Va(r,o){if(!lt)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Ht(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(o)for(var p=r.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=u,o}function Qb(r,o,u){var f=o.pendingProps;switch(Du(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return rs(o.type)&&fl(),Ht(o),null;case 3:return f=o.stateNode,Ni(),st(ns),st(Ut),Ku(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(yl(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Vs!==null&&(Nd(Vs),Vs=null))),md(r,o),Ht(o),null;case 5:Gu(o);var p=Tr(za.current);if(u=o.type,r!==null&&o.stateNode!=null)wg(r,o,u,f,p),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Ht(o),null}if(r=Tr(sn.current),yl(o)){f=o.stateNode,u=o.type;var y=o.memoizedProps;switch(f[tn]=o,f[Ia]=y,r=(o.mode&1)!==0,u){case"dialog":tt("cancel",f),tt("close",f);break;case"iframe":case"object":case"embed":tt("load",f);break;case"video":case"audio":for(p=0;p<Aa.length;p++)tt(Aa[p],f);break;case"source":tt("error",f);break;case"img":case"image":case"link":tt("error",f),tt("load",f);break;case"details":tt("toggle",f);break;case"input":ut(f,y),tt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},tt("invalid",f);break;case"textarea":ms(f,y),tt("invalid",f)}$s(u,y),p=null;for(var w in y)if(y.hasOwnProperty(w)){var T=y[w];w==="children"?typeof T=="string"?f.textContent!==T&&(y.suppressHydrationWarning!==!0&&ul(f.textContent,T,r),p=["children",T]):typeof T=="number"&&f.textContent!==""+T&&(y.suppressHydrationWarning!==!0&&ul(f.textContent,T,r),p=["children",""+T]):i.hasOwnProperty(w)&&T!=null&&w==="onScroll"&&tt("scroll",f)}switch(u){case"input":mt(f),Ls(f,y,!0);break;case"textarea":mt(f),Re(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=dl)}f=p,o.updateQueue=f,f!==null&&(o.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_e(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=w.createElement(u,{is:f.is}):(r=w.createElement(u),u==="select"&&(w=r,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):r=w.createElementNS(r,u),r[tn]=o,r[Ia]=f,bg(r,o,!1,!1),o.stateNode=r;e:{switch(w=br(u,f),u){case"dialog":tt("cancel",r),tt("close",r),p=f;break;case"iframe":case"object":case"embed":tt("load",r),p=f;break;case"video":case"audio":for(p=0;p<Aa.length;p++)tt(Aa[p],r);p=f;break;case"source":tt("error",r),p=f;break;case"img":case"image":case"link":tt("error",r),tt("load",r),p=f;break;case"details":tt("toggle",r),p=f;break;case"input":ut(r,f),p=Kt(r,f),tt("invalid",r);break;case"option":p=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},p=A({},f,{value:void 0}),tt("invalid",r);break;case"textarea":ms(r,f),p=$t(r,f),tt("invalid",r);break;default:p=f}$s(u,p),T=p;for(y in T)if(T.hasOwnProperty(y)){var O=T[y];y==="style"?mn(r,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&pt(r,O)):y==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&ws(r,O):typeof O=="number"&&ws(r,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?O!=null&&y==="onScroll"&&tt("scroll",r):O!=null&&E(r,y,O,w))}switch(u){case"input":mt(r),Ls(r,f,!1);break;case"textarea":mt(r),Re(r);break;case"option":f.value!=null&&r.setAttribute("value",""+Pe(f.value));break;case"select":r.multiple=!!f.multiple,y=f.value,y!=null?Ve(r,!!f.multiple,y,!1):f.defaultValue!=null&&Ve(r,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=dl)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ht(o),null;case 6:if(r&&o.stateNode!=null)jg(r,o,r.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=Tr(za.current),Tr(sn.current),yl(o)){if(f=o.stateNode,u=o.memoizedProps,f[tn]=o,(y=f.nodeValue!==u)&&(r=xs,r!==null))switch(r.tag){case 3:ul(f.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ul(f.nodeValue,u,(r.mode&1)!==0)}y&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[tn]=o,o.stateNode=f}return Ht(o),null;case 13:if(st(ht),f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(lt&&ys!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Nm(),wi(),o.flags|=98560,y=!1;else if(y=yl(o),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[tn]=o}else wi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),y=!1}else Vs!==null&&(Nd(Vs),Vs=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(r===null||(ht.current&1)!==0?Nt===0&&(Nt=3):Ed())),o.updateQueue!==null&&(o.flags|=4),Ht(o),null);case 4:return Ni(),md(r,o),r===null&&Oa(o.stateNode.containerInfo),Ht(o),null;case 10:return Uu(o.type._context),Ht(o),null;case 17:return rs(o.type)&&fl(),Ht(o),null;case 19:if(st(ht),y=o.memoizedState,y===null)return Ht(o),null;if(f=(o.flags&128)!==0,w=y.rendering,w===null)if(f)Va(y,!1);else{if(Nt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(w=_l(r),w!==null){for(o.flags|=128,Va(y,!1),f=w.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)y=u,r=f,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,r=w.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return Ze(ht,ht.current&1|2),o.child}r=r.sibling}y.tail!==null&&he()>Ti&&(o.flags|=128,f=!0,Va(y,!1),o.lanes=4194304)}else{if(!f)if(r=_l(w),r!==null){if(o.flags|=128,f=!0,u=r.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Va(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!lt)return Ht(o),null}else 2*he()-y.renderingStartTime>Ti&&u!==1073741824&&(o.flags|=128,f=!0,Va(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(u=y.last,u!==null?u.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=he(),o.sibling=null,u=ht.current,Ze(ht,f?u&1|2:u&1),o):(Ht(o),null);case 22:case 23:return Cd(),f=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(vs&1073741824)!==0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Xb(r,o){switch(Du(o),o.tag){case 1:return rs(o.type)&&fl(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Ni(),st(ns),st(Ut),Ku(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 5:return Gu(o),null;case 13:if(st(ht),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(t(340));wi()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return st(ht),null;case 4:return Ni(),null;case 10:return Uu(o.type._context),null;case 22:case 23:return Cd(),null;case 24:return null;default:return null}}var Ol=!1,Vt=!1,Zb=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ci(r,o){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){gt(r,o,f)}else u.current=null}function gd(r,o,u){try{u()}catch(f){gt(r,o,f)}}var kg=!1;function ew(r,o){if(Cu=Zo,r=tm(),vu(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var w=0,T=-1,O=-1,V=0,ee=0,te=r,X=null;t:for(;;){for(var de;te!==u||p!==0&&te.nodeType!==3||(T=w+p),te!==y||f!==0&&te.nodeType!==3||(O=w+f),te.nodeType===3&&(w+=te.nodeValue.length),(de=te.firstChild)!==null;)X=te,te=de;for(;;){if(te===r)break t;if(X===u&&++V===p&&(T=w),X===y&&++ee===f&&(O=w),(de=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=de}u=T===-1||O===-1?null:{start:T,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(Eu={focusedElem:r,selectionRange:u},Zo=!1,fe=o;fe!==null;)if(o=fe,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,fe=r;else for(;fe!==null;){o=fe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var xe=me.memoizedProps,yt=me.memoizedState,U=o.stateNode,F=U.getSnapshotBeforeUpdate(o.elementType===o.type?xe:qs(o.type,xe),yt);U.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){gt(o,o.return,ne)}if(r=o.sibling,r!==null){r.return=o.return,fe=r;break}fe=o.return}return me=kg,kg=!1,me}function qa(r,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&gd(o,u,y)}p=p.next}while(p!==f)}}function Rl(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&r)===r){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function pd(r){var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof o=="function"?o(r):o.current=r}}function _g(r){var o=r.alternate;o!==null&&(r.alternate=null,_g(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[tn],delete o[Ia],delete o[Au],delete o[Db],delete o[Lb])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ng(r){return r.tag===5||r.tag===3||r.tag===4}function Sg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ng(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xd(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(r,o):u.insertBefore(r,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(r,u)):(o=u,o.appendChild(r)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=dl));else if(f!==4&&(r=r.child,r!==null))for(xd(r,o,u),r=r.sibling;r!==null;)xd(r,o,u),r=r.sibling}function yd(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(yd(r,o,u),r=r.sibling;r!==null;)yd(r,o,u),r=r.sibling}var It=null,Gs=!1;function Qn(r,o,u){for(u=u.child;u!==null;)Cg(r,o,u),u=u.sibling}function Cg(r,o,u){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(ga,u)}catch{}switch(u.tag){case 5:Vt||Ci(u,o);case 6:var f=It,p=Gs;It=null,Qn(r,o,u),It=f,Gs=p,It!==null&&(Gs?(r=It,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):It.removeChild(u.stateNode));break;case 18:It!==null&&(Gs?(r=It,u=u.stateNode,r.nodeType===8?Mu(r.parentNode,u):r.nodeType===1&&Mu(r,u),_a(r)):Mu(It,u.stateNode));break;case 4:f=It,p=Gs,It=u.stateNode.containerInfo,Gs=!0,Qn(r,o,u),It=f,Gs=p;break;case 0:case 11:case 14:case 15:if(!Vt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var y=p,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&gd(u,o,w),p=p.next}while(p!==f)}Qn(r,o,u);break;case 1:if(!Vt&&(Ci(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(T){gt(u,o,T)}Qn(r,o,u);break;case 21:Qn(r,o,u);break;case 22:u.mode&1?(Vt=(f=Vt)||u.memoizedState!==null,Qn(r,o,u),Vt=f):Qn(r,o,u);break;default:Qn(r,o,u)}}function Eg(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new Zb),o.forEach(function(f){var p=cw.bind(null,r,f);u.has(f)||(u.add(f),f.then(p,p))})}}function Ys(r,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f];try{var y=r,w=o,T=w;e:for(;T!==null;){switch(T.tag){case 5:It=T.stateNode,Gs=!1;break e;case 3:It=T.stateNode.containerInfo,Gs=!0;break e;case 4:It=T.stateNode.containerInfo,Gs=!0;break e}T=T.return}if(It===null)throw Error(t(160));Cg(y,w,p),It=null,Gs=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(V){gt(p,o,V)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Tg(o,r),o=o.sibling}function Tg(r,o){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ys(o,r),rn(r),f&4){try{qa(3,r,r.return),Rl(3,r)}catch(xe){gt(r,r.return,xe)}try{qa(5,r,r.return)}catch(xe){gt(r,r.return,xe)}}break;case 1:Ys(o,r),rn(r),f&512&&u!==null&&Ci(u,u.return);break;case 5:if(Ys(o,r),rn(r),f&512&&u!==null&&Ci(u,u.return),r.flags&32){var p=r.stateNode;try{ws(p,"")}catch(xe){gt(r,r.return,xe)}}if(f&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,w=u!==null?u.memoizedProps:y,T=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{T==="input"&&y.type==="radio"&&y.name!=null&&Ds(p,y),br(T,w);var V=br(T,y);for(w=0;w<O.length;w+=2){var ee=O[w],te=O[w+1];ee==="style"?mn(p,te):ee==="dangerouslySetInnerHTML"?pt(p,te):ee==="children"?ws(p,te):E(p,ee,te,V)}switch(T){case"input":fn(p,y);break;case"textarea":ue(p,y);break;case"select":var X=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?Ve(p,!!y.multiple,de,!1):X!==!!y.multiple&&(y.defaultValue!=null?Ve(p,!!y.multiple,y.defaultValue,!0):Ve(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ia]=y}catch(xe){gt(r,r.return,xe)}}break;case 6:if(Ys(o,r),rn(r),f&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(xe){gt(r,r.return,xe)}}break;case 3:if(Ys(o,r),rn(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{_a(o.containerInfo)}catch(xe){gt(r,r.return,xe)}break;case 4:Ys(o,r),rn(r);break;case 13:Ys(o,r),rn(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(wd=he())),f&4&&Eg(r);break;case 22:if(ee=u!==null&&u.memoizedState!==null,r.mode&1?(Vt=(V=Vt)||ee,Ys(o,r),Vt=V):Ys(o,r),rn(r),f&8192){if(V=r.memoizedState!==null,(r.stateNode.isHidden=V)&&!ee&&(r.mode&1)!==0)for(fe=r,ee=r.child;ee!==null;){for(te=fe=ee;fe!==null;){switch(X=fe,de=X.child,X.tag){case 0:case 11:case 14:case 15:qa(4,X,X.return);break;case 1:Ci(X,X.return);var me=X.stateNode;if(typeof me.componentWillUnmount=="function"){f=X,u=X.return;try{o=f,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(xe){gt(f,u,xe)}}break;case 5:Ci(X,X.return);break;case 22:if(X.memoizedState!==null){Ag(te);continue}}de!==null?(de.return=X,fe=de):Ag(te)}ee=ee.sibling}e:for(ee=null,te=r;;){if(te.tag===5){if(ee===null){ee=te;try{p=te.stateNode,V?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(T=te.stateNode,O=te.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,T.style.display=ti("display",w))}catch(xe){gt(r,r.return,xe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=V?"":te.memoizedProps}catch(xe){gt(r,r.return,xe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Ys(o,r),rn(r),f&4&&Eg(r);break;case 21:break;default:Ys(o,r),rn(r)}}function rn(r){var o=r.flags;if(o&2){try{e:{for(var u=r.return;u!==null;){if(Ng(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(ws(p,""),f.flags&=-33);var y=Sg(r);yd(r,y,p);break;case 3:case 4:var w=f.stateNode.containerInfo,T=Sg(r);xd(r,T,w);break;default:throw Error(t(161))}}catch(O){gt(r,r.return,O)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function tw(r,o,u){fe=r,Pg(r)}function Pg(r,o,u){for(var f=(r.mode&1)!==0;fe!==null;){var p=fe,y=p.child;if(p.tag===22&&f){var w=p.memoizedState!==null||Ol;if(!w){var T=p.alternate,O=T!==null&&T.memoizedState!==null||Vt;T=Ol;var V=Vt;if(Ol=w,(Vt=O)&&!V)for(fe=p;fe!==null;)w=fe,O=w.child,w.tag===22&&w.memoizedState!==null?Og(p):O!==null?(O.return=w,fe=O):Og(p);for(;y!==null;)fe=y,Pg(y),y=y.sibling;fe=p,Ol=T,Vt=V}Mg(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,fe=y):Mg(r)}}function Mg(r){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Vt||Rl(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Vt)if(u===null)f.componentDidMount();else{var p=o.elementType===o.type?u.memoizedProps:qs(o.type,u.memoizedProps);f.componentDidUpdate(p,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Am(o,y,f);break;case 3:var w=o.updateQueue;if(w!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Am(o,w,u)}break;case 5:var T=o.stateNode;if(u===null&&o.flags&4){u=T;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var V=o.alternate;if(V!==null){var ee=V.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&_a(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Vt||o.flags&512&&pd(o)}catch(X){gt(o,o.return,X)}}if(o===r){fe=null;break}if(u=o.sibling,u!==null){u.return=o.return,fe=u;break}fe=o.return}}function Ag(r){for(;fe!==null;){var o=fe;if(o===r){fe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,fe=u;break}fe=o.return}}function Og(r){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Rl(4,o)}catch(O){gt(o,u,O)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var p=o.return;try{f.componentDidMount()}catch(O){gt(o,p,O)}}var y=o.return;try{pd(o)}catch(O){gt(o,y,O)}break;case 5:var w=o.return;try{pd(o)}catch(O){gt(o,w,O)}}}catch(O){gt(o,o.return,O)}if(o===r){fe=null;break}var T=o.sibling;if(T!==null){T.return=o.return,fe=T;break}fe=o.return}}var sw=Math.ceil,Il=I.ReactCurrentDispatcher,vd=I.ReactCurrentOwner,Es=I.ReactCurrentBatchConfig,Fe=0,At=null,jt=null,Dt=0,vs=0,Ei=qn(0),Nt=0,Ga=null,Mr=0,Dl=0,bd=0,Ya=null,as=null,wd=0,Ti=1/0,jn=null,Ll=!1,jd=null,Xn=null,Fl=!1,Zn=null,$l=0,Ka=0,kd=null,zl=-1,Bl=0;function Zt(){return(Fe&6)!==0?he():zl!==-1?zl:zl=he()}function er(r){return(r.mode&1)===0?1:(Fe&2)!==0&&Dt!==0?Dt&-Dt:$b.transition!==null?(Bl===0&&(Bl=Sf()),Bl):(r=Ge,r!==0||(r=window.event,r=r===void 0?16:If(r.type)),r)}function Ks(r,o,u,f){if(50<Ka)throw Ka=0,kd=null,Error(t(185));va(r,u,f),((Fe&2)===0||r!==At)&&(r===At&&((Fe&2)===0&&(Dl|=u),Nt===4&&tr(r,Dt)),os(r,f),u===1&&Fe===0&&(o.mode&1)===0&&(Ti=he()+500,gl&&Yn()))}function os(r,o){var u=r.callbackNode;$v(r,o);var f=Jo(r,r===At?Dt:0);if(f===0)u!==null&&J(u),r.callbackNode=null,r.callbackPriority=0;else if(o=f&-f,r.callbackPriority!==o){if(u!=null&&J(u),o===1)r.tag===0?Fb(Ig.bind(null,r)):bm(Ig.bind(null,r)),Rb(function(){(Fe&6)===0&&Yn()}),u=null;else{switch(Cf(f)){case 1:u=le;break;case 4:u=wt;break;case 16:u=ks;break;case 536870912:u=ai;break;default:u=ks}u=Wg(u,Rg.bind(null,r))}r.callbackPriority=o,r.callbackNode=u}}function Rg(r,o){if(zl=-1,Bl=0,(Fe&6)!==0)throw Error(t(327));var u=r.callbackNode;if(Pi()&&r.callbackNode!==u)return null;var f=Jo(r,r===At?Dt:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||o)o=Ul(r,f);else{o=f;var p=Fe;Fe|=2;var y=Lg();(At!==r||Dt!==o)&&(jn=null,Ti=he()+500,Or(r,o));do try{iw();break}catch(T){Dg(r,T)}while(!0);Bu(),Il.current=y,Fe=p,jt!==null?o=0:(At=null,Dt=0,o=Nt)}if(o!==0){if(o===2&&(p=nu(r),p!==0&&(f=p,o=_d(r,p))),o===1)throw u=Ga,Or(r,0),tr(r,f),os(r,he()),u;if(o===6)tr(r,f);else{if(p=r.current.alternate,(f&30)===0&&!nw(p)&&(o=Ul(r,f),o===2&&(y=nu(r),y!==0&&(f=y,o=_d(r,y))),o===1))throw u=Ga,Or(r,0),tr(r,f),os(r,he()),u;switch(r.finishedWork=p,r.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Rr(r,as,jn);break;case 3:if(tr(r,f),(f&130023424)===f&&(o=wd+500-he(),10<o)){if(Jo(r,0)!==0)break;if(p=r.suspendedLanes,(p&f)!==f){Zt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Pu(Rr.bind(null,r,as,jn),o);break}Rr(r,as,jn);break;case 4:if(tr(r,f),(f&4194240)===f)break;for(o=r.eventTimes,p=-1;0<f;){var w=31-Bt(f);y=1<<w,w=o[w],w>p&&(p=w),f&=~y}if(f=p,f=he()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*sw(f/1960))-f,10<f){r.timeoutHandle=Pu(Rr.bind(null,r,as,jn),f);break}Rr(r,as,jn);break;case 5:Rr(r,as,jn);break;default:throw Error(t(329))}}}return os(r,he()),r.callbackNode===u?Rg.bind(null,r):null}function _d(r,o){var u=Ya;return r.current.memoizedState.isDehydrated&&(Or(r,o).flags|=256),r=Ul(r,o),r!==2&&(o=as,as=u,o!==null&&Nd(o)),r}function Nd(r){as===null?as=r:as.push.apply(as,r)}function nw(r){for(var o=r;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var p=u[f],y=p.getSnapshot;p=p.value;try{if(!Hs(y(),p))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function tr(r,o){for(o&=~bd,o&=~Dl,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var u=31-Bt(o),f=1<<u;r[u]=-1,o&=~f}}function Ig(r){if((Fe&6)!==0)throw Error(t(327));Pi();var o=Jo(r,0);if((o&1)===0)return os(r,he()),null;var u=Ul(r,o);if(r.tag!==0&&u===2){var f=nu(r);f!==0&&(o=f,u=_d(r,f))}if(u===1)throw u=Ga,Or(r,0),tr(r,o),os(r,he()),u;if(u===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,Rr(r,as,jn),os(r,he()),null}function Sd(r,o){var u=Fe;Fe|=1;try{return r(o)}finally{Fe=u,Fe===0&&(Ti=he()+500,gl&&Yn())}}function Ar(r){Zn!==null&&Zn.tag===0&&(Fe&6)===0&&Pi();var o=Fe;Fe|=1;var u=Es.transition,f=Ge;try{if(Es.transition=null,Ge=1,r)return r()}finally{Ge=f,Es.transition=u,Fe=o,(Fe&6)===0&&Yn()}}function Cd(){vs=Ei.current,st(Ei)}function Or(r,o){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,Ob(u)),jt!==null)for(u=jt.return;u!==null;){var f=u;switch(Du(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&fl();break;case 3:Ni(),st(ns),st(Ut),Ku();break;case 5:Gu(f);break;case 4:Ni();break;case 13:st(ht);break;case 19:st(ht);break;case 10:Uu(f.type._context);break;case 22:case 23:Cd()}u=u.return}if(At=r,jt=r=sr(r.current,null),Dt=vs=o,Nt=0,Ga=null,bd=Dl=Mr=0,as=Ya=null,Er!==null){for(o=0;o<Er.length;o++)if(u=Er[o],f=u.interleaved,f!==null){u.interleaved=null;var p=f.next,y=u.pending;if(y!==null){var w=y.next;y.next=p,f.next=w}u.pending=f}Er=null}return r}function Dg(r,o){do{var u=jt;try{if(Bu(),Nl.current=Tl,Sl){for(var f=ft.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Sl=!1}if(Pr=0,Mt=_t=ft=null,Ba=!1,Ua=0,vd.current=null,u===null||u.return===null){Nt=1,Ga=o,jt=null;break}e:{var y=r,w=u.return,T=u,O=o;if(o=Dt,T.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var V=O,ee=T,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var X=ee.alternate;X?(ee.updateQueue=X.updateQueue,ee.memoizedState=X.memoizedState,ee.lanes=X.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var de=og(w);if(de!==null){de.flags&=-257,lg(de,w,T,y,o),de.mode&1&&ag(y,V,o),o=de,O=V;var me=o.updateQueue;if(me===null){var xe=new Set;xe.add(O),o.updateQueue=xe}else me.add(O);break e}else{if((o&1)===0){ag(y,V,o),Ed();break e}O=Error(t(426))}}else if(lt&&T.mode&1){var yt=og(w);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),lg(yt,w,T,y,o),$u(Si(O,T));break e}}y=O=Si(O,T),Nt!==4&&(Nt=2),Ya===null?Ya=[y]:Ya.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var U=rg(y,O,o);Mm(y,U);break e;case 1:T=O;var F=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Xn===null||!Xn.has(H)))){y.flags|=65536,o&=-o,y.lanes|=o;var ne=ig(y,T,o);Mm(y,ne);break e}}y=y.return}while(y!==null)}$g(u)}catch(ve){o=ve,jt===u&&u!==null&&(jt=u=u.return);continue}break}while(!0)}function Lg(){var r=Il.current;return Il.current=Tl,r===null?Tl:r}function Ed(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),At===null||(Mr&268435455)===0&&(Dl&268435455)===0||tr(At,Dt)}function Ul(r,o){var u=Fe;Fe|=2;var f=Lg();(At!==r||Dt!==o)&&(jn=null,Or(r,o));do try{rw();break}catch(p){Dg(r,p)}while(!0);if(Bu(),Fe=u,Il.current=f,jt!==null)throw Error(t(261));return At=null,Dt=0,Nt}function rw(){for(;jt!==null;)Fg(jt)}function iw(){for(;jt!==null&&!we();)Fg(jt)}function Fg(r){var o=Ug(r.alternate,r,vs);r.memoizedProps=r.pendingProps,o===null?$g(r):jt=o,vd.current=null}function $g(r){var o=r;do{var u=o.alternate;if(r=o.return,(o.flags&32768)===0){if(u=Qb(u,o,vs),u!==null){jt=u;return}}else{if(u=Xb(u,o),u!==null){u.flags&=32767,jt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Nt=6,jt=null;return}}if(o=o.sibling,o!==null){jt=o;return}jt=o=r}while(o!==null);Nt===0&&(Nt=5)}function Rr(r,o,u){var f=Ge,p=Es.transition;try{Es.transition=null,Ge=1,aw(r,o,u,f)}finally{Es.transition=p,Ge=f}return null}function aw(r,o,u,f){do Pi();while(Zn!==null);if((Fe&6)!==0)throw Error(t(327));u=r.finishedWork;var p=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=u.lanes|u.childLanes;if(zv(r,y),r===At&&(jt=At=null,Dt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Fl||(Fl=!0,Wg(ks,function(){return Pi(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=Es.transition,Es.transition=null;var w=Ge;Ge=1;var T=Fe;Fe|=4,vd.current=null,ew(r,u),Tg(u,r),Sb(Eu),Zo=!!Cu,Eu=Cu=null,r.current=u,tw(u),Ce(),Fe=T,Ge=w,Es.transition=y}else r.current=u;if(Fl&&(Fl=!1,Zn=r,$l=p),y=r.pendingLanes,y===0&&(Xn=null),oi(u.stateNode),os(r,he()),o!==null)for(f=r.onRecoverableError,u=0;u<o.length;u++)p=o[u],f(p.value,{componentStack:p.stack,digest:p.digest});if(Ll)throw Ll=!1,r=jd,jd=null,r;return($l&1)!==0&&r.tag!==0&&Pi(),y=r.pendingLanes,(y&1)!==0?r===kd?Ka++:(Ka=0,kd=r):Ka=0,Yn(),null}function Pi(){if(Zn!==null){var r=Cf($l),o=Es.transition,u=Ge;try{if(Es.transition=null,Ge=16>r?16:r,Zn===null)var f=!1;else{if(r=Zn,Zn=null,$l=0,(Fe&6)!==0)throw Error(t(331));var p=Fe;for(Fe|=4,fe=r.current;fe!==null;){var y=fe,w=y.child;if((fe.flags&16)!==0){var T=y.deletions;if(T!==null){for(var O=0;O<T.length;O++){var V=T[O];for(fe=V;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:qa(8,ee,y)}var te=ee.child;if(te!==null)te.return=ee,fe=te;else for(;fe!==null;){ee=fe;var X=ee.sibling,de=ee.return;if(_g(ee),ee===V){fe=null;break}if(X!==null){X.return=de,fe=X;break}fe=de}}}var me=y.alternate;if(me!==null){var xe=me.child;if(xe!==null){me.child=null;do{var yt=xe.sibling;xe.sibling=null,xe=yt}while(xe!==null)}}fe=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,fe=w;else e:for(;fe!==null;){if(y=fe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:qa(9,y,y.return)}var U=y.sibling;if(U!==null){U.return=y.return,fe=U;break e}fe=y.return}}var F=r.current;for(fe=F;fe!==null;){w=fe;var H=w.child;if((w.subtreeFlags&2064)!==0&&H!==null)H.return=w,fe=H;else e:for(w=F;fe!==null;){if(T=fe,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Rl(9,T)}}catch(ve){gt(T,T.return,ve)}if(T===w){fe=null;break e}var ne=T.sibling;if(ne!==null){ne.return=T.return,fe=ne;break e}fe=T.return}}if(Fe=p,Yn(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(ga,r)}catch{}f=!0}return f}finally{Ge=u,Es.transition=o}}return!1}function zg(r,o,u){o=Si(u,o),o=rg(r,o,1),r=Jn(r,o,1),o=Zt(),r!==null&&(va(r,1,o),os(r,o))}function gt(r,o,u){if(r.tag===3)zg(r,r,u);else for(;o!==null;){if(o.tag===3){zg(o,r,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xn===null||!Xn.has(f))){r=Si(u,r),r=ig(o,r,1),o=Jn(o,r,1),r=Zt(),o!==null&&(va(o,1,r),os(o,r));break}}o=o.return}}function ow(r,o,u){var f=r.pingCache;f!==null&&f.delete(o),o=Zt(),r.pingedLanes|=r.suspendedLanes&u,At===r&&(Dt&u)===u&&(Nt===4||Nt===3&&(Dt&130023424)===Dt&&500>he()-wd?Or(r,0):bd|=u),os(r,o)}function Bg(r,o){o===0&&((r.mode&1)===0?o=1:(o=li,li<<=1,(li&130023424)===0&&(li=4194304)));var u=Zt();r=vn(r,o),r!==null&&(va(r,o,u),os(r,u))}function lw(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),Bg(r,u)}function cw(r,o){var u=0;switch(r.tag){case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),Bg(r,u)}var Ug;Ug=function(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps||ns.current)is=!0;else{if((r.lanes&u)===0&&(o.flags&128)===0)return is=!1,Jb(r,o,u);is=(r.flags&131072)!==0}else is=!1,lt&&(o.flags&1048576)!==0&&wm(o,xl,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Al(r,o),r=o.pendingProps;var p=yi(o,Ut.current);_i(o,u),p=Xu(null,o,f,r,p,u);var y=Zu();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,rs(f)?(y=!0,ml(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Vu(o),p.updater=Pl,o.stateNode=p,p._reactInternals=o,id(o,f,r,u),o=cd(null,o,f,!0,y,u)):(o.tag=0,lt&&y&&Iu(o),Xt(null,o,p,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Al(r,o),r=o.pendingProps,p=f._init,f=p(f._payload),o.type=f,p=o.tag=dw(f),r=qs(f,r),p){case 0:o=ld(null,o,f,r,u);break e;case 1:o=mg(null,o,f,r,u);break e;case 11:o=cg(null,o,f,r,u);break e;case 14:o=ug(null,o,f,qs(f.type,r),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,p=o.pendingProps,p=o.elementType===f?p:qs(f,p),ld(r,o,f,p,u);case 1:return f=o.type,p=o.pendingProps,p=o.elementType===f?p:qs(f,p),mg(r,o,f,p,u);case 3:e:{if(gg(o),r===null)throw Error(t(387));f=o.pendingProps,y=o.memoizedState,p=y.element,Pm(r,o),kl(o,f,null,u);var w=o.memoizedState;if(f=w.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=Si(Error(t(423)),o),o=pg(r,o,f,u,p);break e}else if(f!==p){p=Si(Error(t(424)),o),o=pg(r,o,f,u,p);break e}else for(ys=Vn(o.stateNode.containerInfo.firstChild),xs=o,lt=!0,Vs=null,u=Em(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(wi(),f===p){o=wn(r,o,u);break e}Xt(r,o,f,u)}o=o.child}return o;case 5:return Om(o),r===null&&Fu(o),f=o.type,p=o.pendingProps,y=r!==null?r.memoizedProps:null,w=p.children,Tu(f,p)?w=null:y!==null&&Tu(f,y)&&(o.flags|=32),fg(r,o),Xt(r,o,w,u),o.child;case 6:return r===null&&Fu(o),null;case 13:return xg(r,o,u);case 4:return qu(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=ji(o,null,f,u):Xt(r,o,f,u),o.child;case 11:return f=o.type,p=o.pendingProps,p=o.elementType===f?p:qs(f,p),cg(r,o,f,p,u);case 7:return Xt(r,o,o.pendingProps,u),o.child;case 8:return Xt(r,o,o.pendingProps.children,u),o.child;case 12:return Xt(r,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,p=o.pendingProps,y=o.memoizedProps,w=p.value,Ze(bl,f._currentValue),f._currentValue=w,y!==null)if(Hs(y.value,w)){if(y.children===p.children&&!ns.current){o=wn(r,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var T=y.dependencies;if(T!==null){w=y.child;for(var O=T.firstContext;O!==null;){if(O.context===f){if(y.tag===1){O=bn(-1,u&-u),O.tag=2;var V=y.updateQueue;if(V!==null){V=V.shared;var ee=V.pending;ee===null?O.next=O:(O.next=ee.next,ee.next=O),V.pending=O}}y.lanes|=u,O=y.alternate,O!==null&&(O.lanes|=u),Wu(y.return,u,o),T.lanes|=u;break}O=O.next}}else if(y.tag===10)w=y.type===o.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=u,T=w.alternate,T!==null&&(T.lanes|=u),Wu(w,u,o),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===o){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Xt(r,o,p.children,u),o=o.child}return o;case 9:return p=o.type,f=o.pendingProps.children,_i(o,u),p=Ss(p),f=f(p),o.flags|=1,Xt(r,o,f,u),o.child;case 14:return f=o.type,p=qs(f,o.pendingProps),p=qs(f.type,p),ug(r,o,f,p,u);case 15:return dg(r,o,o.type,o.pendingProps,u);case 17:return f=o.type,p=o.pendingProps,p=o.elementType===f?p:qs(f,p),Al(r,o),o.tag=1,rs(f)?(r=!0,ml(o)):r=!1,_i(o,u),sg(o,f,p),id(o,f,p,u),cd(null,o,f,!0,r,u);case 19:return vg(r,o,u);case 22:return hg(r,o,u)}throw Error(t(156,o.tag))};function Wg(r,o){return D(r,o)}function uw(r,o,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(r,o,u,f){return new uw(r,o,u,f)}function Td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function dw(r){if(typeof r=="function")return Td(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ie)return 11;if(r===Q)return 14}return 2}function sr(r,o){var u=r.alternate;return u===null?(u=Ts(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function Wl(r,o,u,f,p,y){var w=2;if(f=r,typeof r=="function")Td(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case G:return Ir(u.children,p,y,o);case q:w=8,p|=8;break;case Z:return r=Ts(12,u,o,p|2),r.elementType=Z,r.lanes=y,r;case Y:return r=Ts(13,u,o,p),r.elementType=Y,r.lanes=y,r;case ae:return r=Ts(19,u,o,p),r.elementType=ae,r.lanes=y,r;case R:return Hl(u,p,y,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case re:w=10;break e;case K:w=9;break e;case ie:w=11;break e;case Q:w=14;break e;case ce:w=16,f=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return o=Ts(w,u,o,p),o.elementType=r,o.type=f,o.lanes=y,o}function Ir(r,o,u,f){return r=Ts(7,r,f,o),r.lanes=u,r}function Hl(r,o,u,f){return r=Ts(22,r,f,o),r.elementType=R,r.lanes=u,r.stateNode={isHidden:!1},r}function Pd(r,o,u){return r=Ts(6,r,null,o),r.lanes=u,r}function Md(r,o,u){return o=Ts(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function hw(r,o,u,f,p){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ru(0),this.expirationTimes=ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ru(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Ad(r,o,u,f,p,y,w,T,O){return r=new hw(r,o,u,T,O),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Ts(3,null,null,o),r.current=y,y.stateNode=r,y.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vu(y),r}function fw(r,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:f==null?null:""+f,children:r,containerInfo:o,implementation:u}}function Hg(r){if(!r)return Gn;r=r._reactInternals;e:{if(Qt(r)!==r||r.tag!==1)throw Error(t(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(rs(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(r.tag===1){var u=r.type;if(rs(u))return ym(r,u,o)}return o}function Vg(r,o,u,f,p,y,w,T,O){return r=Ad(u,f,!0,r,p,y,w,T,O),r.context=Hg(null),u=r.current,f=Zt(),p=er(u),y=bn(f,p),y.callback=o??null,Jn(u,y,p),r.current.lanes=p,va(r,p,f),os(r,f),r}function Vl(r,o,u,f){var p=o.current,y=Zt(),w=er(p);return u=Hg(u),o.context===null?o.context=u:o.pendingContext=u,o=bn(y,w),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Jn(p,o,w),r!==null&&(Ks(r,p,w,y),jl(r,p,w)),w}function ql(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function qg(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Od(r,o){qg(r,o),(r=r.alternate)&&qg(r,o)}function mw(){return null}var Gg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Rd(r){this._internalRoot=r}Gl.prototype.render=Rd.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(t(409));Vl(r,o,null,null)},Gl.prototype.unmount=Rd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Ar(function(){Vl(null,r,null,null)}),o[gn]=null}};function Gl(r){this._internalRoot=r}Gl.prototype.unstable_scheduleHydration=function(r){if(r){var o=Pf();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Un.length&&o!==0&&o<Un[u].priority;u++);Un.splice(u,0,r),u===0&&Of(r)}};function Id(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Yl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Yg(){}function gw(r,o,u,f,p){if(p){if(typeof f=="function"){var y=f;f=function(){var V=ql(w);y.call(V)}}var w=Vg(o,f,r,0,null,!1,!1,"",Yg);return r._reactRootContainer=w,r[gn]=w.current,Oa(r.nodeType===8?r.parentNode:r),Ar(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof f=="function"){var T=f;f=function(){var V=ql(O);T.call(V)}}var O=Ad(r,0,!1,null,null,!1,!1,"",Yg);return r._reactRootContainer=O,r[gn]=O.current,Oa(r.nodeType===8?r.parentNode:r),Ar(function(){Vl(o,O,u,f)}),O}function Kl(r,o,u,f,p){var y=u._reactRootContainer;if(y){var w=y;if(typeof p=="function"){var T=p;p=function(){var O=ql(w);T.call(O)}}Vl(o,w,r,p)}else w=gw(u,o,r,p,f);return ql(w)}Ef=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var u=ya(o.pendingLanes);u!==0&&(iu(o,u|1),os(o,he()),(Fe&6)===0&&(Ti=he()+500,Yn()))}break;case 13:Ar(function(){var f=vn(r,1);if(f!==null){var p=Zt();Ks(f,r,1,p)}}),Od(r,1)}},au=function(r){if(r.tag===13){var o=vn(r,134217728);if(o!==null){var u=Zt();Ks(o,r,134217728,u)}Od(r,134217728)}},Tf=function(r){if(r.tag===13){var o=er(r),u=vn(r,o);if(u!==null){var f=Zt();Ks(u,r,o,f)}Od(r,o)}},Pf=function(){return Ge},Mf=function(r,o){var u=Ge;try{return Ge=r,o()}finally{Ge=u}},zs=function(r,o,u){switch(o){case"input":if(fn(r,u),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==r&&f.form===r.form){var p=hl(f);if(!p)throw Error(t(90));kt(f),fn(f,p)}}}break;case"textarea":ue(r,u);break;case"select":o=u.value,o!=null&&Ve(r,!!u.multiple,o,!1)}},ri=Sd,Pt=Ar;var pw={usingClientEntryPoint:!1,Events:[Da,pi,hl,ni,wr,Sd]},Ja={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xw={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Yo(r),r===null?null:r.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||mw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{ga=Jl.inject(xw),Ws=Jl}catch{}}return ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pw,ls.createPortal=function(r,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Id(o))throw Error(t(200));return fw(r,o,null,u)},ls.createRoot=function(r,o){if(!Id(r))throw Error(t(299));var u=!1,f="",p=Gg;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Ad(r,1,!1,null,null,u,!1,f,p),r[gn]=o.current,Oa(r.nodeType===8?r.parentNode:r),new Rd(o)},ls.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Yo(o),r=r===null?null:r.stateNode,r},ls.flushSync=function(r){return Ar(r)},ls.hydrate=function(r,o,u){if(!Yl(o))throw Error(t(200));return Kl(null,r,o,!0,u)},ls.hydrateRoot=function(r,o,u){if(!Id(r))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,p=!1,y="",w=Gg;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),o=Vg(o,null,r,1,u??null,p,!1,y,w),r[gn]=o.current,Oa(r),f)for(r=0;r<f.length;r++)u=f[r],p=u._getVersion,p=p(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,p]:o.mutableSourceEagerHydrationData.push(u,p);return new Gl(o)},ls.render=function(r,o,u){if(!Yl(o))throw Error(t(200));return Kl(null,r,o,!1,u)},ls.unmountComponentAtNode=function(r){if(!Yl(r))throw Error(t(40));return r._reactRootContainer?(Ar(function(){Kl(null,null,r,!1,function(){r._reactRootContainer=null,r[gn]=null})}),!0):!1},ls.unstable_batchedUpdates=Sd,ls.unstable_renderSubtreeIntoContainer=function(r,o,u,f){if(!Yl(u))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Kl(r,o,u,!1,f)},ls.version="18.3.1-next-f1338f8080-20240426",ls}var sp;function Sw(){if(sp)return Fd.exports;sp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fd.exports=Nw(),Fd.exports}var np;function Cw(){if(np)return Ql;np=1;var s=Sw();return Ql.createRoot=s.createRoot,Ql.hydrateRoot=s.hydrateRoot,Ql}var Ew=Cw();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rp="popstate";function Tw(s={}){function e(n,i){let{pathname:l,search:c,hash:d}=n.location;return kh("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Eo(i)}return Mw(e,t,null,s)}function ct(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Xs(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pw(){return Math.random().toString(36).substring(2,10)}function ip(s,e){return{usr:s.state,key:s.key,idx:e}}function kh(s,e,t=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:t,key:e&&e.key||n||Pw()}}function Eo({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function ia(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substring(n),s=s.substring(0,n)),s&&(e.pathname=s)}return e}function Mw(s,e,t,n={}){let{window:i=document.defaultView,v5Compat:l=!1}=n,c=i.history,d="POP",h=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function x(){d="POP";let S=g(),N=S==null?null:S-m;m=S,h&&h({action:d,location:_.location,delta:N})}function v(S,N){d="PUSH";let P=kh(_.location,S,N);m=g()+1;let E=ip(P,m),I=_.createHref(P);try{c.pushState(E,"",I)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(I)}l&&h&&h({action:d,location:_.location,delta:1})}function b(S,N){d="REPLACE";let P=kh(_.location,S,N);m=g();let E=ip(P,m),I=_.createHref(P);c.replaceState(E,"",I),l&&h&&h({action:d,location:_.location,delta:0})}function j(S){return Aw(S)}let _={get action(){return d},get location(){return s(i,c)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(rp,x),h=S,()=>{i.removeEventListener(rp,x),h=null}},createHref(S){return e(i,S)},createURL:j,encodeLocation(S){let N=j(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:b,go(S){return c.go(S)}};return _}function Aw(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let n=typeof s=="string"?s:Eo(s);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function Fx(s,e,t="/"){return Ow(s,e,t,!1)}function Ow(s,e,t,n){let i=typeof e=="string"?ia(e):e,l=On(i.pathname||"/",t);if(l==null)return null;let c=$x(s);Rw(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let m=Vw(l);d=Ww(c[h],m,n)}return d}function $x(s,e=[],t=[],n="",i=!1){let l=(c,d,h=i,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&h)return;ct(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let x=An([n,g.relativePath]),v=t.concat(g);c.children&&c.children.length>0&&(ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),$x(c.children,e,v,x,h)),!(c.path==null&&!c.index)&&e.push({path:x,score:Bw(x,c.index),routesMeta:v})};return s.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let h of zx(c.path))l(c,d,!0,h)}),e}function zx(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let c=zx(n.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),i&&d.push(...c),d.map(h=>s.startsWith("/")&&h===""?"/":h)}function Rw(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:Uw(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var Iw=/^:[\w-]+$/,Dw=3,Lw=2,Fw=1,$w=10,zw=-2,ap=s=>s==="*";function Bw(s,e){let t=s.split("/"),n=t.length;return t.some(ap)&&(n+=zw),e&&(n+=Lw),t.filter(i=>!ap(i)).reduce((i,l)=>i+(Iw.test(l)?Dw:l===""?Fw:$w),n)}function Uw(s,e){return s.length===e.length&&s.slice(0,-1).every((n,i)=>n===e[i])?s[s.length-1]-e[e.length-1]:0}function Ww(s,e,t=!1){let{routesMeta:n}=s,i={},l="/",c=[];for(let d=0;d<n.length;++d){let h=n[d],m=d===n.length-1,g=l==="/"?e:e.slice(l.length)||"/",x=Pc({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),v=h.route;if(!x&&m&&t&&!n[n.length-1].route.index&&(x=Pc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:An([l,x.pathname]),pathnameBase:Kw(An([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=An([l,x.pathnameBase]))}return c}function Pc(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=Hw(s.path,s.caseSensitive,s.end),i=e.match(t);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((m,{paramName:g,isOptional:x},v)=>{if(g==="*"){let j=d[v]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[v];return x&&!b?m[g]=void 0:m[g]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:s}}function Hw(s,e=!1,t=!0){Xs(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(n.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Vw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xs(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function On(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}function qw(s,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof s=="string"?ia(s):s;return{pathname:t?t.startsWith("/")?t:Gw(t,e):e,search:Jw(n),hash:Qw(i)}}function Gw(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Bd(s,e,t,n){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yw(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Kh(s){let e=Yw(s);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Jh(s,e,t,n=!1){let i;typeof s=="string"?i=ia(s):(i={...s},ct(!i.pathname||!i.pathname.includes("?"),Bd("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),Bd("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),Bd("#","search","hash",i)));let l=s===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=t;else{let x=e.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;i.pathname=v.join("/")}d=x>=0?e[x]:"/"}let h=qw(i,d),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var An=s=>s.join("/").replace(/\/\/+/g,"/"),Kw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Jw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Qw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Xw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Bx=["POST","PUT","PATCH","DELETE"];new Set(Bx);var Zw=["GET",...Bx];new Set(Zw);var aa=k.createContext(null);aa.displayName="DataRouter";var qc=k.createContext(null);qc.displayName="DataRouterState";k.createContext(!1);var Ux=k.createContext({isTransitioning:!1});Ux.displayName="ViewTransition";var e1=k.createContext(new Map);e1.displayName="Fetchers";var t1=k.createContext(null);t1.displayName="Await";var Zs=k.createContext(null);Zs.displayName="Navigation";var Fo=k.createContext(null);Fo.displayName="Location";var en=k.createContext({outlet:null,matches:[],isDataRoute:!1});en.displayName="Route";var Qh=k.createContext(null);Qh.displayName="RouteError";function s1(s,{relative:e}={}){ct(oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=k.useContext(Zs),{hash:i,pathname:l,search:c}=$o(s,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:An([t,l])),n.createHref({pathname:d,search:c,hash:i})}function oa(){return k.useContext(Fo)!=null}function Rn(){return ct(oa(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Fo).location}var Wx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hx(s){k.useContext(Zs).static||k.useLayoutEffect(s)}function yr(){let{isDataRoute:s}=k.useContext(en);return s?x1():n1()}function n1(){ct(oa(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(aa),{basename:e,navigator:t}=k.useContext(Zs),{matches:n}=k.useContext(en),{pathname:i}=Rn(),l=JSON.stringify(Kh(n)),c=k.useRef(!1);return Hx(()=>{c.current=!0}),k.useCallback((h,m={})=>{if(Xs(c.current,Wx),!c.current)return;if(typeof h=="number"){t.go(h);return}let g=Jh(h,JSON.parse(l),i,m.relative==="path");s==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:An([e,g.pathname])),(m.replace?t.replace:t.push)(g,m.state,m)},[e,t,l,i,s])}var r1=k.createContext(null);function i1(s){let e=k.useContext(en).outlet;return e&&k.createElement(r1.Provider,{value:s},e)}function $o(s,{relative:e}={}){let{matches:t}=k.useContext(en),{pathname:n}=Rn(),i=JSON.stringify(Kh(t));return k.useMemo(()=>Jh(s,JSON.parse(i),n,e==="path"),[s,i,n,e])}function a1(s,e){return Vx(s,e)}function Vx(s,e,t,n,i){ct(oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(Zs),{matches:c}=k.useContext(en),d=c[c.length-1],h=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let P=x&&x.path||"";qx(m,!x||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=Rn(),b;if(e){let P=typeof e=="string"?ia(e):e;ct(g==="/"||P.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=v;let j=b.pathname||"/",_=j;if(g!=="/"){let P=g.replace(/^\//,"").split("/");_="/"+j.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=Fx(s,{pathname:_});Xs(x||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Xs(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=d1(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:An([g,l.encodeLocation?l.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:An([g,l.encodeLocation?l.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),c,t,n,i);return e&&N?k.createElement(Fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function o1(){let s=p1(),e=Xw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:i},t):null,c)}var l1=k.createElement(o1,null),c1=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?k.createElement(en.Provider,{value:this.props.routeContext},k.createElement(Qh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function u1({routeContext:s,match:e,children:t}){let n=k.useContext(aa);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(en.Provider,{value:s},t)}function d1(s,e=[],t=null,n=null,i=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let l=s,c=t?.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);ct(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,h=-1;if(t)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:x,errors:v}=t,b=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,g,x)=>{let v,b=!1,j=null,_=null;t&&(v=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||l1,d&&(h<0&&x===0?(qx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):h===x&&(b=!0,_=g.route.hydrateFallbackElement||null)));let S=e.concat(l.slice(0,x+1)),N=()=>{let P;return v?P=j:b?P=_:g.route.Component?P=k.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=m,k.createElement(u1,{match:g,routeContext:{outlet:m,matches:S,isDataRoute:t!=null},children:P})};return t&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?k.createElement(c1,{location:t.location,revalidation:t.revalidation,component:j,error:v,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:n}):N()},null)}function Xh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(s){let e=k.useContext(aa);return ct(e,Xh(s)),e}function f1(s){let e=k.useContext(qc);return ct(e,Xh(s)),e}function m1(s){let e=k.useContext(en);return ct(e,Xh(s)),e}function Zh(s){let e=m1(s),t=e.matches[e.matches.length-1];return ct(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function g1(){return Zh("useRouteId")}function p1(){let s=k.useContext(Qh),e=f1("useRouteError"),t=Zh("useRouteError");return s!==void 0?s:e.errors?.[t]}function x1(){let{router:s}=h1("useNavigate"),e=Zh("useNavigate"),t=k.useRef(!1);return Hx(()=>{t.current=!0}),k.useCallback(async(i,l={})=>{Xs(t.current,Wx),t.current&&(typeof i=="number"?s.navigate(i):await s.navigate(i,{fromRouteId:e,...l}))},[s,e])}var op={};function qx(s,e,t){!e&&!op[s]&&(op[s]=!0,Xs(!1,t))}k.memo(y1);function y1({routes:s,future:e,state:t,unstable_onError:n}){return Vx(s,void 0,t,n,e)}function ef({to:s,replace:e,state:t,relative:n}){ct(oa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(Zs);Xs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(en),{pathname:c}=Rn(),d=yr(),h=Jh(s,Kh(l),c,n==="path"),m=JSON.stringify(h);return k.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:n})},[d,m,n,e,t]),null}function v1(s){return i1(s.context)}function ts(s){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b1({basename:s="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:l=!1}){ct(!oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:i,static:l,future:{}}),[c,i,l]);typeof t=="string"&&(t=ia(t));let{pathname:h="/",search:m="",hash:g="",state:x=null,key:v="default"}=t,b=k.useMemo(()=>{let j=On(h,c);return j==null?null:{location:{pathname:j,search:m,hash:g,state:x,key:v},navigationType:n}},[c,h,m,g,x,v,n]);return Xs(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:k.createElement(Zs.Provider,{value:d},k.createElement(Fo.Provider,{children:e,value:b}))}function w1({children:s,location:e}){return a1(_h(s),e)}function _h(s,e=[]){let t=[];return k.Children.forEach(s,(n,i)=>{if(!k.isValidElement(n))return;let l=[...e,i];if(n.type===k.Fragment){t.push.apply(t,_h(n.props.children,l));return}ct(n.type===ts,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=_h(n.props.children,l)),t.push(c)}),t}var kc="get",_c="application/x-www-form-urlencoded";function Gc(s){return s!=null&&typeof s.tagName=="string"}function j1(s){return Gc(s)&&s.tagName.toLowerCase()==="button"}function k1(s){return Gc(s)&&s.tagName.toLowerCase()==="form"}function _1(s){return Gc(s)&&s.tagName.toLowerCase()==="input"}function N1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function S1(s,e){return s.button===0&&(!e||e==="_self")&&!N1(s)}var Xl=null;function C1(){if(Xl===null)try{new FormData(document.createElement("form"),0),Xl=!1}catch{Xl=!0}return Xl}var E1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ud(s){return s!=null&&!E1.has(s)?(Xs(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):s}function T1(s,e){let t,n,i,l,c;if(k1(s)){let d=s.getAttribute("action");n=d?On(d,e):null,t=s.getAttribute("method")||kc,i=Ud(s.getAttribute("enctype"))||_c,l=new FormData(s)}else if(j1(s)||_1(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=s.getAttribute("formaction")||d.getAttribute("action");if(n=h?On(h,e):null,t=s.getAttribute("formmethod")||d.getAttribute("method")||kc,i=Ud(s.getAttribute("formenctype"))||Ud(d.getAttribute("enctype"))||_c,l=new FormData(d,s),!C1()){let{name:m,type:g,value:x}=s;if(g==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,x)}}else{if(Gc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kc,n=null,i=_c,c=s}return l&&i==="text/plain"&&(c=l,l=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tf(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function P1(s,e,t){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&On(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function M1(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function O1(s,e,t){let n=await Promise.all(s.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await M1(l,t);return c.links?c.links():[]}return[]}));return L1(n.flat(1).filter(A1).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lp(s,e,t,n,i,l){let c=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,d=(h,m)=>t[m].pathname!==h.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,m)=>c(h,m)||d(h,m)):l==="data"?e.filter((h,m)=>{let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function R1(s,e,{includeHydrateFallback:t}={}){return I1(s.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function I1(s){return[...new Set(s)]}function D1(s){let e={},t=Object.keys(s).sort();for(let n of t)e[n]=s[n];return e}function L1(s,e){let t=new Set;return new Set(e),s.reduce((n,i)=>{let l=JSON.stringify(D1(i));return t.has(l)||(t.add(l),n.push({key:l,link:i})),n},[])}function Gx(){let s=k.useContext(aa);return tf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function F1(){let s=k.useContext(qc);return tf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var sf=k.createContext(void 0);sf.displayName="FrameworkContext";function Yx(){let s=k.useContext(sf);return tf(s,"You must render this element inside a <HydratedRouter> element"),s}function $1(s,e){let t=k.useContext(sf),[n,i]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=e,v=k.useRef(null);k.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let _=N=>{N.forEach(P=>{c(P.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[s]),k.useEffect(()=>{if(n){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[n]);let b=()=>{i(!0)},j=()=>{i(!1),c(!1)};return t?s!=="intent"?[l,v,{}]:[l,v,{onFocus:Xa(d,b),onBlur:Xa(h,j),onMouseEnter:Xa(m,b),onMouseLeave:Xa(g,j),onTouchStart:Xa(x,b)}]:[!1,v,{}]}function Xa(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function z1({page:s,...e}){let{router:t}=Gx(),n=k.useMemo(()=>Fx(t.routes,s,t.basename),[t.routes,s,t.basename]);return n?k.createElement(U1,{page:s,matches:n,...e}):null}function B1(s){let{manifest:e,routeModules:t}=Yx(),[n,i]=k.useState([]);return k.useEffect(()=>{let l=!1;return O1(s,e,t).then(c=>{l||i(c)}),()=>{l=!0}},[s,e,t]),n}function U1({page:s,matches:e,...t}){let n=Rn(),{manifest:i,routeModules:l}=Yx(),{basename:c}=Gx(),{loaderData:d,matches:h}=F1(),m=k.useMemo(()=>lp(s,e,h,i,n,"data"),[s,e,h,i,n]),g=k.useMemo(()=>lp(s,e,h,i,n,"assets"),[s,e,h,i,n]),x=k.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let j=new Set,_=!1;if(e.forEach(N=>{let P=i.routes[N.route.id];!P||!P.hasLoader||(!m.some(E=>E.route.id===N.route.id)&&N.route.id in d&&l[N.route.id]?.shouldRevalidate||P.hasClientLoader?_=!0:j.add(N.route.id))}),j.size===0)return[];let S=P1(s,c,"data");return _&&j.size>0&&S.searchParams.set("_routes",e.filter(N=>j.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[c,d,n,i,m,e,s,l]),v=k.useMemo(()=>R1(g,i),[g,i]),b=B1(g);return k.createElement(k.Fragment,null,x.map(j=>k.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),v.map(j=>k.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),b.map(({key:j,link:_})=>k.createElement("link",{key:j,nonce:t.nonce,..._})))}function W1(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kx&&(window.__reactRouterVersion="7.8.2")}catch{}function H1({basename:s,children:e,window:t}){let n=k.useRef();n.current==null&&(n.current=Tw({window:t,v5Compat:!0}));let i=n.current,[l,c]=k.useState({action:i.action,location:i.location}),d=k.useCallback(h=>{k.startTransition(()=>c(h))},[c]);return k.useLayoutEffect(()=>i.listen(d),[i,d]),k.createElement(b1,{basename:s,children:e,location:l.location,navigationType:l.action,navigator:i})}var Jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dn=k.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:l,replace:c,state:d,target:h,to:m,preventScrollReset:g,viewTransition:x,...v},b){let{basename:j}=k.useContext(Zs),_=typeof m=="string"&&Jx.test(m),S,N=!1;if(typeof m=="string"&&_&&(S=m,Kx))try{let Z=new URL(window.location.href),re=m.startsWith("//")?new URL(Z.protocol+m):new URL(m),K=On(re.pathname,j);re.origin===Z.origin&&K!=null?m=K+re.search+re.hash:N=!0}catch{Xs(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=s1(m,{relative:i}),[E,I,L]=$1(n,v),B=G1(m,{replace:c,state:d,target:h,preventScrollReset:g,relative:i,viewTransition:x});function G(Z){e&&e(Z),Z.defaultPrevented||B(Z)}let q=k.createElement("a",{...v,...L,href:S||P,onClick:N||l?e:G,ref:W1(b,I),target:h,"data-discover":!_&&t==="render"?"true":void 0});return E&&!_?k.createElement(k.Fragment,null,q,k.createElement(z1,{page:P})):q});dn.displayName="Link";var Nh=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:l,to:c,viewTransition:d,children:h,...m},g){let x=$o(c,{relative:m.relative}),v=Rn(),b=k.useContext(qc),{navigator:j,basename:_}=k.useContext(Zs),S=b!=null&&X1(x)&&d===!0,N=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,P=v.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(P=P.toLowerCase(),E=E?E.toLowerCase():null,N=N.toLowerCase()),E&&_&&(E=On(E,_)||E);const I=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let L=P===N||!i&&P.startsWith(N)&&P.charAt(I)==="/",B=E!=null&&(E===N||!i&&E.startsWith(N)&&E.charAt(N.length)==="/"),G={isActive:L,isPending:B,isTransitioning:S},q=L?e:void 0,Z;typeof n=="function"?Z=n(G):Z=[n,L?"active":null,B?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let re=typeof l=="function"?l(G):l;return k.createElement(dn,{...m,"aria-current":q,className:Z,ref:g,style:re,to:c,viewTransition:d},typeof h=="function"?h(G):h)});Nh.displayName="NavLink";var V1=k.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:l,method:c=kc,action:d,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:x,...v},b)=>{let j=J1(),_=Q1(d,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&Jx.test(d),P=E=>{if(h&&h(E),E.defaultPrevented)return;E.preventDefault();let I=E.nativeEvent.submitter,L=I?.getAttribute("formmethod")||c;j(I||E.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:i,state:l,relative:m,preventScrollReset:g,viewTransition:x})};return k.createElement("form",{ref:b,method:S,action:_,onSubmit:n?h:P,...v,"data-discover":!N&&s==="render"?"true":void 0})});V1.displayName="Form";function q1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qx(s){let e=k.useContext(aa);return ct(e,q1(s)),e}function G1(s,{target:e,replace:t,state:n,preventScrollReset:i,relative:l,viewTransition:c}={}){let d=yr(),h=Rn(),m=$o(s,{relative:l});return k.useCallback(g=>{if(S1(g,e)){g.preventDefault();let x=t!==void 0?t:Eo(h)===Eo(m);d(s,{replace:x,state:n,preventScrollReset:i,relative:l,viewTransition:c})}},[h,d,m,t,n,e,s,i,l,c])}var Y1=0,K1=()=>`__${String(++Y1)}__`;function J1(){let{router:s}=Qx("useSubmit"),{basename:e}=k.useContext(Zs),t=g1();return k.useCallback(async(n,i={})=>{let{action:l,method:c,encType:d,formData:h,body:m}=T1(n,e);if(i.navigate===!1){let g=i.fetcherKey||K1();await s.fetch(g,t,i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await s.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,e,t])}function Q1(s,{relative:e}={}){let{basename:t}=k.useContext(Zs),n=k.useContext(en);ct(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),l={...$o(s||".",{relative:e})},c=Rn();if(s==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();l.search=g?`?${g}`:""}}return(!s||s===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:An([t,l.pathname])),Eo(l)}function X1(s,{relative:e}={}){let t=k.useContext(Ux);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Qx("useViewTransitionState"),i=$o(s,{relative:e});if(!t.isTransitioning)return!1;let l=On(t.currentLocation.pathname,n)||t.currentLocation.pathname,c=On(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Pc(i.pathname,c)!=null||Pc(i.pathname,l)!=null}const Z1="modulepreload",ej=function(s){return"/"+s},cp={},zo=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let m=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");i=m(t.map(g=>{if(g=ej(g),g in cp)return;cp[g]=!0;const x=g.endsWith(".css"),v=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const b=document.createElement("link");if(b.rel=x?"stylesheet":Z1,x||(b.as="script"),b.crossOrigin="",b.href=g,h&&b.setAttribute("nonce",h),document.head.appendChild(b),x)return new Promise((j,_)=>{b.addEventListener("load",j),b.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return i.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},tj=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>zo(async()=>{const{default:n}=await Promise.resolve().then(()=>la);return{default:n}},[]).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class nf extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class sj extends nf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class up extends nf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dp extends nf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sh;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Sh||(Sh={}));var nj=function(s,e,t,n){function i(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(g){try{m(n.next(g))}catch(x){c(x)}}function h(g){try{m(n.throw(g))}catch(x){c(x)}}function m(g){g.done?l(g.value):i(g.value).then(d,h)}m((n=n.apply(s,e||[])).next())})};class rj{constructor(e,{headers:t={},customFetch:n,region:i=Sh.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=tj(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return nj(this,void 0,void 0,function*(){try{const{headers:i,method:l,body:c}=t;let d={},{region:h}=t;h||(h=this.region);const m=new URL(`${this.url}/${e}`);h&&h!=="any"&&(d["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let g;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(d["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(d["Content-Type"]="application/json",g=JSON.stringify(c)));const x=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:g}).catch(_=>{throw new sj(_)}),v=x.headers.get("x-relay-error");if(v&&v==="true")throw new up(x);if(!x.ok)throw new dp(x);let b=((n=x.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield x.json():b==="application/octet-stream"?j=yield x.blob():b==="text/event-stream"?j=x:b==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(i){return{data:null,error:i,response:i instanceof dp||i instanceof up?i.context:void 0}}})}}var Rt={},Mi={},Ai={},Oi={},Ri={},Ii={},ij=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sa=ij();const aj=sa.fetch,Xx=sa.fetch.bind(sa),Zx=sa.Headers,oj=sa.Request,lj=sa.Response,la=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zx,Request:oj,Response:lj,default:Xx,fetch:aj},Symbol.toStringTag,{value:"Module"})),cj=vw(la);var Zl={},hp;function ey(){if(hp)return Zl;hp=1,Object.defineProperty(Zl,"__esModule",{value:!0});class s extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Zl.default=s,Zl}var fp;function ty(){if(fp)return Ii;fp=1;var s=Ii&&Ii.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ii,"__esModule",{value:!0});const e=s(cj),t=s(ey());class n{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,x,v,b;let j=null,_=null,S=null,N=m.status,P=m.statusText;if(m.ok){if(this.method!=="HEAD"){const B=await m.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?_=B:_=JSON.parse(B))}const I=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),L=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");I&&L&&L.length>1&&(S=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(j={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,N=406,P="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const I=await m.text();try{j=JSON.parse(I),Array.isArray(j)&&m.status===404&&(_=[],j=null,N=200,P="OK")}catch{m.status===404&&I===""?(N=204,P="No Content"):j={message:I}}if(j&&this.isMaybeSingle&&(!((b=j?.details)===null||b===void 0)&&b.includes("0 rows"))&&(j=null,N=200,P="OK"),j&&this.shouldThrowOnError)throw new t.default(j)}return{error:j,data:_,count:S,status:N,statusText:P}});return this.shouldThrowOnError||(h=h.catch(m=>{var g,x,v;return{error:{message:`${(g=m?.name)!==null&&g!==void 0?g:"FetchError"}: ${m?.message}`,details:`${(x=m?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(v=m?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,c)}returns(){return this}overrideTypes(){return this}}return Ii.default=n,Ii}var mp;function sy(){if(mp)return Ri;mp=1;var s=Ri&&Ri.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ri,"__esModule",{value:!0});const e=s(ty());class t extends e.default{select(i){let l=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${i}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var g;const x=[i?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ri.default=t,Ri}var gp;function rf(){if(gp)return Oi;gp=1;var s=Oi&&Oi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Oi,"__esModule",{value:!0});const e=s(sy());class t extends e.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${h}fts${m}.${l}`),this}match(i){return Object.entries(i).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(i,l,c){return this.url.searchParams.append(i,`not.${l}.${c}`),this}or(i,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,l,c){return this.url.searchParams.append(i,`${l}.${c}`),this}}return Oi.default=t,Oi}var pp;function ny(){if(pp)return Ai;pp=1;var s=Ai&&Ai.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ai,"__esModule",{value:!0});const e=s(rf());class t{constructor(i,{headers:l={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(i,{head:l=!1,count:c}={}){const d=l?"HEAD":"GET";let h=!1;const m=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const x=i.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(x.length>0){const v=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var l;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Ai.default=t,Ai}var xp;function uj(){if(xp)return Mi;xp=1;var s=Mi&&Mi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mi,"__esModule",{value:!0});const e=s(ny()),t=s(rf());class n{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new n(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:m}={}){var g;let x;const v=new URL(`${this.url}/rpc/${l}`);let b;d||h?(x=d?"HEAD":"GET",Object.entries(c).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{v.searchParams.append(_,S)})):(x="POST",b=c);const j=new Headers(this.headers);return m&&j.set("Prefer",`count=${m}`),new t.default({method:x,url:v,headers:j,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Mi.default=n,Mi}var yp;function dj(){if(yp)return Rt;yp=1;var s=Rt&&Rt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.PostgrestError=Rt.PostgrestBuilder=Rt.PostgrestTransformBuilder=Rt.PostgrestFilterBuilder=Rt.PostgrestQueryBuilder=Rt.PostgrestClient=void 0;const e=s(uj());Rt.PostgrestClient=e.default;const t=s(ny());Rt.PostgrestQueryBuilder=t.default;const n=s(rf());Rt.PostgrestFilterBuilder=n.default;const i=s(sy());Rt.PostgrestTransformBuilder=i.default;const l=s(ty());Rt.PostgrestBuilder=l.default;const c=s(ey());return Rt.PostgrestError=c.default,Rt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default},Rt}var hj=dj();const fj=Lx(hj),{PostgrestClient:mj,PostgrestQueryBuilder:tP,PostgrestFilterBuilder:sP,PostgrestTransformBuilder:nP,PostgrestBuilder:rP,PostgrestError:iP}=fj;class gj{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const t=parseInt(process.versions.node.split(".")[0]);return t>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const pj="2.15.1",xj=`realtime-js/${pj}`,yj="1.0.0",Ch=1e4,vj=1e3,bj=100;var vo;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(vo||(vo={}));var Ct;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ct||(Ct={}));var Qs;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Qs||(Qs={}));var Eh;(function(s){s.websocket="websocket"})(Eh||(Eh={}));var qr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(qr||(qr={}));class wj{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const i=t.getUint8(1),l=t.getUint8(2);let c=this.HEADER_LENGTH+2;const d=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+l));c=c+l;const m=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class ry{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(et||(et={}));const vp=(s,e,t={})=>{var n;const i=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((l,c)=>(l[c]=jj(c,s,e,i),l),{})},jj=(s,e,t,n)=>{const i=e.find(d=>d.name===s),l=i?.type,c=t[s];return l&&!n.includes(l)?iy(l,c):Th(c)},iy=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return Sj(e,t)}switch(s){case et.bool:return kj(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return _j(e);case et.json:case et.jsonb:return Nj(e);case et.timestamp:return Cj(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Th(e);default:return Th(e)}},Th=s=>s,kj=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},_j=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},Nj=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},Sj=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,n=s[t];if(s[0]==="{"&&n==="}"){let l;const c=s.slice(1,t);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>iy(e,d))}return s},Cj=s=>typeof s=="string"?s.replace(" ","T"):s,ay=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Wd{constructor(e,t,n={},i=Ch){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bp;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(bp||(bp={}));class bo{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bo.syncState(this.state,i,l,c),this.pendingDiffs.forEach(h=>{this.state=bo.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=bo.syncDiff(this.state,i,l,c),d())}),this.onJoin((i,l,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:c})}),this.onLeave((i,l,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const l=this.cloneDeep(e),c=this.transformState(t),d={},h={};return this.map(l,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const x=l[m];if(x){const v=g.map(S=>S.presence_ref),b=x.map(S=>S.presence_ref),j=g.filter(S=>b.indexOf(S.presence_ref)<0),_=x.filter(S=>v.indexOf(S.presence_ref)<0);j.length>0&&(d[m]=j),_.length>0&&(h[m]=_)}else d[m]=g}),this.syncDiff(l,{joins:d,leaves:h},n,i)}static syncDiff(e,t,n,i){const{joins:l,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(l,(d,h)=>{var m;const g=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),g.length>0){const x=e[d].map(b=>b.presence_ref),v=g.filter(b=>x.indexOf(b.presence_ref)<0);e[d].unshift(...v)}n(d,g,h)}),this.map(c,(d,h)=>{let m=e[d];if(!m)return;const g=h.map(x=>x.presence_ref);m=m.filter(x=>g.indexOf(x.presence_ref)<0),e[d]=m,i(d,m,h),m.length===0&&delete e[d]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return"metas"in i?t[n]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wp;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(wp||(wp={}));var wo;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(wo||(wo={}));var Tn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Tn||(Tn={}));class af{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Wd(this,Qs.join,this.params,this.timeout),this.rejoinTimer=new ry(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qs.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new bo(this),this.broadcastEndpointURL=ay(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ct.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[wo.PRESENCE]&&this.bindings[wo.PRESENCE].length>0,g={},x={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(Tn.CHANNEL_ERROR,v)),this._onClose(()=>e?.(Tn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},g)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){e?.(Tn.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,_=(b=j?.length)!==null&&b!==void 0?b:0,S=[];for(let N=0;N<_;N++){const P=j[N],{filter:{event:E,schema:I,table:L,filter:B}}=P,G=v&&v[N];if(G&&G.event===E&&G.schema===I&&G.table===L&&G.filter===B)S.push(Object.assign(Object.assign({},P),{id:G.id}));else{this.unsubscribe(),this.state=Ct.errored,e?.(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Tn.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ct.errored,e?.(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Ct.joined&&e===wo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const m=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ct.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Wd(this,Qs.leave,{},e),n.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ct.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const i=new AbortController,l=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(l),c}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Wd(this,e,t,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>bj){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:g}=Qs;if(n&&[d,h,m,g].indexOf(c)>=0&&n!==this._joinRef())return;let v=this._onMessage(c,t,n);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var j,_,S;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((S=(_=b.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(b=>b.callback(v,n)):(l=this.bindings[c])===null||l===void 0||l.filter(b=>{var j,_,S,N,P,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const I=b.id,L=(j=b.filter)===null||j===void 0?void 0:j.event;return I&&((_=t.ids)===null||_===void 0?void 0:_.includes(I))&&(L==="*"||L?.toLocaleLowerCase()===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const I=(P=(N=b?.filter)===null||N===void 0?void 0:N.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return I==="*"||I===((E=t?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:_,table:S,commit_timestamp:N,type:P,errors:E}=j;v=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:N,eventType:P,new:{},old:{},errors:E}),this._getPayloadRecords(j))}b.callback(v,n)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const i=e.toLocaleLowerCase(),l={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&af.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qs.close,{},e)}_onError(e){this._on(Qs.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=vp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=vp(e.columns,e.old_record)),t}}const jp=()=>{},ec={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ej=[1e3,2e3,5e3,1e4],Tj=1e4,Pj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mj{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ch,this.transport=null,this.heartbeatIntervalMs=ec.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jp,this.ref=0,this.reconnectTimer=null,this.logger=jp,this.conn=null,this.sendBuffer=[],this.serializer=new wj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...c)=>zo(async()=>{const{default:d}=await Promise.resolve().then(()=>la);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((n=t?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Eh.websocket}`,this.httpEndpoint=ay(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yj}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vo.connecting:return qr.Connecting;case vo.open:return qr.Open;case vo.closing:return qr.Closing;default:return qr.Closed}}isConnected(){return this.connectionState()===qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===n);if(i)return i;{const l=new af(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:n,payload:i,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${t} ${n} (${l})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(vj,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},ec.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{t.topic==="phoenix"&&t.event==="phx_reply"&&this.heartbeatCallback(t.payload.status==="ok"?"ok":"error"),t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:l,ref:c}=t,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${n} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,l,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qs.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([Pj],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const i={access_token:t,version:xj};t&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Qs.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ry(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ec.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,i,l,c,d,h,m;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Ch,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:ec.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:(g=>Ej[g-1]||Tj),this.encode=(h=e?.encode)!==null&&h!==void 0?h:((g,x)=>x(JSON.stringify(g))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class of extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Et(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class Aj extends of{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ph extends of{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Oj=function(s,e,t,n){function i(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(g){try{m(n.next(g))}catch(x){c(x)}}function h(g){try{m(n.throw(g))}catch(x){c(x)}}function m(g){g.done?l(g.value):i(g.value).then(d,h)}m((n=n.apply(s,e||[])).next())})};const oy=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>zo(async()=>{const{default:n}=await Promise.resolve().then(()=>la);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Rj=()=>Oj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zo(()=>Promise.resolve().then(()=>la),void 0)).Response:Response}),Mh=s=>{if(Array.isArray(s))return s.map(t=>Mh(t));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([t,n])=>{const i=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=Mh(n)}),e},Ij=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var Xr=function(s,e,t,n){function i(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(g){try{m(n.next(g))}catch(x){c(x)}}function h(g){try{m(n.throw(g))}catch(x){c(x)}}function m(g){g.done?l(g.value):i(g.value).then(d,h)}m((n=n.apply(s,e||[])).next())})};const Hd=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Dj=(s,e,t)=>Xr(void 0,void 0,void 0,function*(){const n=yield Rj();s instanceof n&&!t?.noResolveJson?s.json().then(i=>{const l=s.status||500,c=i?.statusCode||l+"";e(new Aj(Hd(i),l,c))}).catch(i=>{e(new Ph(Hd(i),i))}):e(new Ph(Hd(s),s))}),Lj=(s,e,t,n)=>{const i={method:s,headers:e?.headers||{}};return s==="GET"||!n?i:(Ij(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function Bo(s,e,t,n,i,l){return Xr(this,void 0,void 0,function*(){return new Promise((c,d)=>{s(t,Lj(e,n,i,l)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>Dj(h,d,n))})})}function Mc(s,e,t,n){return Xr(this,void 0,void 0,function*(){return Bo(s,"GET",e,t,n)})}function ln(s,e,t,n,i){return Xr(this,void 0,void 0,function*(){return Bo(s,"POST",e,n,i,t)})}function Ah(s,e,t,n,i){return Xr(this,void 0,void 0,function*(){return Bo(s,"PUT",e,n,i,t)})}function Fj(s,e,t,n){return Xr(this,void 0,void 0,function*(){return Bo(s,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function ly(s,e,t,n,i){return Xr(this,void 0,void 0,function*(){return Bo(s,"DELETE",e,n,i,t)})}var es=function(s,e,t,n){function i(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(g){try{m(n.next(g))}catch(x){c(x)}}function h(g){try{m(n.throw(g))}catch(x){c(x)}}function m(g){g.done?l(g.value):i(g.value).then(d,h)}m((n=n.apply(s,e||[])).next())})};const $j={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zj{constructor(e,t={},n,i){this.url=e,this.headers=t,this.bucketId=n,this.fetch=oy(i)}uploadOrUpdate(e,t,n,i){return es(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},kp),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(t),g=this._getFinalPath(m),x=yield(e=="PUT"?Ah:ln)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}upload(e,t,n){return es(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return es(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",t);try{let h;const m=Object.assign({upsert:kp.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const x=yield Ah(this.fetch,d.toString(),h,{headers:g});return{data:{path:l,fullPath:x.Key},error:null}}catch(h){if(Et(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,t){return es(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const l=yield ln(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new of("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}update(e,t,n){return es(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return es(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}copy(e,t,n){return es(this,void 0,void 0,function*(){try{return{data:{path:(yield ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return es(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield ln(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return es(this,void 0,void 0,function*(){try{const i=yield ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}download(e,t){return es(this,void 0,void 0,function*(){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(t?.transform||{}),c=l?`?${l}`:"";try{const d=this._getFinalPath(e);return{data:yield(yield Mc(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(Et(d))return{data:null,error:d};throw d}})}info(e){return es(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Mc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Mh(n),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}exists(e){return es(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Fj(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Et(n)&&n instanceof Ph){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&i.push(l);const d=typeof t?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(t?.transform||{});h!==""&&i.push(h);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}remove(e){return es(this,void 0,void 0,function*(){try{return{data:yield ly(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Et(t))return{data:null,error:t};throw t}})}list(e,t,n){return es(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$j),t),{prefix:e||""});return{data:yield ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}listV2(e,t){return es(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ln(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Bj="2.11.0",Uj={"X-Client-Info":`storage-js/${Bj}`};var Di=function(s,e,t,n){function i(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(g){try{m(n.next(g))}catch(x){c(x)}}function h(g){try{m(n.throw(g))}catch(x){c(x)}}function m(g){g.done?l(g.value):i(g.value).then(d,h)}m((n=n.apply(s,e||[])).next())})};class Wj{constructor(e,t={},n,i){const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},Uj),t),this.fetch=oy(n)}listBuckets(){return Di(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Et(e))return{data:null,error:e};throw e}})}getBucket(e){return Di(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Et(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Di(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Di(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Di(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Et(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Di(this,void 0,void 0,function*(){try{return{data:yield ly(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Et(t))return{data:null,error:t};throw t}})}}class Hj extends Wj{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new zj(this.url,this.headers,e,this.fetch)}}const Vj="2.56.0";let mo="";typeof Deno<"u"?mo="deno":typeof document<"u"?mo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mo="react-native":mo="node";const qj={"X-Client-Info":`supabase-js-${mo}/${Vj}`},Gj={headers:qj},Yj={schema:"public"},Kj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jj={};var Qj=function(s,e,t,n){function i(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(g){try{m(n.next(g))}catch(x){c(x)}}function h(g){try{m(n.throw(g))}catch(x){c(x)}}function m(g){g.done?l(g.value):i(g.value).then(d,h)}m((n=n.apply(s,e||[])).next())})};const Xj=s=>{let e;return s?e=s:typeof fetch>"u"?e=Xx:e=fetch,(...t)=>e(...t)},Zj=()=>typeof Headers>"u"?Zx:Headers,ek=(s,e,t)=>{const n=Xj(t),i=Zj();return(l,c)=>Qj(void 0,void 0,void 0,function*(){var d;const h=(d=yield e())!==null&&d!==void 0?d:s;let m=new i(c?.headers);return m.has("apikey")||m.set("apikey",s),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(l,Object.assign(Object.assign({},c),{headers:m}))})};var tk=function(s,e,t,n){function i(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(g){try{m(n.next(g))}catch(x){c(x)}}function h(g){try{m(n.throw(g))}catch(x){c(x)}}function m(g){g.done?l(g.value):i(g.value).then(d,h)}m((n=n.apply(s,e||[])).next())})};function sk(s){return s.endsWith("/")?s:s+"/"}function nk(s,e){var t,n;const{db:i,auth:l,realtime:c,global:d}=s,{db:h,auth:m,realtime:g,global:x}=e,v={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},g),c),storage:{},global:Object.assign(Object.assign(Object.assign({},x),d),{headers:Object.assign(Object.assign({},(t=x?.headers)!==null&&t!==void 0?t:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>tk(this,void 0,void 0,function*(){return""})};return s.accessToken?v.accessToken=s.accessToken:delete v.accessToken,v}const cy="2.71.1",Yi=30*1e3,Oh=3,Vd=Oh*Yi,rk="http://localhost:9999",ik="supabase.auth.token",ak={"X-Client-Info":`gotrue-js/${cy}`},Rh="X-Supabase-Api-Version",uy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ok=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lk=600*1e3;class lf extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Me(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class ck extends lf{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function uk(s){return Me(s)&&s.name==="AuthApiError"}class dy extends lf{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class vr extends lf{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class lr extends vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dk(s){return Me(s)&&s.name==="AuthSessionMissingError"}class tc extends vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sc extends vr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class nc extends vr{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hk(s){return Me(s)&&s.name==="AuthImplicitGrantRedirectError"}class _p extends vr{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ih extends vr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function qd(s){return Me(s)&&s.name==="AuthRetryableFetchError"}class Np extends vr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Dh extends vr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ac="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sp=` 	
\r=`.split(""),fk=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<Sp.length;e+=1)s[Sp[e].charCodeAt(0)]=-2;for(let e=0;e<Ac.length;e+=1)s[Ac[e].charCodeAt(0)]=e;return s})();function Cp(s,e,t){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Ac[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Ac[n]),e.queuedBits-=6}}function hy(s,e,t){const n=fk[s];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Ep(s){const e=[],t=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=c=>{pk(c,n,t)};for(let c=0;c<s.length;c+=1)hy(s.charCodeAt(c),i,l);return e.join("")}function mk(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function gk(s,e){for(let t=0;t<s.length;t+=1){let n=s.charCodeAt(t);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(s.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}mk(n,e)}}function pk(s,e,t){if(e.utf8seq===0){if(s<=127){t(s);return}for(let n=1;n<6;n+=1)if((s>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function xk(s){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<s.length;i+=1)hy(s.charCodeAt(i),t,n);return new Uint8Array(e)}function yk(s){const e=[];return gk(s,t=>e.push(t)),new Uint8Array(e)}function vk(s){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};return s.forEach(i=>Cp(i,t,n)),Cp(null,t,n),e.join("")}function bk(s){return Math.round(Date.now()/1e3)+s}function wk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const Js=()=>typeof window<"u"&&typeof document<"u",Dr={tested:!1,writable:!1},fy=()=>{if(!Js())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dr.tested)return Dr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Dr.tested=!0,Dr.writable=!0}catch{Dr.tested=!0,Dr.writable=!1}return Dr.writable};function jk(s){const e={},t=new URL(s);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return t.searchParams.forEach((n,i)=>{e[i]=n}),e}const my=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>zo(async()=>{const{default:n}=await Promise.resolve().then(()=>la);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},kk=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Ki=async(s,e,t)=>{await s.setItem(e,JSON.stringify(t))},Lr=async(s,e)=>{const t=await s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},rr=async(s,e)=>{await s.removeItem(e)};class Yc{constructor(){this.promise=new Yc.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Yc.promiseConstructor=Promise;function Gd(s){const e=s.split(".");if(e.length!==3)throw new Dh("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!ok.test(e[n]))throw new Dh("JWT not in base64url format");return{header:JSON.parse(Ep(e[0])),payload:JSON.parse(Ep(e[1])),signature:xk(e[2]),raw:{header:e[0],payload:e[1]}}}async function _k(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function Nk(s,e){return new Promise((n,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await s(l);if(!e(l,null,c)){n(c);return}}catch(c){if(!e(l,c)){i(c);return}}})()})}function Sk(s){return("0"+s.toString(16)).substr(-2)}function Ck(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let l=0;l<56;l++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Sk).join("")}async function Ek(s){const t=new TextEncoder().encode(s),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function Tk(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const t=await Ek(s);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Li(s,e,t=!1){const n=Ck();let i=n;t&&(i+="/PASSWORD_RECOVERY"),await Ki(s,`${e}-code-verifier`,i);const l=await Tk(n);return[l,n===l?"plain":"s256"]}const Pk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mk(s){const e=s.headers.get(Rh);if(!e||!e.match(Pk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ak(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function Ok(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fi(s){if(!Rk.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yd(){const s={};return new Proxy(s,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tp(s){return JSON.parse(JSON.stringify(s))}var Ik=function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(s);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(s,n[i])&&(t[n[i]]=s[n[i]]);return t};const Wr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Dk=[502,503,504];async function Pp(s){var e;if(!kk(s))throw new Ih(Wr(s),0);if(Dk.includes(s.status))throw new Ih(Wr(s),s.status);let t;try{t=await s.json()}catch(l){throw new dy(Wr(l),l)}let n;const i=Mk(s);if(i&&i.getTime()>=uy["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Np(Wr(t),s.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new lr}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Np(Wr(t),s.status,t.weak_password.reasons);throw new ck(Wr(t),s.status||500,n)}const Lk=(s,e,t,n)=>{const i={method:s,headers:e?.headers||{}};return s==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),t))};async function Le(s,e,t,n){var i;const l=Object.assign({},n?.headers);l[Rh]||(l[Rh]=uy["2024-01-01"].name),n?.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await Fk(s,e,t+d,{headers:l,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function Fk(s,e,t,n,i,l){const c=Lk(e,n,i,l);let d;try{d=await s(t,Object.assign({},c))}catch(h){throw console.error(h),new Ih(Wr(h),0)}if(d.ok||await Pp(d),n?.noResolveJson)return d;try{return await d.json()}catch(h){await Pp(h)}}function Nn(s){var e;let t=null;Uk(s)&&(t=Object.assign({},s),s.expires_at||(t.expires_at=bk(s.expires_in)));const n=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:n},error:null}}function Mp(s){const e=Nn(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=s.weak_password),e}function dr(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function $k(s){return{data:s,error:null}}function zk(s){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:l}=s,c=Ik(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function Bk(s){return s}function Uk(s){return s.access_token&&s.refresh_token&&s.expires_in}const Kd=["global","local","others"];var Wk=function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(s);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(s,n[i])&&(t[n[i]]=s[n[i]]);return t};class Hk{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=my(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Kd[0]){if(Kd.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kd.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:dr})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Wk(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zk,redirectTo:t?.redirectTo})}catch(t){if(Me(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dr})}catch(t){if(Me(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,i,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:Bk});if(g.error)throw g.error;const x=await g.json(),v=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(j.split(";")[1].split("=")[1]);m[`${S}Page`]=_}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Me(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Fi(e);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dr})}catch(t){if(Me(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Fi(e);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:dr})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Fi(e);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:dr})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Fi(e.userId);try{const{data:t,error:n}=await Le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:n}}catch(t){if(Me(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Fi(e.userId),Fi(e.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Me(t))return{data:null,error:t};throw t}}}function Ap(s={}){return{getItem:e=>s[e]||null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]}}}function Vk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $i={debug:!!(globalThis&&fy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qk extends gy{}async function Gk(s,e,t){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),$i.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,i.name);try{return await t()}finally{$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,i.name)}}else{if(e===0)throw $i.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new qk(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if($i.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Vk();const Yk={url:rk,storageKey:ik,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ak,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Op(s,e,t){return await t()}const zi={};class To{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=To.nextInstanceID,To.nextInstanceID+=1,this.instanceID>0&&Js()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Yk),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Hk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=my(i.fetch),this.lock=i.lock||Op,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Js()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=Gk:this.lock=Op,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:fy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ap(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ap(this.memoryStorage)),Js()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=zi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=zi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cy}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=jk(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Js()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:l}=await this._getSessionFromURL(t,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),hk(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Me(t)?{error:t}:{error:new dy("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const l=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Nn}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Me(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var t,n,i;try{let l;if("email"in e){const{email:g,password:x,options:v}=e;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await Li(this.storage,this.storageKey)),l=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:x,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:j},xform:Nn})}else if("phone"in e){const{phone:g,password:x,options:v}=e;l=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Nn})}else throw new sc("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Me(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:c,options:d}=e;t=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Mp})}else if("phone"in e){const{phone:l,password:c,options:d}=e;t=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Mp})}else throw new sc("You must provide either an email or phone number and a password");const{data:n,error:i}=t;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new tc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(t){if(Me(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,i,l,c,d,h,m,g,x,v,b;let j,_;if("message"in e)j=e.message,_=e.signature;else{const{chain:S,wallet:N,statement:P,options:E}=e;let I;if(Js())if(typeof N=="object")I=N;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))I=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=N}const L=new URL((t=E?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in I&&I.signIn){const B=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),P?{statement:P}:null));let G;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")G=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)G=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)j=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),_=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${L.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((x=(g=E?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...E.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const B=await I.signMessage(new TextEncoder().encode(j),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=B}}try{const{data:S,error:N}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:vk(_)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Nn});if(N)throw N;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new tc}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:N})}catch(S){if(Me(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const t=await Lr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(t??"").split("/");try{const{data:l,error:c}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Nn});if(await rr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new tc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:c})}catch(l){if(Me(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:l,nonce:c}=e,d=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Nn}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new tc}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(t){if(Me(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,i,l,c;try{if("email"in e){const{email:d,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Li(this.storage,this.storageKey));const{error:x}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(t=h?.data)!==null&&t!==void 0?t:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:g}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:g}}throw new sc("You must provide either an email or phone number.")}catch(d){if(Me(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var t,n;try{let i,l;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:Nn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,n,i;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Li(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:$k})}catch(l){if(Me(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new lr;const{error:i}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:l}=e,{error:c}=await Le(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:n,type:i,options:l}=e,{data:c,error:d}=await Le(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new sc("You must provide either an email or phone number and a type")}catch(t){if(Me(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Vd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await Lr(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Yd()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,m,g)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,g))})}return{data:{session:e},error:null}}const{session:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dr}):await this._useSession(async t=>{var n,i,l;const{data:c,error:d}=t;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lr}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:dr})})}catch(t){if(Me(t))return dk(t)&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:i,error:l}=n;if(l)throw l;if(!i.session)throw new lr;const c=i.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Li(this.storage,this.storageKey));const{data:m,error:g}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:dr});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new lr;const t=Date.now()/1e3;let n=t,i=!0,l=null;const{payload:c}=Gd(e.access_token);if(c.exp&&(n=c.exp,i=n<=t),i){const{session:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(t){if(Me(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:c,error:d}=t;if(d)throw d;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new lr;const{session:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Me(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Js())throw new nc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new nc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new _p("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nc("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _p("No code detected.");const{data:P,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!c||!m)throw new nc("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(d);let v=g+x;h&&(v=parseInt(h));const b=v-g;b*1e3<=Yi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const j=v-x;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,g);const{data:_,error:S}=await this._getUser(l);if(S)throw S;const N={provider_token:n,provider_refresh_token:i,access_token:l,expires_in:x,expires_at:v,refresh_token:c,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:e.type},error:null}}catch(n){if(Me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Lr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:i,error:l}=t;if(l)return{error:l};const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(uk(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=wk(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:l},error:c}=t;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Li(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(Me(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Me(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:i}=await this._useSession(async l=>{var c,d,h,m,g;const{data:x,error:v}=l;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Js()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Me(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:l,error:c}=t;if(c)throw c;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Me(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Nk(async i=>(i>0&&await _k(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nn})),(i,l)=>{const c=200*Math.pow(2,i);return l&&qd(l)&&Date.now()+c-n<Yi})}catch(n){if(this._debug(t,"error",n),Me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Js()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Lr(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Lr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await Ki(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c?.user)!==null&&e!==void 0?e:Yd()}else if(i&&!i.user&&!i.user){const c=await Lr(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await rr(this.storage,this.storageKey+"-user"),await Ki(this.storage,this.storageKey,i)):i.user=Yd()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const l=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Vd;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Vd}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),qd(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Yc;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new lr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={session:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),Me(l)){const c={session:null,error:l};return qd(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,t)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Ki(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const l=Tp(i);await Ki(this.storage,this.storageKey,l)}else{const i=Tp(t);await Ki(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await rr(this.storage,this.storageKey),await rr(this.storage,this.storageKey+"-code-verifier"),await rr(this.storage,this.storageKey+"-user"),this.userStorage&&await rr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Js()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Yi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yi}ms, refresh threshold is ${Oh} ticks`),i<=Oh&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Js()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,c]=await Li(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(n?.queryParams){const l=new URLSearchParams(n.queryParams);i.push(l.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:l}=t;return l?{data:null,error:l}:await Le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Me(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:l,error:c}=t;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:m}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=l?.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(t){if(Me(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:l}=t;if(l)return{data:null,error:l};const{data:c,error:d}=await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(t){if(Me(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:l}=t;return l?{data:null,error:l}:await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Me(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=e?.factors||[],i=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:i,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:i},error:l}=e;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Gd(i.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(x=>x.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const g=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(d=>d.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(d=>d.kid===e),n&&this.jwks_cached_at+lk>i)return n;const{data:l,error:c}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,n=l.keys.find(d=>d.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:b,error:j}=await this.getSession();if(j||!b.session)return{data:null,error:j};n=b.session.access_token}const{header:i,payload:l,signature:c,raw:{header:d,payload:h}}=Gd(n);t?.allowExpired||Ak(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!m){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:l,header:i,signature:c},error:null}}const g=Ok(i.alg),x=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,c,yk(`${d}.${h}`)))throw new Dh("Invalid JWT signature");return{data:{claims:l,header:i,signature:c},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}}To.nextInstanceID=0;const Kk=To;class Jk extends Kk{constructor(e){super(e)}}var Qk=function(s,e,t,n){function i(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(g){try{m(n.next(g))}catch(x){c(x)}}function h(g){try{m(n.throw(g))}catch(x){c(x)}}function m(g){g.done?l(g.value):i(g.value).then(d,h)}m((n=n.apply(s,e||[])).next())})};class Xk{constructor(e,t,n){var i,l,c;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const d=sk(e),h=new URL(d);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:Yj,realtime:Jj,auth:Object.assign(Object.assign({},Kj),{storageKey:m}),global:Gj},x=nk(n??{},g);this.storageKey=(i=x.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=x.global.headers)!==null&&l!==void 0?l:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=x.auth)!==null&&c!==void 0?c:{},this.headers,x.global.fetch),this.fetch=ek(t,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new mj(new URL("rest/v1",h).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new Hj(this.storageUrl.href,this.headers,this.fetch,n?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new rj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Qk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,storageKey:l,flowType:c,lock:d,debug:h},m,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jk({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),m),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,flowType:c,lock:d,debug:h,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Mj(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zk=(s,e,t)=>new Xk(s,e,t);function e_(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const e=s.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}e_()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const t_="https://pffgxlzfvyscuutiouzc.supabase.co",s_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBmZmd4bHpmdnlzY3V1dGlvdXpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1ODAwOTAsImV4cCI6MjA3MTE1NjA5MH0.Ed-QJrqCc3TtUlu2C0V1UByEZhjc4BC0sA1D5iIYV2c";try{localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("supabase.auth.refreshToken")}catch(s){console.warn("Failed to clear local storage:",s)}(navigator.brave!==void 0||window.brave)&&console.info("%cBrave Browser Detected: If you see fingerprint.js errors in the console, this is normal. It's Brave's privacy protection working as intended and won't affect the app's functionality.","color: #888; font-style: italic;");const Ue=Zk(t_,s_,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"app.auth.token",storage:localStorage,flowType:"pkce"},db:{schema:"public"},global:{headers:{"Cache-Control":"no-cache"}}}),py=k.createContext(void 0),fs=()=>{const s=k.useContext(py);if(!s)throw new Error("useAuth must be used within AuthProvider");return s},n_=({children:s})=>{const[e,t]=k.useState(null),[n,i]=k.useState(null),[l,c]=k.useState(!0),[d,h]=k.useState("connecting");k.useEffect(()=>{let v=!0,b=!1;const j=P=>{v&&(P?(i(P),t(P.user),h("connected"),b||console.log("✅ User authenticated:",P.user.email)):(i(null),t(null),h("offline"),b||console.log("🔒 User logged out")),c(!1),b=!0)},_=async(P,E)=>{if(v){if(P==="SIGNED_IN"&&b&&n&&E?.user?.id===n.user?.id){console.log("⚠️ Skipping duplicate SIGNED_IN event for same user");return}if(console.log("🔄 Auth state changed:",P,E?"authenticated":"logged out"),j(E),P==="SIGNED_IN"&&E?.user&&!b)try{const I=E.user.user_metadata;await Ue.from("profiles").upsert({id:E.user.id,email:E.user.email,full_name:I?.full_name||I?.name||null,first_name:I?.first_name||null,last_name:I?.last_name||null,role:"user",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{onConflict:"id"})}catch(I){console.warn("Profile update failed (non-critical):",I)}}};(async()=>{try{const{data:{session:P},error:E}=await Ue.auth.getSession();E?(console.error("Session error:",E),h("error")):h(P?"connected":"offline"),j(P)}catch(P){console.error("Critical auth error:",P),h("error"),j(null)}})();const{data:{subscription:N}}=Ue.auth.onAuthStateChange(_);return()=>{v=!1,N.unsubscribe()}},[]);const m=async(v,b)=>{const{error:j}=await Ue.auth.signInWithPassword({email:v,password:b});return{error:j}},g=async(v,b,j)=>{const _={email:v,password:b};j&&(_.options={data:{first_name:j.firstName,last_name:j.lastName,full_name:j.fullName}});const{error:S}=await Ue.auth.signUp(_);return{error:S}},x=async()=>{try{const{error:v}=await Ue.auth.signOut();return{error:v}}catch(v){return{error:v}}};return a.jsx(py.Provider,{value:{user:e,session:n,loading:l,connectionStatus:d,signIn:m,signUp:g,signOut:x},children:s})},xy=k.createContext(void 0),Jd="time-store-data",Bi="time-store-running-session",rc="time-store-pomodoro",go={work:1500*1e3,short:300*1e3,long:900*1e3,longEvery:3};class Xi{static instance;intervalId=null;callbacks=new Set;isActive=!1;lastHeartbeat=Date.now();heartbeatKey="timer-heartbeat";static getInstance(){return Xi.instance||(Xi.instance=new Xi),Xi.instance}start(){this.isActive||(this.isActive=!0,this.lastHeartbeat=Date.now(),this.intervalId=window.setInterval(()=>{const e=Date.now();this.lastHeartbeat=e,localStorage.setItem(this.heartbeatKey,e.toString()),this.callbacks.forEach(t=>t())},1e3),this.startHeartbeatMonitor())}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.isActive=!1,localStorage.removeItem(this.heartbeatKey)}startHeartbeatMonitor(){const e=()=>{if(!this.isActive)return;const t=localStorage.getItem(this.heartbeatKey);if(t&&parseInt(t)>this.lastHeartbeat+500){console.log("Another tab took over timer control"),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.isActive=!1;return}this.isActive&&setTimeout(e,2e3)};setTimeout(e,2e3)}subscribe(e){return this.callbacks.add(e),()=>{this.callbacks.delete(e)}}isRunning(){return this.isActive}forceStart(){this.isActive=!1,this.start()}}const r_=(s=new Date)=>{const e=new Date(s);return e.setHours(0,0,0,0),e},Rp=(s=new Date)=>{const e=new Date(s),t=e.getDay(),n=e.getDate()-t+(t===0?-6:1);return e.setDate(n),e.setHours(0,0,0,0),e},Ip=(s=new Date)=>{const e=new Date(s);return e.setDate(1),e.setHours(0,0,0,0),e},Fr=(s,e)=>s.toDateString()===e.toDateString(),Dp=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),Lp=(s,e)=>s==="work"?(e+1)%go.longEvery===0?"long":"short":"work",i_=({children:s})=>{const[e,t]=k.useState(!1),[n,i]=k.useState(!1),[l,c]=k.useState(null),[d,h]=k.useState([]),[m,g]=k.useState(Date.now()),[x,v]=k.useState({phase:"work",isRunning:!1,startedAt:0,elapsedMs:0,workCount:0,totalTimeMs:go.work}),b=k.useRef(Xi.getInstance()),j=k.useRef(Date.now()),_=k.useRef(!0),S=k.useRef(!0);k.useEffect(()=>{const M=W=>{if(!(!_.current||!S.current)){if(W.key===rc&&W.newValue)try{const A=JSON.parse(W.newValue);v(A)}catch(A){console.error("Failed to sync pomodoro from another tab:",A)}if(W.key===Bi)if(W.newValue)try{const A=JSON.parse(W.newValue);if(A.isRunning&&A.runningSession){const C={...A.runningSession,startTime:new Date(A.runningSession.startTime)};if(Fr(C.startTime,new Date)){const se=(Date.now()-C.startTime.getTime())/1e3;c({...C,elapsedSeconds:se}),t(!0),i(!1),b.current.isRunning()||b.current.start()}}}catch(A){console.error("Failed to sync session from another tab:",A)}else c(null),t(!1),i(!1),b.current.stop();if(W.key===Jd&&W.newValue)try{const A=JSON.parse(W.newValue);A.sessions&&h(A.sessions.map(C=>({...C,startTime:new Date(C.startTime),endTime:new Date(C.endTime)})))}catch(A){console.error("Failed to sync historical data:",A)}}};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)},[]),k.useEffect(()=>{_.current=!0,S.current=!0;const M=localStorage.getItem(Jd);if(M)try{const C=JSON.parse(M);C.sessions&&h(C.sessions.map($=>({...$,startTime:new Date($.startTime),endTime:new Date($.endTime)})))}catch(C){console.error("Failed to load historical time store data:",C)}const W=localStorage.getItem(rc);if(W)try{const C=JSON.parse(W);if(C.isRunning){const $=Date.now(),se=$-C.startedAt,oe=C.elapsedMs+se;v({...C,startedAt:$,elapsedMs:oe})}else v(C)}catch(C){console.error("Failed to restore pomodoro state:",C),localStorage.removeItem(rc)}const A=localStorage.getItem(Bi);if(A)try{const C=JSON.parse(A);if(C.isRunning&&C.runningSession){const $={...C.runningSession,startTime:new Date(C.runningSession.startTime)};if(Fr($.startTime,new Date)){const oe=(Date.now()-$.startTime.getTime())/1e3;c({...$,elapsedSeconds:oe}),t(!0),i(!1),b.current.forceStart(),console.log("Timer restored and restarted:",{elapsedSinceStart:Math.floor(oe/60),minutes:"min"})}else localStorage.removeItem(Bi)}}catch(C){console.error("Failed to restore running session:",C),localStorage.removeItem(Bi)}return()=>{_.current=!1,S.current=!1}},[]);const N=qe.useCallback(()=>{if(!_.current)return;const M=Date.now();if(g(M),x.isRunning&&x.startedAt>0&&x.elapsedMs+(M-x.startedAt)>=x.totalTimeMs){const A=Lp(x.phase,x.workCount),C=x.phase==="work"?x.workCount+1:x.phase==="long"?0:x.workCount;v($=>({...$,phase:A,isRunning:!1,startedAt:0,elapsedMs:0,workCount:C,totalTimeMs:go[A]})),console.log(`Pomodoro phase completed: ${x.phase} -> ${A}`)}e&&l&&(c(W=>{if(!W)return null;const A=(M-W.startTime.getTime())/1e3;return{...W,elapsedSeconds:A}}),E(M)),M-j.current>2e3&&(P(),j.current=M)},[e,l,x]);k.useEffect(()=>b.current.subscribe(N),[N]);const P=qe.useCallback(()=>{if(_.current){S.current=!1;try{const M={sessions:d.map(W=>({...W,startTime:W.startTime.toISOString(),endTime:W.endTime.toISOString()})),lastUpdated:Date.now()};if(localStorage.setItem(Jd,JSON.stringify(M)),e&&l){const W={isRunning:e,isPaused:n,runningSession:{...l,startTime:l.startTime.toISOString()},lastSaved:Date.now()};localStorage.setItem(Bi,JSON.stringify(W))}else localStorage.removeItem(Bi);localStorage.setItem(rc,JSON.stringify(x))}catch(M){console.error("Failed to save timer state:",M)}setTimeout(()=>{_.current&&(S.current=!0)},100)}},[e,n,l,d,x]),E=qe.useCallback(M=>{if(!l||!e)return;const W=new Date(M),A=l.startTime;if(!Fr(A,W)){const C=r_(W),$=(C.getTime()-A.getTime())/1e3,se={id:l.id,startTime:A,endTime:C,duration:$,category:l.category};h(be=>[...be,se]);const oe={id:Dp(),startTime:C,elapsedSeconds:0,category:l.category,kind:l.kind};c(oe)}},[l,e]),I=qe.useCallback((M="focus")=>{if(!e){const W={id:Dp(),startTime:new Date,elapsedSeconds:0,category:M==="focus"?"Focus":"Breaks",kind:M};c(W),t(!0),i(!1),b.current.forceStart(),console.log("Timer started:",M)}},[e]),L=qe.useCallback(()=>{if(e&&l){const M={id:l.id,startTime:l.startTime,endTime:new Date,duration:l.elapsedSeconds,category:l.category};h(W=>[...W,M]),c(null),t(!1),i(!0),b.current.stop(),console.log("Timer paused")}else n&&I()},[e,l,n,I]),B=qe.useCallback(()=>{if(e&&l){const M={id:l.id,startTime:l.startTime,endTime:new Date,duration:l.elapsedSeconds,category:l.category};h(W=>[...W,M])}c(null),t(!1),i(!1),b.current.stop(),console.log("Timer reset")},[e,l]),G=qe.useCallback(()=>{const M=new Date,A=d.filter($=>Fr($.startTime,M)).reduce(($,se)=>$+se.duration,0),C=l&&Fr(l.startTime,M)?l.elapsedSeconds:0;return Math.floor((A+C)/60)},[d,l]),q=qe.useCallback(()=>{const M=Rp(),W=new Array(7).fill(0);if(d.forEach(A=>{const C=Math.floor((A.startTime.getTime()-M.getTime())/864e5);C>=0&&C<7&&(W[C]+=A.duration/60)}),l){const A=Math.floor((l.startTime.getTime()-M.getTime())/864e5);A>=0&&A<7&&(W[A]+=l.elapsedSeconds/60)}return W.map(A=>Math.floor(A))},[d,l]),Z=qe.useCallback(()=>{const M=Ip(),W=new Date(M.getFullYear(),M.getMonth()+1,0).getDate(),A=new Array(W).fill(0);if(d.forEach(C=>{const $=C.startTime.getDate()-1;C.startTime>=M&&$>=0&&$<W&&(A[$]+=C.duration/60)}),l&&l.startTime>=M){const C=l.startTime.getDate()-1;C>=0&&C<W&&(A[C]+=l.elapsedSeconds/60)}return A.map(C=>Math.floor(C))},[d,l]),re=qe.useCallback(()=>{const M=new Date,W={Focus:0,Meetings:0,Breaks:0,Other:0};return d.filter(A=>Fr(A.startTime,M)).forEach(A=>{W[A.category]+=A.duration/60}),l&&Fr(l.startTime,M)&&(W[l.category]+=l.elapsedSeconds/60),{Focus:Math.floor(W.Focus),Meetings:Math.floor(W.Meetings),Breaks:Math.floor(W.Breaks),Other:Math.floor(W.Other)}},[d,l]),K=qe.useCallback(()=>{const M=Rp(),W=new Date(M.getTime()+10080*60*1e3),A={Focus:0,Meetings:0,Breaks:0,Other:0};return d.filter(C=>C.startTime>=M&&C.startTime<W).forEach(C=>{A[C.category]+=C.duration/60}),l&&l.startTime>=M&&l.startTime<W&&(A[l.category]+=l.elapsedSeconds/60),{Focus:Math.floor(A.Focus),Meetings:Math.floor(A.Meetings),Breaks:Math.floor(A.Breaks),Other:Math.floor(A.Other)}},[d,l]),ie=qe.useCallback(()=>{const M=Ip(),W=new Date(M.getFullYear(),M.getMonth()+1,0,23,59,59),A={Focus:0,Meetings:0,Breaks:0,Other:0};return d.filter(C=>C.startTime>=M&&C.startTime<=W).forEach(C=>{A[C.category]+=C.duration/60}),l&&l.startTime>=M&&l.startTime<=W&&(A[l.category]+=l.elapsedSeconds/60),{Focus:Math.floor(A.Focus),Meetings:Math.floor(A.Meetings),Breaks:Math.floor(A.Breaks),Other:Math.floor(A.Other)}},[d,l]),Y=qe.useCallback(()=>{const M=Date.now();v(A=>({...A,isRunning:!0,startedAt:M})),b.current.isRunning()||b.current.start();const W=x.phase==="work"?"focus":x.phase==="short"?"shortBreak":"longBreak";I(W)},[x.phase,I]),ae=qe.useCallback(()=>{v(M=>{if(M.isRunning&&M.startedAt>0){const A=Date.now()-M.startedAt;return{...M,isRunning:!1,elapsedMs:M.elapsedMs+A,startedAt:0}}return M}),L()},[L]),Q=qe.useCallback(()=>{v({phase:"work",isRunning:!1,startedAt:0,elapsedMs:0,workCount:0,totalTimeMs:go.work}),B()},[B]),ce=qe.useCallback(()=>{const M=Lp(x.phase,x.workCount),W=x.phase==="work"?x.workCount+1:x.phase==="long"?0:x.workCount;v({phase:M,isRunning:!1,startedAt:0,elapsedMs:0,workCount:W,totalTimeMs:go[M]}),L()},[x.phase,x.workCount,L]),R={isRunning:e,isPaused:n,runningSession:l,sessions:d,lastTick:m,pomodoro:x,startTimer:I,pauseTimer:L,resetTimer:B,getTodayMinutes:G,getWeekMinutes:q,getMonthMinutes:Z,getDayMinutesByCategory:re,getWeekMinutesByCategory:K,getMonthMinutesByCategory:ie,startPomodoroTimer:Y,pausePomodoroTimer:ae,resetPomodoroTimer:Q,skipPomodoroPhase:ce};return a.jsx(xy.Provider,{value:R,children:s})},yy=()=>{const s=k.useContext(xy);if(s===void 0)throw new Error("useTimeStore must be used within a TimeStoreProvider");return s},a_=k.createContext(void 0),Fp="task-store-data",Qd=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),o_=({children:s})=>{const[e,t]=k.useState([]);k.useEffect(()=>{const h=localStorage.getItem(Fp);if(h)try{const m=JSON.parse(h);t(m.tasks.map(g=>({...g,createdAt:new Date(g.createdAt),updatedAt:new Date(g.updatedAt)})))}catch(m){console.error("Failed to load task store data:",m)}else{const m=[{id:Qd(),title:"i want to create a youtube video",status:"open",createdAt:new Date,updatedAt:new Date},{id:Qd(),title:"I want to create a youtube video",status:"completed",createdAt:new Date,updatedAt:new Date}];t(m)}},[]),k.useEffect(()=>{const h={tasks:e.map(m=>({...m,createdAt:m.createdAt.toISOString(),updatedAt:m.updatedAt.toISOString()}))};localStorage.setItem(Fp,JSON.stringify(h))},[e]);const d={tasks:e,addTask:h=>{const m={id:Qd(),title:h,status:"open",createdAt:new Date,updatedAt:new Date};t(g=>[...g,m])},updateTaskStatus:(h,m)=>{t(g=>g.map(x=>x.id===h?{...x,status:m,updatedAt:new Date}:x))},deleteTask:h=>{t(m=>m.filter(g=>g.id!==h))},getTaskStats:()=>{const h=e.length,m=e.filter(v=>v.status==="open").length,g=e.filter(v=>v.status==="in-progress").length,x=e.filter(v=>v.status==="completed").length;return{total:h,open:m,inProgress:g,completed:x}}};return a.jsx(a_.Provider,{value:d,children:s})},vy=k.createContext(void 0),Xd="magicteams_notifications",l_=({children:s})=>{const[e,t]=k.useState(()=>{const g=localStorage.getItem(Xd);if(g)try{return JSON.parse(g)}catch(x){return console.error("Error loading notifications:",x),[]}return[]});k.useEffect(()=>{localStorage.setItem(Xd,JSON.stringify(e))},[e]);const n=e.filter(g=>!g.read).length,i=g=>{const x={...g,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString(),read:!1};t(v=>[x,...v])},l=g=>{t(x=>x.map(v=>v.id===g?{...v,read:!0}:v))},c=()=>{t(g=>g.map(x=>({...x,read:!0})))},d=g=>{t(x=>x.filter(v=>v.id!==g))},h=()=>{t([]),localStorage.removeItem(Xd)},m=g=>e.find(x=>x.id===g);return a.jsx(vy.Provider,{value:{notifications:e,unreadCount:n,addNotification:i,markAsRead:l,markAllAsRead:c,clearNotification:d,clearAllNotifications:h,getNotification:m},children:s})},c_=()=>{const s=k.useContext(vy);if(!s)throw new Error("useNotifications must be used within a NotificationProvider");return s},by=k.createContext(void 0),ic="magicteams_drafts",Zd="magicteams_sent_messages",eh="magicteams_scheduled_messages",u_=({children:s})=>{k.useEffect(()=>{localStorage.removeItem(ic),localStorage.removeItem(Zd),localStorage.removeItem(eh)},[]);const[e,t]=k.useState([]),[n,i]=k.useState([]),[l,c]=k.useState([]);k.useEffect(()=>{localStorage.setItem(ic,JSON.stringify(e))},[e]),k.useEffect(()=>{localStorage.setItem(Zd,JSON.stringify(n))},[n]),k.useEffect(()=>{localStorage.setItem(eh,JSON.stringify(l))},[l]);const d=E=>{const I={...E,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString(),lastUpdated:new Date().toISOString()};t(L=>[I,...L])},h=(E,I)=>{t(L=>L.map(B=>B.id===E?{...B,message:I,lastUpdated:new Date().toISOString()}:B))},m=E=>{t(I=>I.filter(L=>L.id!==E))},g=E=>{const I=e.find(L=>L.id===E);if(I){const L={id:I.id,location:I.location,message:I.message,timestamp:I.timestamp,type:I.type,recipient:I.recipient,channelId:I.channelId,sentAt:new Date().toISOString()};i(B=>[L,...B]),m(E)}},x=E=>{const I={...E,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString(),status:"pending"};c(L=>[I,...L])},v=E=>{c(I=>I.filter(L=>L.id!==E))},b=()=>{t([]),localStorage.removeItem(ic)},j=()=>{t([]),i([]),c([]),localStorage.removeItem(ic),localStorage.removeItem(Zd),localStorage.removeItem(eh)},_=E=>e.find(I=>I.id===E),S=E=>{if(!E.trim())return e;const I=E.toLowerCase();return e.filter(L=>L.message.toLowerCase().includes(I)||L.location.toLowerCase().includes(I))},N=E=>{if(!E.trim())return n;const I=E.toLowerCase();return n.filter(L=>L.message.toLowerCase().includes(I)||L.location.toLowerCase().includes(I))},P=E=>{if(!E.trim())return l;const I=E.toLowerCase();return l.filter(L=>L.message.toLowerCase().includes(I)||L.location.toLowerCase().includes(I))};return a.jsx(by.Provider,{value:{drafts:e,sentMessages:n,scheduledMessages:l,addDraft:d,updateDraft:h,deleteDraft:m,sendDraft:g,addScheduledMessage:x,cancelScheduledMessage:v,clearAllDrafts:b,clearAllData:j,getDraft:_,searchDrafts:S,searchSent:N,searchScheduled:P},children:s})},d_=()=>{const s=k.useContext(by);if(!s)throw new Error("useDrafts must be used within a DraftProvider");return s},h_=({children:s})=>{const{user:e,loading:t,session:n}=fs();return t&&!n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!t&&(!e||!n)?a.jsx(ef,{to:"/login",replace:!0}):e&&n?a.jsx(qe.Fragment,{children:s}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(s,e)=>{const t=k.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:h,...m},g)=>k.createElement("svg",{ref:g,...f_,width:i,height:i,stroke:n,strokeWidth:c?Number(l)*24/Number(i):l,className:["lucide",`lucide-${m_(s)}`,d].join(" "),...m},[...e.map(([x,v])=>k.createElement(x,v)),...Array.isArray(h)?h:[h]]));return t.displayName=`${s}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=ye("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ye("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=ye("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=ye("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=ye("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=ye("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ye("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=ye("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ye("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=ye("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=ye("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=ye("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=ye("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ye("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=ye("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=ye("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=ye("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ye("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=ye("PlusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=ye("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ye("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=ye("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=ye("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ye("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class z_ extends k.Component{state={hasError:!1,retryCount:0};maxRetries=3;handleRetry=()=>{this.state.retryCount<this.maxRetries?this.setState(e=>({hasError:!1,error:void 0,errorInfo:void 0,retryCount:e.retryCount+1})):window.location.reload()};static getDerivedStateFromError(e){return{hasError:!0,error:e,retryCount:0}}componentDidCatch(e,t){console.error("Uncaught error:",e,t),this.setState({errorInfo:t})}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Oc,{className:"w-8 h-8 text-red-500 mr-3"}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Something went wrong"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"An unexpected error occurred. Please refresh the page and try again."}),a.jsx("button",{onClick:this.handleRetry,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:this.state.retryCount>=this.maxRetries,children:this.state.retryCount<this.maxRetries?"Retry":"Refresh Page"}),this.state.retryCount>0&&a.jsxs("p",{className:"text-sm text-gray-500 text-center mt-2",children:["Retry attempt ",this.state.retryCount," of ",this.maxRetries]}),!1]})}):this.props.children}}const B_=({isOpen:s,onClose:e,onToggle:t})=>{const{user:n}=fs(),i=[{name:"New Task",href:"/app",icon:R_,label:"Add New Tasks"},{name:"Dashboard",href:"/app/dashboard",icon:S_,label:"Go to Dashboard"},{name:"Teams",href:"/app/teams",icon:hn,label:"View Teams"},{name:"Tasks",href:"/app/tasks",icon:v_,label:"View Tasks"},{name:"Chats",href:"/app/chats",icon:M_,label:"View Chats"},{name:"Calendar",href:"/app/calendar",icon:Uo,label:"View Calendar"},{name:"Profile",href:"/app/profile",icon:$h,label:"View Profile"}];return qe.useEffect(()=>{const l=c=>{c.key==="Escape"&&s&&e()};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[s,e]),a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        @keyframes fadeIn {
          from { 
            opacity: 0; 
            transform: translateX(-10px);
          }
          to { 
            opacity: 1; 
            transform: translateX(0);
          }
        }
      `}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 sm:hidden",onClick:e}),a.jsx("aside",{className:`
          bg-white border-r border-gray-200 transition-all duration-300 h-screen flex-shrink-0
          ${s?"w-64 min-w-64":"w-0 sm:w-16 sm:min-w-16 overflow-hidden"}
          fixed sm:relative inset-y-0 left-0 z-50 sm:z-0
          ${s?"shadow-lg sm:shadow-none":""}
          ${s?"translate-x-0":"-translate-x-full sm:translate-x-0"}
        `,"aria-label":"Sidebar navigation",role:"navigation",children:s?a.jsxs("div",{className:"flex flex-col h-full w-64",style:{overflow:"hidden",opacity:0,animation:"fadeIn 250ms cubic-bezier(0.4, 0, 0.2, 1) 100ms forwards"},children:[a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsx("div",{className:"px-5 py-6 border-b border-gray-200/50 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:"https://res.cloudinary.com/dwf0ywsoq/image/upload/v1756368405/magicteams_k6b5jh.png",alt:"Magic Teams",className:"w-10 h-10 object-contain"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Magic Teams"})]})}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-gray-700 transition-all duration-200","aria-label":"Close sidebar",children:a.jsx(bs,{className:"w-4 h-4"})})]})}),a.jsxs("nav",{className:"flex-1 overflow-y-auto px-2 py-4",children:[a.jsx("div",{className:"text-xs font-bold text-gray-400 mb-3 px-3 tracking-wider",children:"NAVIGATION"}),a.jsx("div",{className:"space-y-1",children:i.map(l=>a.jsxs(Nh,{to:l.href,className:({isActive:c})=>{const d=window.location.pathname;return`flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm transition-all duration-200 ${(l.href==="/app"?d==="/app"||d==="/app/new-task":c)?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50"}`},onClick:()=>window.innerWidth<1024&&e(),"aria-label":l.label,children:[a.jsx(l.icon,{className:"w-5 h-5 text-gray-500"}),a.jsx("span",{className:"font-medium leading-tight",children:l.name})]},l.name))})]})]}),a.jsx("div",{className:"border-t border-gray-200 p-5 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-gray-600 text-sm font-semibold",children:n?.email?.charAt(0).toUpperCase()||"U"})}),a.jsx("div",{className:"text-sm text-gray-700 truncate min-w-0",children:n?.email||"user@example.com"})]})})]}):a.jsxs("div",{className:"hidden sm:flex flex-col h-full w-16 min-w-16 overflow-hidden",children:[a.jsx("div",{className:"px-3 py-5 border-b border-gray-200/50 flex-shrink-0 flex justify-center",children:a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-gray-700 transition-all duration-200 flex items-center justify-center","aria-label":"Open sidebar",children:a.jsx(jy,{className:"w-5 h-5 flex-shrink-0"})})}),a.jsx("nav",{className:"flex-1 overflow-y-auto px-2 py-4",children:a.jsx("div",{className:"space-y-2",children:i.map(l=>a.jsx(Nh,{to:l.href,className:({isActive:c})=>{const d=window.location.pathname;return`flex items-center justify-center p-3 rounded-lg transition-all duration-200 group relative min-h-12 ${(l.href==="/app"?d==="/app"||d==="/app/new-task":c)?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`},title:l.name,"aria-label":l.label,children:a.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"})},l.name))})}),a.jsx("div",{className:"border-t border-gray-200 p-3 flex-shrink-0 flex justify-center",children:a.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-gray-600 text-sm font-semibold",children:n?.email?.charAt(0).toUpperCase()||"U"})})})]})})]})},U_=()=>{const s=[{icon:a.jsx(D_,{className:"w-8 h-8 text-purple-600"}),title:"AI-Powered Task Breakdown",description:"Transform complex projects into manageable steps with intelligent AI assistance."},{icon:a.jsx(Uo,{className:"w-8 h-8 text-blue-600"}),title:"Smart Calendar Integration",description:"Visualize your tasks and deadlines with our intuitive calendar interface."},{icon:a.jsx(Ms,{className:"w-8 h-8 text-green-600"}),title:"Progress Tracking",description:"Monitor your productivity with detailed progress tracking and analytics."},{icon:a.jsx(hn,{className:"w-8 h-8 text-orange-600"}),title:"Team Collaboration",description:"Work seamlessly with your team and share tasks effortlessly."}],e=[{number:"50K+",label:"Active Users"},{number:"1M+",label:"Tasks Completed"},{number:"99.9%",label:"Uptime"},{number:"4.9★",label:"User Rating"}];return a.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[a.jsx("header",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:a.jsxs("nav",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-md flex items-center justify-center",children:a.jsx(Ms,{className:"w-6 h-6 text-white"})}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"TaskFlow"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(dn,{to:"/login",className:"px-4 py-2 text-gray-700 hover:text-blue-600 transition-colors duration-200",children:"Sign In"}),a.jsx(dn,{to:"/signup",className:"px-6 py-3 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 transition-all duration-200",children:"Get Started"})]})]})}),a.jsx("section",{className:"px-6 py-16",children:a.jsx("div",{className:"max-w-7xl mx-auto text-center",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Transform Your",a.jsx("span",{className:"text-blue-600",children:" Productivity"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-10 leading-relaxed",children:"Harness the power of AI to break down complex tasks, organize your workflow, and achieve more than ever before."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[a.jsxs(dn,{to:"/signup",className:"group px-8 py-3 bg-blue-600 text-white rounded-md text-lg font-semibold hover:bg-blue-700 transition-all duration-200 flex items-center space-x-2",children:[a.jsx("span",{children:"Start Free Today"}),a.jsx(Lh,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-200"})]}),a.jsx("button",{className:"px-8 py-3 border-2 border-gray-300 text-gray-700 rounded-md text-lg font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:"Watch Demo"})]})]})})}),a.jsx("section",{className:"px-6 py-12 bg-white border-t border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:e.map((t,n)=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-1",children:t.number}),a.jsx("div",{className:"text-gray-600 text-sm md:text-base",children:t.label})]},n))})})}),a.jsx("section",{className:"px-6 py-16 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Everything You Need to Excel"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our comprehensive suite of tools helps you organize, prioritize, and accomplish your goals with unprecedented efficiency."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((t,n)=>a.jsxs("div",{className:"group p-6 bg-white rounded-md border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all duration-200",children:[a.jsx("div",{className:"mb-6 transform group-hover:scale-110 transition-transform duration-300",children:t.icon}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:t.title}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},n))})]})}),a.jsx("section",{className:"px-6 py-16 bg-white border-t border-gray-200",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Ready to Transform Your Workflow?"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Join thousands of professionals who have already revolutionized their productivity."}),a.jsxs(dn,{to:"/signup",className:"inline-flex items-center space-x-3 px-10 py-4 bg-blue-600 text-white rounded-md text-xl font-semibold hover:bg-blue-700 transition-all duration-200",children:[a.jsx("span",{children:"Get Started Now"}),a.jsx(Lh,{className:"w-6 h-6"})]})]})}),a.jsx("footer",{className:"px-6 py-8 border-t border-gray-200 bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4 md:mb-0",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-md flex items-center justify-center",children:a.jsx(Ms,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"TaskFlow"})]}),a.jsx("div",{className:"text-gray-600 text-center md:text-left",children:a.jsx("p",{children:"© 2024 TaskFlow. All rights reserved."})})]})})})]})},W_=()=>{const[s,e]=k.useState(""),[t,n]=k.useState(""),[i,l]=k.useState(!1),[c,d]=k.useState(!1),[h,m]=k.useState(""),[g,x]=k.useState(null),{signIn:v}=fs(),b=yr(),j=async _=>{_.preventDefault(),d(!0),m("");const{error:S}=await v(s,t);S?m(S.message):b("/app"),d(!1)};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[a.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-12",children:a.jsxs("div",{className:"max-w-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-md flex items-center justify-center",children:a.jsx(Ms,{className:"w-7 h-7 text-white"})}),a.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"TaskFlow"})]}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6 leading-tight",children:"Welcome back to your productivity hub"}),a.jsx("p",{className:"text-xl text-gray-600 leading-relaxed mb-8",children:"Continue your journey towards better organization and enhanced productivity."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-700",children:"AI-powered task breakdown"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-700",children:"Smart calendar integration"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-gray-700",children:"Real-time progress tracking"})]})]})]})}),a.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(dn,{to:"/",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-blue-600 mb-8 transition-colors duration-200 group",children:[a.jsx(wy,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform duration-200"}),a.jsx("span",{children:"Back to home"})]}),a.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg border border-gray-200 p-8 shadow-lg",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),a.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),h&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-md animate-in slide-in-from-top duration-300",children:h}),a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"email",className:`absolute transition-all duration-200 pointer-events-none z-10 ${g==="email"||s?"left-4 -top-2 text-xs bg-white px-2 rounded text-gray-700":"left-12 top-4 text-gray-500"}`,children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zi,{className:`absolute left-4 top-4 w-5 h-5 transition-colors duration-200 ${g==="email"?"text-blue-500":"text-gray-400"}`}),a.jsx("input",{id:"email",type:"email",required:!0,value:s,onChange:_=>e(_.target.value),onFocus:()=>x("email"),onBlur:()=>x(null),className:"w-full pl-12 pr-4 py-4 bg-white/70 border border-gray-300 rounded-md text-gray-900 placeholder-transparent focus:outline-none focus:border-blue-500 focus:bg-white transition-all duration-200",placeholder:"Enter your email"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"password",className:`absolute transition-all duration-200 pointer-events-none z-10 ${g==="password"||t?"left-4 -top-2 text-xs bg-white px-2 rounded text-gray-700":"left-12 top-4 text-gray-500"}`,children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ic,{className:`absolute left-4 top-4 w-5 h-5 transition-colors duration-200 ${g==="password"?"text-blue-500":"text-gray-400"}`}),a.jsx("input",{id:"password",type:i?"text":"password",required:!0,value:t,onChange:_=>n(_.target.value),onFocus:()=>x("password"),onBlur:()=>x(null),className:"w-full pl-12 pr-12 py-4 bg-white/70 border border-gray-300 rounded-md text-gray-900 placeholder-transparent focus:outline-none focus:border-blue-500 focus:bg-white transition-all duration-200",placeholder:"Enter your password"}),a.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:i?a.jsx(Fh,{className:"w-5 h-5"}):a.jsx(Rc,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:c?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a.jsx("span",{children:"Signing in..."})]}):"Sign In"}),a.jsx("div",{className:"text-center pt-4",children:a.jsxs("span",{className:"text-gray-600",children:["Don't have an account?"," ",a.jsx(dn,{to:"/signup",className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors duration-200 underline underline-offset-2",children:"Sign up for free"})]})})]})]})]})})]})},H_=()=>{const[s,e]=k.useState(""),[t,n]=k.useState(""),[i,l]=k.useState(""),[c,d]=k.useState(""),[h,m]=k.useState(""),[g,x]=k.useState(!1),[v,b]=k.useState(!1),[j,_]=k.useState(!1),[S,N]=k.useState(""),[P,E]=k.useState(null),{signUp:I}=fs(),L=yr(),G=(K=>{let ie=0;return K.length>=8&&(ie+=1),/[a-z]/.test(K)&&/[A-Z]/.test(K)&&(ie+=1),/\d/.test(K)&&(ie+=1),/[^A-Za-z0-9]/.test(K)&&(ie+=1),ie})(c),q=["bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500"],Z=["Weak","Fair","Good","Strong"],re=async K=>{if(K.preventDefault(),_(!0),N(""),!s.trim()){N("First name is required"),_(!1);return}if(!t.trim()){N("Last name is required"),_(!1);return}if(c!==h){N("Passwords do not match"),_(!1);return}if(G<2){N("Password is too weak. Please choose a stronger password."),_(!1);return}const ie=`${s.trim()} ${t.trim()}`,{error:Y}=await I(i,c,{firstName:s.trim(),lastName:t.trim(),fullName:ie});Y?N(Y.message):L("/app"),_(!1)};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[a.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-12",children:a.jsxs("div",{className:"max-w-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-md flex items-center justify-center",children:a.jsx(Ms,{className:"w-7 h-7 text-white"})}),a.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"TaskFlow"})]}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6 leading-tight",children:"Start your productivity journey today"}),a.jsx("p",{className:"text-xl text-gray-600 leading-relaxed mb-8",children:"Join thousands of users who have transformed their workflow with TaskFlow's intelligent task management."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Ms,{className:"w-5 h-5 text-blue-600"})}),a.jsx("span",{className:"text-gray-700",children:"Free forever with premium features"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(I_,{className:"w-5 h-5 text-blue-600"})}),a.jsx("span",{className:"text-gray-700",children:"Enterprise-grade security"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Ms,{className:"w-5 h-5 text-blue-600"})}),a.jsx("span",{className:"text-gray-700",children:"No credit card required"})]})]})]})}),a.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(dn,{to:"/",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-blue-600 mb-8 transition-colors duration-200 group",children:[a.jsx(wy,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform duration-200"}),a.jsx("span",{children:"Back to home"})]}),a.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg border border-gray-200 p-8 shadow-lg",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Get Started"}),a.jsx("p",{className:"text-gray-600",children:"Create your free account"})]}),S&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-md animate-in slide-in-from-top duration-300",children:S}),a.jsxs("form",{onSubmit:re,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"firstName",className:`absolute transition-all duration-200 pointer-events-none z-10 ${P==="firstName"||s?"left-4 -top-2 text-xs bg-white px-2 rounded text-gray-700":"left-12 top-4 text-gray-500"}`,children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx($h,{className:`absolute left-4 top-4 w-5 h-5 transition-colors duration-200 ${P==="firstName"?"text-blue-500":"text-gray-400"}`}),a.jsx("input",{id:"firstName",type:"text",required:!0,value:s,onChange:K=>e(K.target.value),onFocus:()=>E("firstName"),onBlur:()=>E(null),className:"w-full pl-12 pr-4 py-4 bg-white/70 border border-gray-300 rounded-md text-gray-900 placeholder-transparent focus:outline-none focus:border-blue-500 focus:bg-white transition-all duration-200",placeholder:"Enter your first name"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"lastName",className:`absolute transition-all duration-200 pointer-events-none z-10 ${P==="lastName"||t?"left-4 -top-2 text-xs bg-white px-2 rounded text-gray-700":"left-12 top-4 text-gray-500"}`,children:"Last Name"}),a.jsxs("div",{className:"relative",children:[a.jsx($h,{className:`absolute left-4 top-4 w-5 h-5 transition-colors duration-200 ${P==="lastName"?"text-blue-500":"text-gray-400"}`}),a.jsx("input",{id:"lastName",type:"text",required:!0,value:t,onChange:K=>n(K.target.value),onFocus:()=>E("lastName"),onBlur:()=>E(null),className:"w-full pl-12 pr-4 py-4 bg-white/70 border border-gray-300 rounded-md text-gray-900 placeholder-transparent focus:outline-none focus:border-blue-500 focus:bg-white transition-all duration-200",placeholder:"Enter your last name"})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"email",className:`absolute transition-all duration-200 pointer-events-none z-10 ${P==="email"||i?"left-4 -top-2 text-xs bg-white px-2 rounded text-gray-700":"left-12 top-4 text-gray-500"}`,children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zi,{className:`absolute left-4 top-4 w-5 h-5 transition-colors duration-200 ${P==="email"?"text-blue-500":"text-gray-400"}`}),a.jsx("input",{id:"email",type:"email",required:!0,value:i,onChange:K=>l(K.target.value),onFocus:()=>E("email"),onBlur:()=>E(null),className:"w-full pl-12 pr-4 py-4 bg-white/70 border border-gray-300 rounded-md text-gray-900 placeholder-transparent focus:outline-none focus:border-blue-500 focus:bg-white transition-all duration-200",placeholder:"Enter your email"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"password",className:`absolute transition-all duration-200 pointer-events-none z-10 ${P==="password"||c?"left-4 -top-2 text-xs bg-white px-2 rounded text-gray-700":"left-12 top-4 text-gray-500"}`,children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ic,{className:`absolute left-4 top-4 w-5 h-5 transition-colors duration-200 ${P==="password"?"text-blue-500":"text-gray-400"}`}),a.jsx("input",{id:"password",type:g?"text":"password",required:!0,value:c,onChange:K=>d(K.target.value),onFocus:()=>E("password"),onBlur:()=>E(null),className:"w-full pl-12 pr-12 py-4 bg-white/70 border border-gray-300 rounded-md text-gray-900 placeholder-transparent focus:outline-none focus:border-blue-500 focus:bg-white transition-all duration-200",placeholder:"Create a password"}),a.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:g?a.jsx(Fh,{className:"w-5 h-5"}):a.jsx(Rc,{className:"w-5 h-5"})})]}),c&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs text-gray-600",children:"Password strength"}),a.jsx("span",{className:"text-xs text-gray-600",children:Z[G-1]||"Too weak"})]}),a.jsx("div",{className:"flex space-x-1",children:[1,2,3,4].map(K=>a.jsx("div",{className:`flex-1 h-2 rounded-full transition-all duration-300 ${K<=G?q[G-1]:"bg-gray-200"}`},K))})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"confirmPassword",className:`absolute transition-all duration-200 pointer-events-none z-10 ${P==="confirmPassword"||h?"left-4 -top-2 text-xs bg-white px-2 rounded text-gray-700":"left-12 top-4 text-gray-500"}`,children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ic,{className:`absolute left-4 top-4 w-5 h-5 transition-colors duration-200 ${P==="confirmPassword"?"text-blue-500":"text-gray-400"}`}),a.jsx("input",{id:"confirmPassword",type:v?"text":"password",required:!0,value:h,onChange:K=>m(K.target.value),onFocus:()=>E("confirmPassword"),onBlur:()=>E(null),className:`w-full pl-12 pr-12 py-4 bg-white/70 border rounded-md text-gray-900 placeholder-transparent focus:outline-none focus:bg-white transition-all duration-200 ${h&&c!==h?"border-red-300 focus:border-red-500":h&&c===h?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-blue-500"}`,placeholder:"Confirm your password"}),a.jsx("button",{type:"button",onClick:()=>b(!v),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:v?a.jsx(Fh,{className:"w-5 h-5"}):a.jsx(Rc,{className:"w-5 h-5"})})]}),h&&a.jsx("div",{className:"mt-2 flex items-center space-x-2",children:c===h?a.jsxs(a.Fragment,{children:[a.jsx(Ms,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-xs text-green-600",children:"Passwords match"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-red-500 flex items-center justify-center",children:a.jsx("span",{className:"text-red-500 text-xs",children:"✕"})}),a.jsx("span",{className:"text-xs text-red-600",children:"Passwords do not match"})]})})]}),a.jsx("button",{type:"submit",disabled:j,className:"w-full py-4 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:j?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a.jsx("span",{children:"Creating account..."})]}):"Create Account"}),a.jsx("div",{className:"text-center pt-4",children:a.jsxs("span",{className:"text-gray-600",children:["Already have an account?"," ",a.jsx(dn,{to:"/login",className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors duration-200 underline underline-offset-2",children:"Sign in instead"})]})})]})]})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Wo(s){return s+.5|0}const hr=(s,e,t)=>Math.max(Math.min(s,t),e);function po(s){return hr(Wo(s*2.55),0,255)}function mr(s){return hr(Wo(s*255),0,255)}function Mn(s){return hr(Wo(s/2.55)/100,0,1)}function Vp(s){return hr(Wo(s*100),0,100)}const Ps={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zh=[..."0123456789ABCDEF"],V_=s=>zh[s&15],q_=s=>zh[(s&240)>>4]+zh[s&15],oc=s=>(s&240)>>4===(s&15),G_=s=>oc(s.r)&&oc(s.g)&&oc(s.b)&&oc(s.a);function Y_(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&Ps[s[1]]*17,g:255&Ps[s[2]]*17,b:255&Ps[s[3]]*17,a:e===5?Ps[s[4]]*17:255}:(e===7||e===9)&&(t={r:Ps[s[1]]<<4|Ps[s[2]],g:Ps[s[3]]<<4|Ps[s[4]],b:Ps[s[5]]<<4|Ps[s[6]],a:e===9?Ps[s[7]]<<4|Ps[s[8]]:255})),t}const K_=(s,e)=>s<255?e(s):"";function J_(s){var e=G_(s)?V_:q_;return s?"#"+e(s.r)+e(s.g)+e(s.b)+K_(s.a,e):void 0}const Q_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ky(s,e,t){const n=e*Math.min(t,1-t),i=(l,c=(l+s/30)%12)=>t-n*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function X_(s,e,t){const n=(i,l=(i+s/60)%6)=>t-t*e*Math.max(Math.min(l,4-l,1),0);return[n(5),n(3),n(1)]}function Z_(s,e,t){const n=ky(s,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function eN(s,e,t,n,i){return s===i?(e-t)/n+(e<t?6:0):e===i?(t-s)/n+2:(s-e)/n+4}function cf(s){const t=s.r/255,n=s.g/255,i=s.b/255,l=Math.max(t,n,i),c=Math.min(t,n,i),d=(l+c)/2;let h,m,g;return l!==c&&(g=l-c,m=d>.5?g/(2-l-c):g/(l+c),h=eN(t,n,i,g,l),h=h*60+.5),[h|0,m||0,d]}function uf(s,e,t,n){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,n)).map(mr)}function df(s,e,t){return uf(ky,s,e,t)}function tN(s,e,t){return uf(Z_,s,e,t)}function sN(s,e,t){return uf(X_,s,e,t)}function _y(s){return(s%360+360)%360}function nN(s){const e=Q_.exec(s);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?po(+e[5]):mr(+e[5]));const i=_y(+e[2]),l=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?n=tN(i,l,c):e[1]==="hsv"?n=sN(i,l,c):n=df(i,l,c),{r:n[0],g:n[1],b:n[2],a:t}}function rN(s,e){var t=cf(s);t[0]=_y(t[0]+e),t=df(t),s.r=t[0],s.g=t[1],s.b=t[2]}function iN(s){if(!s)return;const e=cf(s),t=e[0],n=Vp(e[1]),i=Vp(e[2]);return s.a<255?`hsla(${t}, ${n}%, ${i}%, ${Mn(s.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const qp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Gp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function aN(){const s={},e=Object.keys(Gp),t=Object.keys(qp);let n,i,l,c,d;for(n=0;n<e.length;n++){for(c=d=e[n],i=0;i<t.length;i++)l=t[i],d=d.replace(l,qp[l]);l=parseInt(Gp[c],16),s[d]=[l>>16&255,l>>8&255,l&255]}return s}let lc;function oN(s){lc||(lc=aN(),lc.transparent=[0,0,0,0]);const e=lc[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const lN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cN(s){const e=lN.exec(s);let t=255,n,i,l;if(e){if(e[7]!==n){const c=+e[7];t=e[8]?po(c):hr(c*255,0,255)}return n=+e[1],i=+e[3],l=+e[5],n=255&(e[2]?po(n):hr(n,0,255)),i=255&(e[4]?po(i):hr(i,0,255)),l=255&(e[6]?po(l):hr(l,0,255)),{r:n,g:i,b:l,a:t}}}function uN(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Mn(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const rh=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Wi=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function dN(s,e,t){const n=Wi(Mn(s.r)),i=Wi(Mn(s.g)),l=Wi(Mn(s.b));return{r:mr(rh(n+t*(Wi(Mn(e.r))-n))),g:mr(rh(i+t*(Wi(Mn(e.g))-i))),b:mr(rh(l+t*(Wi(Mn(e.b))-l))),a:s.a+t*(e.a-s.a)}}function cc(s,e,t){if(s){let n=cf(s);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=df(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function Ny(s,e){return s&&Object.assign(e||{},s)}function Yp(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=mr(s[3]))):(e=Ny(s,{r:0,g:0,b:0,a:1}),e.a=mr(e.a)),e}function hN(s){return s.charAt(0)==="r"?cN(s):nN(s)}class Po{constructor(e){if(e instanceof Po)return e;const t=typeof e;let n;t==="object"?n=Yp(e):t==="string"&&(n=Y_(e)||oN(e)||hN(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Ny(this._rgb);return e&&(e.a=Mn(e.a)),e}set rgb(e){this._rgb=Yp(e)}rgbString(){return this._valid?uN(this._rgb):void 0}hexString(){return this._valid?J_(this._rgb):void 0}hslString(){return this._valid?iN(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let l;const c=t===l?.5:t,d=2*c-1,h=n.a-i.a,m=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;l=1-m,n.r=255&m*n.r+l*i.r+.5,n.g=255&m*n.g+l*i.g+.5,n.b=255&m*n.b+l*i.b+.5,n.a=c*n.a+(1-c)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=dN(this._rgb,e._rgb,t)),this}clone(){return new Po(this.rgb)}alpha(e){return this._rgb.a=mr(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Wo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return cc(this._rgb,2,e),this}darken(e){return cc(this._rgb,2,-e),this}saturate(e){return cc(this._rgb,1,e),this}desaturate(e){return cc(this._rgb,1,-e),this}rotate(e){return rN(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function kn(){}const fN=(()=>{let s=0;return()=>s++})();function Xe(s){return s==null}function Tt(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function He(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Os(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function an(s,e){return Os(s)?s:e}function We(s,e){return typeof s>"u"?e:s}const mN=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function nt(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function Ke(s,e,t,n){let i,l,c;if(Tt(s))for(l=s.length,i=0;i<l;i++)e.call(t,s[i],i);else if(He(s))for(c=Object.keys(s),l=c.length,i=0;i<l;i++)e.call(t,s[c[i]],c[i])}function Dc(s,e){let t,n,i,l;if(!s||!e||s.length!==e.length)return!1;for(t=0,n=s.length;t<n;++t)if(i=s[t],l=e[t],i.datasetIndex!==l.datasetIndex||i.index!==l.index)return!1;return!0}function Lc(s){if(Tt(s))return s.map(Lc);if(He(s)){const e=Object.create(null),t=Object.keys(s),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=Lc(s[t[i]]);return e}return s}function Sy(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function gN(s,e,t,n){if(!Sy(s))return;const i=e[s],l=t[s];He(i)&&He(l)?Mo(i,l,n):e[s]=Lc(l)}function Mo(s,e,t){const n=Tt(e)?e:[e],i=n.length;if(!He(s))return s;t=t||{};const l=t.merger||gN;let c;for(let d=0;d<i;++d){if(c=n[d],!He(c))continue;const h=Object.keys(c);for(let m=0,g=h.length;m<g;++m)l(h[m],s,c,t)}return s}function _o(s,e){return Mo(s,e,{merger:pN})}function pN(s,e,t){if(!Sy(s))return;const n=e[s],i=t[s];He(n)&&He(i)?_o(n,i):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=Lc(i))}const Kp={"":s=>s,x:s=>s.x,y:s=>s.y};function xN(s){const e=s.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function yN(s){const e=xN(s);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function na(s,e){return(Kp[e]||(Kp[e]=yN(e)))(s)}function hf(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Ao=s=>typeof s<"u",xr=s=>typeof s=="function",Jp=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function vN(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const rt=Math.PI,ss=2*rt,Fc=Number.POSITIVE_INFINITY,bN=rt/180,Lt=rt/2,$r=rt/4,Qp=rt*2/3,Cy=Math.log10,gr=Math.sign;function Sc(s,e,t){return Math.abs(s-e)<t}function Xp(s){const e=Math.round(s);s=Sc(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(Cy(s))),n=s/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function wN(s){const e=[],t=Math.sqrt(s);let n;for(n=1;n<t;n++)s%n===0&&(e.push(n),e.push(s/n));return t===(t|0)&&e.push(t),e.sort((i,l)=>i-l).pop(),e}function jN(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function $c(s){return!jN(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function kN(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function _N(s,e,t){let n,i,l;for(n=0,i=s.length;n<i;n++)l=s[n][t],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function Gr(s){return s*(rt/180)}function NN(s){return s*(180/rt)}function Zp(s){if(!Os(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function Ey(s,e){const t=e.x-s.x,n=e.y-s.y,i=Math.sqrt(t*t+n*n);let l=Math.atan2(n,t);return l<-.5*rt&&(l+=ss),{angle:l,distance:i}}function SN(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function un(s){return(s%ss+ss)%ss}function Ty(s,e,t,n){const i=un(s),l=un(e),c=un(t),d=un(l-i),h=un(c-i),m=un(i-l),g=un(i-c);return i===l||i===c||n&&l===c||d>h&&m<g}function hs(s,e,t){return Math.max(e,Math.min(t,s))}function CN(s){return hs(s,-32768,32767)}function Yr(s,e,t,n=1e-6){return s>=Math.min(e,t)-n&&s<=Math.max(e,t)+n}function ff(s,e,t){t=t||(c=>s[c]<e);let n=s.length-1,i=0,l;for(;n-i>1;)l=i+n>>1,t(l)?i=l:n=l;return{lo:i,hi:n}}const Bh=(s,e,t,n)=>ff(s,t,n?i=>{const l=s[i][e];return l<t||l===t&&s[i+1][e]===t}:i=>s[i][e]<t),EN=(s,e,t)=>ff(s,t,n=>s[n][e]>=t);function TN(s,e,t){let n=0,i=s.length;for(;n<i&&s[n]<e;)n++;for(;i>n&&s[i-1]>t;)i--;return n>0||i<s.length?s.slice(n,i):s}const Py=["push","pop","shift","splice","unshift"];function PN(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Py.forEach(t=>{const n="_onData"+hf(t),i=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...l){const c=i.apply(this,l);return s._chartjs.listeners.forEach(d=>{typeof d[n]=="function"&&d[n](...l)}),c}})})}function e0(s,e){const t=s._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(Py.forEach(l=>{delete s[l]}),delete s._chartjs)}function My(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const Ay=(function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame})();function Oy(s,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,Ay.call(window,()=>{n=!1,s.apply(e,t)}))}}function MN(s,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(s,e,n)):s.apply(this,n),e}}const mf=s=>s==="start"?"left":s==="end"?"right":"center",qt=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,AN=(s,e,t,n)=>s===(n?"left":"right")?t:s==="center"?(e+t)/2:e,uc=s=>s===0||s===1,t0=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*ss/t)),s0=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*ss/t)+1,No={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Lt)+1,easeOutSine:s=>Math.sin(s*Lt),easeInOutSine:s=>-.5*(Math.cos(rt*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>uc(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>uc(s)?s:t0(s,.075,.3),easeOutElastic:s=>uc(s)?s:s0(s,.075,.3),easeInOutElastic(s){return uc(s)?s:s<.5?.5*t0(s*2,.1125,.45):.5+.5*s0(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-No.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?No.easeInBounce(s*2)*.5:No.easeOutBounce(s*2-1)*.5+.5};function Ry(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function n0(s){return Ry(s)?s:new Po(s)}function ih(s){return Ry(s)?s:new Po(s).saturate(.5).darken(.1).hexString()}const ON=["x","y","borderWidth","radius","tension"],RN=["color","borderColor","backgroundColor"];function IN(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:RN},numbers:{type:"number",properties:ON}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function DN(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const r0=new Map;function LN(s,e){e=e||{};const t=s+JSON.stringify(e);let n=r0.get(t);return n||(n=new Intl.NumberFormat(s,e),r0.set(t,n)),n}function Iy(s,e,t){return LN(e,t).format(s)}const FN={values(s){return Tt(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const n=this.chart.options.locale;let i,l=s;if(t.length>1){const m=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(m<1e-4||m>1e15)&&(i="scientific"),l=$N(s,t)}const c=Cy(Math.abs(l)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:i,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),Iy(s,n,h)}};function $N(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var Dy={formatters:FN};function zN(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Dy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Jr=Object.create(null),Uh=Object.create(null);function So(s,e){if(!e)return s;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const l=t[n];s=s[l]||(s[l]=Object.create(null))}return s}function ah(s,e,t){return typeof e=="string"?Mo(So(s,e),t):Mo(So(s,""),e)}class BN{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>ih(i.backgroundColor),this.hoverBorderColor=(n,i)=>ih(i.borderColor),this.hoverColor=(n,i)=>ih(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return ah(this,e,t)}get(e){return So(this,e)}describe(e,t){return ah(Uh,e,t)}override(e,t){return ah(Jr,e,t)}route(e,t,n,i){const l=So(this,e),c=So(this,n),d="_"+t;Object.defineProperties(l,{[d]:{value:l[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[d],m=c[i];return He(h)?Object.assign({},m,h):We(h,m)},set(h){this[d]=h}}})}apply(e){e.forEach(t=>t(this))}}var vt=new BN({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[IN,DN,zN]);function UN(s){return!s||Xe(s.size)||Xe(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function i0(s,e,t,n,i){let l=e[i];return l||(l=e[i]=s.measureText(i).width,t.push(i)),l>n&&(n=l),n}function zr(s,e,t){const n=s.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function a0(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function o0(s,e,t,n){Ly(s,e,t,n,null)}function Ly(s,e,t,n,i){let l,c,d,h,m,g,x,v;const b=e.pointStyle,j=e.rotation,_=e.radius;let S=(j||0)*bN;if(b&&typeof b=="object"&&(l=b.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){s.save(),s.translate(t,n),s.rotate(S),s.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),s.restore();return}if(!(isNaN(_)||_<=0)){switch(s.beginPath(),b){default:i?s.ellipse(t,n,i/2,_,0,0,ss):s.arc(t,n,_,0,ss),s.closePath();break;case"triangle":g=i?i/2:_,s.moveTo(t+Math.sin(S)*g,n-Math.cos(S)*_),S+=Qp,s.lineTo(t+Math.sin(S)*g,n-Math.cos(S)*_),S+=Qp,s.lineTo(t+Math.sin(S)*g,n-Math.cos(S)*_),s.closePath();break;case"rectRounded":m=_*.516,h=_-m,c=Math.cos(S+$r)*h,x=Math.cos(S+$r)*(i?i/2-m:h),d=Math.sin(S+$r)*h,v=Math.sin(S+$r)*(i?i/2-m:h),s.arc(t-x,n-d,m,S-rt,S-Lt),s.arc(t+v,n-c,m,S-Lt,S),s.arc(t+x,n+d,m,S,S+Lt),s.arc(t-v,n+c,m,S+Lt,S+rt),s.closePath();break;case"rect":if(!j){h=Math.SQRT1_2*_,g=i?i/2:h,s.rect(t-g,n-h,2*g,2*h);break}S+=$r;case"rectRot":x=Math.cos(S)*(i?i/2:_),c=Math.cos(S)*_,d=Math.sin(S)*_,v=Math.sin(S)*(i?i/2:_),s.moveTo(t-x,n-d),s.lineTo(t+v,n-c),s.lineTo(t+x,n+d),s.lineTo(t-v,n+c),s.closePath();break;case"crossRot":S+=$r;case"cross":x=Math.cos(S)*(i?i/2:_),c=Math.cos(S)*_,d=Math.sin(S)*_,v=Math.sin(S)*(i?i/2:_),s.moveTo(t-x,n-d),s.lineTo(t+x,n+d),s.moveTo(t+v,n-c),s.lineTo(t-v,n+c);break;case"star":x=Math.cos(S)*(i?i/2:_),c=Math.cos(S)*_,d=Math.sin(S)*_,v=Math.sin(S)*(i?i/2:_),s.moveTo(t-x,n-d),s.lineTo(t+x,n+d),s.moveTo(t+v,n-c),s.lineTo(t-v,n+c),S+=$r,x=Math.cos(S)*(i?i/2:_),c=Math.cos(S)*_,d=Math.sin(S)*_,v=Math.sin(S)*(i?i/2:_),s.moveTo(t-x,n-d),s.lineTo(t+x,n+d),s.moveTo(t+v,n-c),s.lineTo(t-v,n+c);break;case"line":c=i?i/2:Math.cos(S)*_,d=Math.sin(S)*_,s.moveTo(t-c,n-d),s.lineTo(t+c,n+d);break;case"dash":s.moveTo(t,n),s.lineTo(t+Math.cos(S)*(i?i/2:_),n+Math.sin(S)*_);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function Fy(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function gf(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function pf(s){s.restore()}function WN(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),Xe(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function HN(s,e,t,n,i){if(i.strikethrough||i.underline){const l=s.measureText(n),c=e-l.actualBoundingBoxLeft,d=e+l.actualBoundingBoxRight,h=t-l.actualBoundingBoxAscent,m=t+l.actualBoundingBoxDescent,g=i.strikethrough?(h+m)/2:m;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=i.decorationWidth||2,s.moveTo(c,g),s.lineTo(d,g),s.stroke()}}function VN(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function Oo(s,e,t,n,i,l={}){const c=Tt(e)?e:[e],d=l.strokeWidth>0&&l.strokeColor!=="";let h,m;for(s.save(),s.font=i.string,WN(s,l),h=0;h<c.length;++h)m=c[h],l.backdrop&&VN(s,l.backdrop),d&&(l.strokeColor&&(s.strokeStyle=l.strokeColor),Xe(l.strokeWidth)||(s.lineWidth=l.strokeWidth),s.strokeText(m,t,n,l.maxWidth)),s.fillText(m,t,n,l.maxWidth),HN(s,t,n,m,l),n+=Number(i.lineHeight);s.restore()}function zc(s,e){const{x:t,y:n,w:i,h:l,radius:c}=e;s.arc(t+c.topLeft,n+c.topLeft,c.topLeft,1.5*rt,rt,!0),s.lineTo(t,n+l-c.bottomLeft),s.arc(t+c.bottomLeft,n+l-c.bottomLeft,c.bottomLeft,rt,Lt,!0),s.lineTo(t+i-c.bottomRight,n+l),s.arc(t+i-c.bottomRight,n+l-c.bottomRight,c.bottomRight,Lt,0,!0),s.lineTo(t+i,n+c.topRight),s.arc(t+i-c.topRight,n+c.topRight,c.topRight,0,-Lt,!0),s.lineTo(t+c.topLeft,n)}const qN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,GN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function YN(s,e){const t=(""+s).match(qN);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const KN=s=>+s||0;function xf(s,e){const t={},n=He(e),i=n?Object.keys(e):e,l=He(s)?n?c=>We(s[c],s[e[c]]):c=>s[c]:()=>s;for(const c of i)t[c]=KN(l(c));return t}function $y(s){return xf(s,{top:"y",right:"x",bottom:"y",left:"x"})}function ea(s){return xf(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Rs(s){const e=$y(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Yt(s,e){s=s||{},e=e||vt.font;let t=We(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=We(s.style,e.style);n&&!(""+n).match(GN)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:We(s.family,e.family),lineHeight:YN(We(s.lineHeight,e.lineHeight),t),size:t,style:n,weight:We(s.weight,e.weight),string:""};return i.string=UN(i),i}function dc(s,e,t,n){let i,l,c;for(i=0,l=s.length;i<l;++i)if(c=s[i],c!==void 0&&c!==void 0)return c}function JN(s,e,t){const{min:n,max:i}=s,l=mN(e,(i-n)/2),c=(d,h)=>t&&d===0?0:d+h;return{min:c(n,-Math.abs(l)),max:c(i,l)}}function ca(s,e){return Object.assign(Object.create(s),e)}function yf(s,e=[""],t,n,i=()=>s[0]){const l=t||s;typeof n>"u"&&(n=Wy("_fallback",s));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:l,_fallback:n,_getTarget:i,override:d=>yf([d,...s],e,l,n)};return new Proxy(c,{deleteProperty(d,h){return delete d[h],delete d._keys,delete s[0][h],!0},get(d,h){return By(d,h,()=>r2(h,e,s,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(d,h){return c0(d).includes(h)},ownKeys(d){return c0(d)},set(d,h,m){const g=d._storage||(d._storage=i());return d[h]=g[h]=m,delete d._keys,!0}})}function ra(s,e,t,n){const i={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:zy(s,n),setContext:l=>ra(s,l,t,n),override:l=>ra(s.override(l),e,t,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete s[c],!0},get(l,c,d){return By(l,c,()=>XN(l,c,d))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(s,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,c)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(l,c){return Reflect.has(s,c)},ownKeys(){return Reflect.ownKeys(s)},set(l,c,d){return s[c]=d,delete l[c],!0}})}function zy(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=s;return{allKeys:i,scriptable:t,indexable:n,isScriptable:xr(t)?t:()=>t,isIndexable:xr(n)?n:()=>n}}const QN=(s,e)=>s?s+hf(e):e,vf=(s,e)=>He(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function By(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const n=t();return s[e]=n,n}function XN(s,e,t){const{_proxy:n,_context:i,_subProxy:l,_descriptors:c}=s;let d=n[e];return xr(d)&&c.isScriptable(e)&&(d=ZN(e,d,s,t)),Tt(d)&&d.length&&(d=e2(e,d,s,c.isIndexable)),vf(e,d)&&(d=ra(d,i,l&&l[e],c)),d}function ZN(s,e,t,n){const{_proxy:i,_context:l,_subProxy:c,_stack:d}=t;if(d.has(s))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+s);d.add(s);let h=e(l,c||n);return d.delete(s),vf(s,h)&&(h=bf(i._scopes,i,s,h)),h}function e2(s,e,t,n){const{_proxy:i,_context:l,_subProxy:c,_descriptors:d}=t;if(typeof l.index<"u"&&n(s))return e[l.index%e.length];if(He(e[0])){const h=e,m=i._scopes.filter(g=>g!==h);e=[];for(const g of h){const x=bf(m,i,s,g);e.push(ra(x,l,c&&c[s],d))}}return e}function Uy(s,e,t){return xr(s)?s(e,t):s}const t2=(s,e)=>s===!0?e:typeof s=="string"?na(e,s):void 0;function s2(s,e,t,n,i){for(const l of e){const c=t2(t,l);if(c){s.add(c);const d=Uy(c._fallback,t,i);if(typeof d<"u"&&d!==t&&d!==n)return d}else if(c===!1&&typeof n<"u"&&t!==n)return null}return!1}function bf(s,e,t,n){const i=e._rootScopes,l=Uy(e._fallback,t,n),c=[...s,...i],d=new Set;d.add(n);let h=l0(d,c,t,l||t,n);return h===null||typeof l<"u"&&l!==t&&(h=l0(d,c,l,h,n),h===null)?!1:yf(Array.from(d),[""],i,l,()=>n2(e,t,n))}function l0(s,e,t,n,i){for(;t;)t=s2(s,e,t,n,i);return t}function n2(s,e,t){const n=s._getTarget();e in n||(n[e]={});const i=n[e];return Tt(i)&&He(t)?t:i||{}}function r2(s,e,t,n){let i;for(const l of e)if(i=Wy(QN(l,s),t),typeof i<"u")return vf(s,i)?bf(t,n,s,i):i}function Wy(s,e){for(const t of e){if(!t)continue;const n=t[s];if(typeof n<"u")return n}}function c0(s){let e=s._keys;return e||(e=s._keys=i2(s._scopes)),e}function i2(s){const e=new Set;for(const t of s)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function wf(){return typeof window<"u"&&typeof document<"u"}function jf(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Bc(s,e,t){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=s,n}const Kc=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function a2(s,e){return Kc(s).getPropertyValue(e)}const o2=["top","right","bottom","left"];function Kr(s,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const l=o2[i];n[l]=parseFloat(s[e+"-"+l+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const l2=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function c2(s,e){const t=s.touches,n=t&&t.length?t[0]:s,{offsetX:i,offsetY:l}=n;let c=!1,d,h;if(l2(i,l,s.target))d=i,h=l;else{const m=e.getBoundingClientRect();d=n.clientX-m.left,h=n.clientY-m.top,c=!0}return{x:d,y:h,box:c}}function Hr(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:n}=e,i=Kc(t),l=i.boxSizing==="border-box",c=Kr(i,"padding"),d=Kr(i,"border","width"),{x:h,y:m,box:g}=c2(s,t),x=c.left+(g&&d.left),v=c.top+(g&&d.top);let{width:b,height:j}=e;return l&&(b-=c.width+d.width,j-=c.height+d.height),{x:Math.round((h-x)/b*t.width/n),y:Math.round((m-v)/j*t.height/n)}}function u2(s,e,t){let n,i;if(e===void 0||t===void 0){const l=s&&jf(s);if(!l)e=s.clientWidth,t=s.clientHeight;else{const c=l.getBoundingClientRect(),d=Kc(l),h=Kr(d,"border","width"),m=Kr(d,"padding");e=c.width-m.width-h.width,t=c.height-m.height-h.height,n=Bc(d.maxWidth,l,"clientWidth"),i=Bc(d.maxHeight,l,"clientHeight")}}return{width:e,height:t,maxWidth:n||Fc,maxHeight:i||Fc}}const hc=s=>Math.round(s*10)/10;function d2(s,e,t,n){const i=Kc(s),l=Kr(i,"margin"),c=Bc(i.maxWidth,s,"clientWidth")||Fc,d=Bc(i.maxHeight,s,"clientHeight")||Fc,h=u2(s,e,t);let{width:m,height:g}=h;if(i.boxSizing==="content-box"){const v=Kr(i,"border","width"),b=Kr(i,"padding");m-=b.width+v.width,g-=b.height+v.height}return m=Math.max(0,m-l.width),g=Math.max(0,n?m/n:g-l.height),m=hc(Math.min(m,c,h.maxWidth)),g=hc(Math.min(g,d,h.maxHeight)),m&&!g&&(g=hc(m/2)),(e!==void 0||t!==void 0)&&n&&h.height&&g>h.height&&(g=h.height,m=hc(Math.floor(g*n))),{width:m,height:g}}function u0(s,e,t){const n=e||1,i=Math.floor(s.height*n),l=Math.floor(s.width*n);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const c=s.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${s.height}px`,c.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||c.height!==i||c.width!==l?(s.currentDevicePixelRatio=n,c.height=i,c.width=l,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const h2=(function(){let s=!1;try{const e={get passive(){return s=!0,!1}};wf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s})();function d0(s,e){const t=a2(s,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const f2=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},m2=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function ta(s,e,t){return s?f2(e,t):m2()}function Hy(s,e){let t,n;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=n)}function Vy(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function fc(s,e,t){return s.options.clip?s[t]:e[t]}function g2(s,e){const{xScale:t,yScale:n}=s;return t&&n?{left:fc(t,e,"left"),right:fc(t,e,"right"),top:fc(n,e,"top"),bottom:fc(n,e,"bottom")}:e}function p2(s,e){const t=e._clip;if(t.disabled)return!1;const n=g2(e,s.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class x2{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const l=t.listeners[i],c=t.duration;l.forEach(d=>d({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(n-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Ay.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const l=n.items;let c=l.length-1,d=!1,h;for(;c>=0;--c)h=l[c],h._active?(h._total>n.duration&&(n.duration=h._total),h.tick(e),d=!0):(l[c]=l[l.length-1],l.pop());d&&(i.draw(),this._notify(i,n,e,"progress")),l.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=l.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Cn=new x2;const h0="transparent",y2={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const n=n0(s||h0),i=n.valid&&n0(e||h0);return i&&i.valid?i.mix(n,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class v2{constructor(e,t,n,i){const l=t[n];i=dc([e.to,i,l,e.from]);const c=dc([e.from,l,i]);this._active=!0,this._fn=e.fn||y2[e.type||typeof c],this._easing=No[e.easing]||No.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],l=n-this._start,c=this._duration-l;this._start=n,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=dc([e.to,t,i,e.from]),this._from=dc([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,l=this._from,c=this._loop,d=this._to;let h;if(this._active=l!==d&&(c||t<n),!this._active){this._target[i]=d,this._notify(!0);return}if(t<0){this._target[i]=l;return}h=t/n%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(l,d,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class qy{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!He(e))return;const t=Object.keys(vt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const l=e[i];if(!He(l))return;const c={};for(const d of t)c[d]=l[d];(Tt(l.properties)&&l.properties||[i]).forEach(d=>{(d===i||!n.has(d))&&n.set(d,c)})})}_animateOptions(e,t){const n=t.options,i=w2(e,n);if(!i)return[];const l=this._createAnimations(i,n);return n.$shared&&b2(e.options.$animations,n).then(()=>{e.options=n},()=>{}),l}_createAnimations(e,t){const n=this._properties,i=[],l=e.$animations||(e.$animations={}),c=Object.keys(t),d=Date.now();let h;for(h=c.length-1;h>=0;--h){const m=c[h];if(m.charAt(0)==="$")continue;if(m==="options"){i.push(...this._animateOptions(e,t));continue}const g=t[m];let x=l[m];const v=n.get(m);if(x)if(v&&x.active()){x.update(v,g,d);continue}else x.cancel();if(!v||!v.duration){e[m]=g;continue}l[m]=x=new v2(v,e,m,g),i.push(x)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return Cn.add(this._chart,n),!0}}function b2(s,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const l=s[n[i]];l&&l.active()&&t.push(l.wait())}return Promise.all(t)}function w2(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function f0(s,e){const t=s&&s.options||{},n=t.reverse,i=t.min===void 0?e:0,l=t.max===void 0?e:0;return{start:n?l:i,end:n?i:l}}function j2(s,e,t){if(t===!1)return!1;const n=f0(s,t),i=f0(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function k2(s){let e,t,n,i;return He(s)?(e=s.top,t=s.right,n=s.bottom,i=s.left):e=t=n=i=s,{top:e,right:t,bottom:n,left:i,disabled:s===!1}}function Gy(s,e){const t=[],n=s._getSortedDatasetMetas(e);let i,l;for(i=0,l=n.length;i<l;++i)t.push(n[i].index);return t}function m0(s,e,t,n={}){const i=s.keys,l=n.mode==="single";let c,d,h,m;if(e===null)return;let g=!1;for(c=0,d=i.length;c<d;++c){if(h=+i[c],h===t){if(g=!0,n.all)continue;break}m=s.values[h],Os(m)&&(l||e===0||gr(e)===gr(m))&&(e+=m)}return!g&&!n.all?0:e}function _2(s,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",l=n.axis==="x"?"x":"y",c=Object.keys(s),d=new Array(c.length);let h,m,g;for(h=0,m=c.length;h<m;++h)g=c[h],d[h]={[i]:g,[l]:s[g]};return d}function oh(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function N2(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function S2(s){const{min:e,max:t,minDefined:n,maxDefined:i}=s.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function C2(s,e,t){const n=s[e]||(s[e]={});return n[t]||(n[t]={})}function g0(s,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const l=s[i.index];if(t&&l>0||!t&&l<0)return i.index}return null}function p0(s,e){const{chart:t,_cachedMeta:n}=s,i=t._stacks||(t._stacks={}),{iScale:l,vScale:c,index:d}=n,h=l.axis,m=c.axis,g=N2(l,c,n),x=e.length;let v;for(let b=0;b<x;++b){const j=e[b],{[h]:_,[m]:S}=j,N=j._stacks||(j._stacks={});v=N[m]=C2(i,g,_),v[d]=S,v._top=g0(v,c,!0,n.type),v._bottom=g0(v,c,!1,n.type);const P=v._visualValues||(v._visualValues={});P[d]=S}}function lh(s,e){const t=s.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function E2(s,e){return ca(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function T2(s,e,t){return ca(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ro(s,e){const t=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){e=e||s._parsed;for(const i of e){const l=i._stacks;if(!l||l[n]===void 0||l[n][t]===void 0)return;delete l[n][t],l[n]._visualValues!==void 0&&l[n]._visualValues[t]!==void 0&&delete l[n]._visualValues[t]}}}const ch=s=>s==="reset"||s==="none",x0=(s,e)=>e?s:Object.assign({},s),P2=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:Gy(t,!0),values:null};class Yy{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=oh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ro(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(x,v,b,j)=>x==="x"?v:x==="r"?j:b,l=t.xAxisID=We(n.xAxisID,lh(e,"x")),c=t.yAxisID=We(n.yAxisID,lh(e,"y")),d=t.rAxisID=We(n.rAxisID,lh(e,"r")),h=t.indexAxis,m=t.iAxisID=i(h,l,c,d),g=t.vAxisID=i(h,c,l,d);t.xScale=this.getScaleForId(l),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(d),t.iScale=this.getScaleForId(m),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&e0(this._data,this),e._stacked&&ro(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(He(t)){const i=this._cachedMeta;this._data=_2(t,i)}else if(n!==t){if(n){e0(n,this);const i=this._cachedMeta;ro(i),i._parsed=[]}t&&Object.isExtensible(t)&&PN(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const l=t._stacked;t._stacked=oh(t.vScale,t),t.stack!==n.stack&&(i=!0,ro(t),t.stack=n.stack),this._resyncElements(e),(i||l!==t._stacked)&&(p0(this,t._parsed),t._stacked=oh(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:l,_stacked:c}=n,d=l.axis;let h=e===0&&t===i.length?!0:n._sorted,m=e>0&&n._parsed[e-1],g,x,v;if(this._parsing===!1)n._parsed=i,n._sorted=!0,v=i;else{Tt(i[e])?v=this.parseArrayData(n,i,e,t):He(i[e])?v=this.parseObjectData(n,i,e,t):v=this.parsePrimitiveData(n,i,e,t);const b=()=>x[d]===null||m&&x[d]<m[d];for(g=0;g<t;++g)n._parsed[g+e]=x=v[g],h&&(b()&&(h=!1),m=x);n._sorted=h}c&&p0(this,v)}parsePrimitiveData(e,t,n,i){const{iScale:l,vScale:c}=e,d=l.axis,h=c.axis,m=l.getLabels(),g=l===c,x=new Array(i);let v,b,j;for(v=0,b=i;v<b;++v)j=v+n,x[v]={[d]:g||l.parse(m[j],j),[h]:c.parse(t[j],j)};return x}parseArrayData(e,t,n,i){const{xScale:l,yScale:c}=e,d=new Array(i);let h,m,g,x;for(h=0,m=i;h<m;++h)g=h+n,x=t[g],d[h]={x:l.parse(x[0],g),y:c.parse(x[1],g)};return d}parseObjectData(e,t,n,i){const{xScale:l,yScale:c}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,m=new Array(i);let g,x,v,b;for(g=0,x=i;g<x;++g)v=g+n,b=t[v],m[g]={x:l.parse(na(b,d),v),y:c.parse(na(b,h),v)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,l=this._cachedMeta,c=t[e.axis],d={keys:Gy(i,!0),values:t._stacks[e.axis]._visualValues};return m0(d,c,l.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const l=n[t.axis];let c=l===null?NaN:l;const d=i&&n._stacks[t.axis];i&&d&&(i.values=d,c=m0(i,l,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,l=n._sorted&&e===n.iScale,c=i.length,d=this._getOtherScale(e),h=P2(t,n,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=S2(d);let v,b;function j(){b=i[v];const _=b[d.axis];return!Os(b[e.axis])||g>_||x<_}for(v=0;v<c&&!(!j()&&(this.updateRangeFromParsed(m,e,b,h),l));++v);if(l){for(v=c-1;v>=0;--v)if(!j()){this.updateRangeFromParsed(m,e,b,h);break}}return m}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,l,c;for(i=0,l=t.length;i<l;++i)c=t[i][e.axis],Os(c)&&n.push(c);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,l=this.getParsed(e);return{label:n?""+n.getLabelForValue(l[n.axis]):"",value:i?""+i.getLabelForValue(l[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=k2(We(this.options.clip,j2(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],l=t.chartArea,c=[],d=this._drawStart||0,h=this._drawCount||i.length-d,m=this.options.drawActiveElementsOnTop;let g;for(n.dataset&&n.dataset.draw(e,l,d,h),g=d;g<d+h;++g){const x=i[g];x.hidden||(x.active&&m?c.push(x):x.draw(e,l))}for(g=0;g<c.length;++g)c[g].draw(e,l)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];l=c.$context||(c.$context=T2(this.getContext(),e,c)),l.parsed=this.getParsed(e),l.raw=i.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=E2(this.chart.getContext(),this.index)),l.dataset=i,l.index=l.datasetIndex=this.index;return l.active=!!t,l.mode=n,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",l=this._cachedDataOpts,c=e+"-"+t,d=l[c],h=this.enableOptionSharing&&Ao(n);if(d)return x0(d,h);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),x=i?[`${e}Hover`,"hover",e,""]:[e,""],v=m.getOptionScopes(this.getDataset(),g),b=Object.keys(vt.elements[e]),j=()=>this.getContext(n,i,t),_=m.resolveNamedOptions(v,b,j,x);return _.$shared&&(_.$shared=h,l[c]=Object.freeze(x0(_,h))),_}_resolveAnimations(e,t,n){const i=this.chart,l=this._cachedDataOpts,c=`animation-${t}`,d=l[c];if(d)return d;let h;if(i.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,t),v=g.getOptionScopes(this.getDataset(),x);h=g.createResolver(v,this.getContext(e,n,t))}const m=new qy(i,h&&h.animations);return h&&h._cacheable&&(l[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ch(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,l=this.getSharedOptions(n),c=this.includeOptions(t,l)||l!==i;return this.updateSharedOptions(l,t,n),{sharedOptions:l,includeOptions:c}}updateElement(e,t,n,i){ch(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!ch(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const l=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(l)||l})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[d,h,m]of this._syncList)this[d](h,m);this._syncList=[];const i=n.length,l=t.length,c=Math.min(l,i);c&&this.parse(0,c),l>i?this._insertElements(i,l-i,e):l<i&&this._removeElements(l,i-l)}_insertElements(e,t,n=!0){const i=this._cachedMeta,l=i.data,c=e+t;let d;const h=m=>{for(m.length+=t,d=m.length-1;d>=c;d--)m[d]=m[d-t]};for(h(l),d=e;d<c;++d)l[d]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(e,t),n&&this.updateElements(l,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&ro(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function M2(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let n=[];for(let i=0,l=t.length;i<l;i++)n=n.concat(t[i].controller.getAllParsedValues(s));s._cache.$bar=My(n.sort((i,l)=>i-l))}return s._cache.$bar}function A2(s){const e=s.iScale,t=M2(e,s.type);let n=e._length,i,l,c,d;const h=()=>{c===32767||c===-32768||(Ao(d)&&(n=Math.min(n,Math.abs(c-d)||n)),d=c)};for(i=0,l=t.length;i<l;++i)c=e.getPixelForValue(t[i]),h();for(d=void 0,i=0,l=e.ticks.length;i<l;++i)c=e.getPixelForTick(i),h();return n}function O2(s,e,t,n){const i=t.barThickness;let l,c;return Xe(i)?(l=e.min*t.categoryPercentage,c=t.barPercentage):(l=i*n,c=1),{chunk:l/n,ratio:c,start:e.pixels[s]-l/2}}function R2(s,e,t,n){const i=e.pixels,l=i[s];let c=s>0?i[s-1]:null,d=s<i.length-1?i[s+1]:null;const h=t.categoryPercentage;c===null&&(c=l-(d===null?e.end-e.start:d-l)),d===null&&(d=l+l-c);const m=l-(l-Math.min(c,d))/2*h;return{chunk:Math.abs(d-c)/2*h/n,ratio:t.barPercentage,start:m}}function I2(s,e,t,n){const i=t.parse(s[0],n),l=t.parse(s[1],n),c=Math.min(i,l),d=Math.max(i,l);let h=c,m=d;Math.abs(c)>Math.abs(d)&&(h=d,m=c),e[t.axis]=m,e._custom={barStart:h,barEnd:m,start:i,end:l,min:c,max:d}}function Ky(s,e,t,n){return Tt(s)?I2(s,e,t,n):e[t.axis]=t.parse(s,n),e}function y0(s,e,t,n){const i=s.iScale,l=s.vScale,c=i.getLabels(),d=i===l,h=[];let m,g,x,v;for(m=t,g=t+n;m<g;++m)v=e[m],x={},x[i.axis]=d||i.parse(c[m],m),h.push(Ky(v,x,l,m));return h}function uh(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function D2(s,e,t){return s!==0?gr(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function L2(s){let e,t,n,i,l;return s.horizontal?(e=s.base>s.x,t="left",n="right"):(e=s.base<s.y,t="bottom",n="top"),e?(i="end",l="start"):(i="start",l="end"),{start:t,end:n,reverse:e,top:i,bottom:l}}function F2(s,e,t,n){let i=e.borderSkipped;const l={};if(!i){s.borderSkipped=l;return}if(i===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:h,top:m,bottom:g}=L2(s);i==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===n?i=m:(t._bottom||0)===n?i=g:(l[v0(g,c,d,h)]=!0,i=m)),l[v0(i,c,d,h)]=!0,s.borderSkipped=l}function v0(s,e,t,n){return n?(s=$2(s,e,t),s=b0(s,t,e)):s=b0(s,e,t),s}function $2(s,e,t){return s===e?t:s===t?e:s}function b0(s,e,t){return s==="start"?e:s==="end"?t:s}function z2(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class B2 extends Yy{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,i){return y0(e,t,n,i)}parseArrayData(e,t,n,i){return y0(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:l,vScale:c}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,m=l.axis==="x"?d:h,g=c.axis==="x"?d:h,x=[];let v,b,j,_;for(v=n,b=n+i;v<b;++v)_=t[v],j={},j[l.axis]=l.parse(na(_,m),v),x.push(Ky(na(_,g),j,c,v));return x}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const l=n._custom;l&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,l=this.getParsed(e),c=l._custom,d=uh(c)?"["+c.start+", "+c.end+"]":""+i.getLabelForValue(l[i.axis]);return{label:""+n.getLabelForValue(l[n.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const l=i==="reset",{index:c,_cachedMeta:{vScale:d}}=this,h=d.getBasePixel(),m=d.isHorizontal(),g=this._getRuler(),{sharedOptions:x,includeOptions:v}=this._getSharedOptions(t,i);for(let b=t;b<t+n;b++){const j=this.getParsed(b),_=l||Xe(j[d.axis])?{base:h,head:h}:this._calculateBarValuePixels(b),S=this._calculateBarIndexPixels(b,g),N=(j._stacks||{})[d.axis],P={horizontal:m,base:_.base,enableBorderRadius:!N||uh(j._custom)||c===N._top||c===N._bottom,x:m?_.head:S.center,y:m?S.center:_.head,height:m?S.size:Math.abs(_.size),width:m?Math.abs(_.size):S.size};v&&(P.options=x||this.resolveDataElementOptions(b,e[b].active?"active":i));const E=P.options||e[b].options;F2(P,E,N,c),z2(P,E,g.ratio),this.updateElement(e[b],b,P,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),l=n.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(t),h=d&&d[n.axis],m=g=>{const x=g._parsed.find(b=>b[n.axis]===h),v=x&&x[g.vScale.axis];if(Xe(v)||isNaN(v))return!0};for(const g of i)if(!(t!==void 0&&m(g))&&((l===!1||c.indexOf(g.stack)===-1||l===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[We(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const i=this._getStacks(e,n),l=t!==void 0?i.indexOf(t):-1;return l===-1?i.length-1:l}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let l,c;for(l=0,c=t.data.length;l<c;++l)i.push(n.getPixelForValue(this.getParsed(l)[n.axis],l));const d=e.barThickness;return{min:d||A2(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:l,minBarLength:c}}=this,d=l||0,h=this.getParsed(e),m=h._custom,g=uh(m);let x=h[t.axis],v=0,b=n?this.applyStack(t,h,n):x,j,_;b!==x&&(v=b-x,b=x),g&&(x=m.barStart,b=m.barEnd-m.barStart,x!==0&&gr(x)!==gr(m.barEnd)&&(v=0),v+=x);const S=!Xe(l)&&!g?l:v;let N=t.getPixelForValue(S);if(this.chart.getDataVisibility(e)?j=t.getPixelForValue(v+b):j=N,_=j-N,Math.abs(_)<c){_=D2(_,t,d)*c,x===d&&(N-=_/2);const P=t.getPixelForDecimal(0),E=t.getPixelForDecimal(1),I=Math.min(P,E),L=Math.max(P,E);N=Math.max(Math.min(N,L),I),j=N+_,n&&!g&&(h._stacks[t.axis]._visualValues[i]=t.getValueForPixel(j)-t.getValueForPixel(N))}if(N===t.getPixelForValue(d)){const P=gr(_)*t.getLineWidthForValue(d)/2;N+=P,_-=P}return{size:_,base:N,head:j,center:j+_/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,l=i.skipNull,c=We(i.maxBarThickness,1/0);let d,h;const m=this._getAxisCount();if(t.grouped){const g=l?this._getStackCount(e):t.stackCount,x=i.barThickness==="flex"?R2(e,t,i,g*m):O2(e,t,i,g*m),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(We(v,this.getFirstScaleIdForIndexAxis())),j=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0)+b;d=x.start+x.chunk*j+x.chunk/2,h=Math.min(c,x.chunk*x.ratio)}else d=n.getPixelForValue(this.getParsed(e)[n.axis],e),h=Math.min(c,t.min*t.ratio);return{base:d-h/2,head:d+h/2,center:d,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let l=0;for(;l<i;++l)this.getParsed(l)[t.axis]!==null&&!n[l].hidden&&n[l].draw(this._ctx)}}function Br(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kf{static override(e){Object.assign(kf.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Br()}parse(){return Br()}format(){return Br()}add(){return Br()}diff(){return Br()}startOf(){return Br()}endOf(){return Br()}}var U2={_date:kf};function W2(s,e,t,n){const{controller:i,data:l,_sorted:c}=s,d=i._cachedMeta.iScale,h=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&c&&l.length){const m=d._reversePixels?EN:Bh;if(n){if(i._sharedOptions){const g=l[0],x=typeof g.getRange=="function"&&g.getRange(e);if(x){const v=m(l,e,t-x),b=m(l,e,t+x);return{lo:v.lo,hi:b.hi}}}}else{const g=m(l,e,t);if(h){const{vScale:x}=i._cachedMeta,{_parsed:v}=s,b=v.slice(0,g.lo+1).reverse().findIndex(_=>!Xe(_[x.axis]));g.lo-=Math.max(0,b);const j=v.slice(g.hi).findIndex(_=>!Xe(_[x.axis]));g.hi+=Math.max(0,j)}return g}}return{lo:0,hi:l.length-1}}function Jc(s,e,t,n,i){const l=s.getSortedVisibleDatasetMetas(),c=t[e];for(let d=0,h=l.length;d<h;++d){const{index:m,data:g}=l[d],{lo:x,hi:v}=W2(l[d],e,c,i);for(let b=x;b<=v;++b){const j=g[b];j.skip||n(j,m,b)}}}function H2(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(n,i){const l=e?Math.abs(n.x-i.x):0,c=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function dh(s,e,t,n,i){const l=[];return!i&&!s.isPointInArea(e)||Jc(s,t,e,function(d,h,m){!i&&!Fy(d,s.chartArea,0)||d.inRange(e.x,e.y,n)&&l.push({element:d,datasetIndex:h,index:m})},!0),l}function V2(s,e,t,n){let i=[];function l(c,d,h){const{startAngle:m,endAngle:g}=c.getProps(["startAngle","endAngle"],n),{angle:x}=Ey(c,{x:e.x,y:e.y});Ty(x,m,g)&&i.push({element:c,datasetIndex:d,index:h})}return Jc(s,t,e,l),i}function q2(s,e,t,n,i,l){let c=[];const d=H2(t);let h=Number.POSITIVE_INFINITY;function m(g,x,v){const b=g.inRange(e.x,e.y,i);if(n&&!b)return;const j=g.getCenterPoint(i);if(!(!!l||s.isPointInArea(j))&&!b)return;const S=d(e,j);S<h?(c=[{element:g,datasetIndex:x,index:v}],h=S):S===h&&c.push({element:g,datasetIndex:x,index:v})}return Jc(s,t,e,m),c}function hh(s,e,t,n,i,l){return!l&&!s.isPointInArea(e)?[]:t==="r"&&!n?V2(s,e,t,i):q2(s,e,t,n,i,l)}function w0(s,e,t,n,i){const l=[],c=t==="x"?"inXRange":"inYRange";let d=!1;return Jc(s,t,e,(h,m,g)=>{h[c]&&h[c](e[t],i)&&(l.push({element:h,datasetIndex:m,index:g}),d=d||h.inRange(e.x,e.y,i))}),n&&!d?[]:l}var G2={modes:{index(s,e,t,n){const i=Hr(e,s),l=t.axis||"x",c=t.includeInvisible||!1,d=t.intersect?dh(s,i,l,n,c):hh(s,i,l,!1,n,c),h=[];return d.length?(s.getSortedVisibleDatasetMetas().forEach(m=>{const g=d[0].index,x=m.data[g];x&&!x.skip&&h.push({element:x,datasetIndex:m.index,index:g})}),h):[]},dataset(s,e,t,n){const i=Hr(e,s),l=t.axis||"xy",c=t.includeInvisible||!1;let d=t.intersect?dh(s,i,l,n,c):hh(s,i,l,!1,n,c);if(d.length>0){const h=d[0].datasetIndex,m=s.getDatasetMeta(h).data;d=[];for(let g=0;g<m.length;++g)d.push({element:m[g],datasetIndex:h,index:g})}return d},point(s,e,t,n){const i=Hr(e,s),l=t.axis||"xy",c=t.includeInvisible||!1;return dh(s,i,l,n,c)},nearest(s,e,t,n){const i=Hr(e,s),l=t.axis||"xy",c=t.includeInvisible||!1;return hh(s,i,l,t.intersect,n,c)},x(s,e,t,n){const i=Hr(e,s);return w0(s,i,"x",t.intersect,n)},y(s,e,t,n){const i=Hr(e,s);return w0(s,i,"y",t.intersect,n)}}};const Jy=["left","top","right","bottom"];function io(s,e){return s.filter(t=>t.pos===e)}function j0(s,e){return s.filter(t=>Jy.indexOf(t.pos)===-1&&t.box.axis===e)}function ao(s,e){return s.sort((t,n)=>{const i=e?n:t,l=e?t:n;return i.weight===l.weight?i.index-l.index:i.weight-l.weight})}function Y2(s){const e=[];let t,n,i,l,c,d;for(t=0,n=(s||[]).length;t<n;++t)i=s[t],{position:l,options:{stack:c,stackWeight:d=1}}=i,e.push({index:t,box:i,pos:l,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&l+c,stackWeight:d});return e}function K2(s){const e={};for(const t of s){const{stack:n,pos:i,stackWeight:l}=t;if(!n||!Jy.includes(i))continue;const c=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return e}function J2(s,e){const t=K2(s),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let l,c,d;for(l=0,c=s.length;l<c;++l){d=s[l];const{fullSize:h}=d.box,m=t[d.stack],g=m&&d.stackWeight/m.weight;d.horizontal?(d.width=g?g*n:h&&e.availableWidth,d.height=i):(d.width=n,d.height=g?g*i:h&&e.availableHeight)}return t}function Q2(s){const e=Y2(s),t=ao(e.filter(m=>m.box.fullSize),!0),n=ao(io(e,"left"),!0),i=ao(io(e,"right")),l=ao(io(e,"top"),!0),c=ao(io(e,"bottom")),d=j0(e,"x"),h=j0(e,"y");return{fullSize:t,leftAndTop:n.concat(l),rightAndBottom:i.concat(h).concat(c).concat(d),chartArea:io(e,"chartArea"),vertical:n.concat(i).concat(h),horizontal:l.concat(c).concat(d)}}function k0(s,e,t,n){return Math.max(s[t],e[t])+Math.max(s[n],e[n])}function Qy(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function X2(s,e,t,n){const{pos:i,box:l}=t,c=s.maxPadding;if(!He(i)){t.size&&(s[i]-=t.size);const x=n[t.stack]||{size:0,count:1};x.size=Math.max(x.size,t.horizontal?l.height:l.width),t.size=x.size/x.count,s[i]+=t.size}l.getPadding&&Qy(c,l.getPadding());const d=Math.max(0,e.outerWidth-k0(c,s,"left","right")),h=Math.max(0,e.outerHeight-k0(c,s,"top","bottom")),m=d!==s.w,g=h!==s.h;return s.w=d,s.h=h,t.horizontal?{same:m,other:g}:{same:g,other:m}}function Z2(s){const e=s.maxPadding;function t(n){const i=Math.max(e[n]-s[n],0);return s[n]+=i,i}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function eS(s,e){const t=e.maxPadding;function n(i){const l={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{l[c]=Math.max(e[c],t[c])}),l}return n(s?["left","right"]:["top","bottom"])}function xo(s,e,t,n){const i=[];let l,c,d,h,m,g;for(l=0,c=s.length,m=0;l<c;++l){d=s[l],h=d.box,h.update(d.width||e.w,d.height||e.h,eS(d.horizontal,e));const{same:x,other:v}=X2(e,t,d,n);m|=x&&i.length,g=g||v,h.fullSize||i.push(d)}return m&&xo(i,e,t,n)||g}function mc(s,e,t,n,i){s.top=t,s.left=e,s.right=e+n,s.bottom=t+i,s.width=n,s.height=i}function _0(s,e,t,n){const i=t.padding;let{x:l,y:c}=e;for(const d of s){const h=d.box,m=n[d.stack]||{placed:0,weight:1},g=d.stackWeight/m.weight||1;if(d.horizontal){const x=e.w*g,v=m.size||h.height;Ao(m.start)&&(c=m.start),h.fullSize?mc(h,i.left,c,t.outerWidth-i.right-i.left,v):mc(h,e.left+m.placed,c,x,v),m.start=c,m.placed+=x,c=h.bottom}else{const x=e.h*g,v=m.size||h.width;Ao(m.start)&&(l=m.start),h.fullSize?mc(h,l,i.top,v,t.outerHeight-i.bottom-i.top):mc(h,l,e.top+m.placed,v,x),m.start=l,m.placed+=x,l=h.right}}e.x=l,e.y=c}var As={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,n){if(!s)return;const i=Rs(s.options.layout.padding),l=Math.max(e-i.width,0),c=Math.max(t-i.height,0),d=Q2(s.boxes),h=d.vertical,m=d.horizontal;Ke(s.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const g=h.reduce((_,S)=>S.box.options&&S.box.options.display===!1?_:_+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/g,hBoxMaxHeight:c/2}),v=Object.assign({},i);Qy(v,Rs(n));const b=Object.assign({maxPadding:v,w:l,h:c,x:i.left,y:i.top},i),j=J2(h.concat(m),x);xo(d.fullSize,b,x,j),xo(h,b,x,j),xo(m,b,x,j)&&xo(h,b,x,j),Z2(b),_0(d.leftAndTop,b,x,j),b.x+=b.w,b.y+=b.h,_0(d.rightAndBottom,b,x,j),s.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Ke(d.chartArea,_=>{const S=_.box;Object.assign(S,s.chartArea),S.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class Xy{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class tS extends Xy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Cc="$chartjs",sS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},N0=s=>s===null||s==="";function nS(s,e){const t=s.style,n=s.getAttribute("height"),i=s.getAttribute("width");if(s[Cc]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",N0(i)){const l=d0(s,"width");l!==void 0&&(s.width=l)}if(N0(n))if(s.style.height==="")s.height=s.width/(e||2);else{const l=d0(s,"height");l!==void 0&&(s.height=l)}return s}const Zy=h2?{passive:!0}:!1;function rS(s,e,t){s&&s.addEventListener(e,t,Zy)}function iS(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,Zy)}function aS(s,e){const t=sS[s.type]||s.type,{x:n,y:i}=Hr(s,e);return{type:t,chart:e,native:s,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Uc(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function oS(s,e,t){const n=s.canvas,i=new MutationObserver(l=>{let c=!1;for(const d of l)c=c||Uc(d.addedNodes,n),c=c&&!Uc(d.removedNodes,n);c&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function lS(s,e,t){const n=s.canvas,i=new MutationObserver(l=>{let c=!1;for(const d of l)c=c||Uc(d.removedNodes,n),c=c&&!Uc(d.addedNodes,n);c&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ro=new Map;let S0=0;function ev(){const s=window.devicePixelRatio;s!==S0&&(S0=s,Ro.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function cS(s,e){Ro.size||window.addEventListener("resize",ev),Ro.set(s,e)}function uS(s){Ro.delete(s),Ro.size||window.removeEventListener("resize",ev)}function dS(s,e,t){const n=s.canvas,i=n&&jf(n);if(!i)return;const l=Oy((d,h)=>{const m=i.clientWidth;t(d,h),m<i.clientWidth&&t()},window),c=new ResizeObserver(d=>{const h=d[0],m=h.contentRect.width,g=h.contentRect.height;m===0&&g===0||l(m,g)});return c.observe(i),cS(s,l),c}function fh(s,e,t){t&&t.disconnect(),e==="resize"&&uS(s)}function hS(s,e,t){const n=s.canvas,i=Oy(l=>{s.ctx!==null&&t(aS(l,s))},s);return rS(n,e,i),i}class fS extends Xy{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(nS(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Cc])return!1;const n=t[Cc].initial;["height","width"].forEach(l=>{const c=n[l];Xe(c)?t.removeAttribute(l):t.setAttribute(l,c)});const i=n.style||{};return Object.keys(i).forEach(l=>{t.style[l]=i[l]}),t.width=t.width,delete t[Cc],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),c={attach:oS,detach:lS,resize:dS}[t]||hS;i[t]=c(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:fh,detach:fh,resize:fh}[t]||iS)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return d2(e,t,n,i)}isAttached(e){const t=e&&jf(e);return!!(t&&t.isConnected)}}function mS(s){return!wf()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?tS:fS}class Zr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return $c(this.x)&&$c(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(l=>{i[l]=n[l]&&n[l].active()?n[l]._to:this[l]}),i}}function gS(s,e){const t=s.options.ticks,n=pS(s),i=Math.min(t.maxTicksLimit||n,n),l=t.major.enabled?yS(e):[],c=l.length,d=l[0],h=l[c-1],m=[];if(c>i)return vS(e,m,l,c/i),m;const g=xS(l,e,i);if(c>0){let x,v;const b=c>1?Math.round((h-d)/(c-1)):null;for(gc(e,m,g,Xe(b)?0:d-b,d),x=0,v=c-1;x<v;x++)gc(e,m,g,l[x],l[x+1]);return gc(e,m,g,h,Xe(b)?e.length:h+b),m}return gc(e,m,g),m}function pS(s){const e=s.options.offset,t=s._tickSize(),n=s._length/t+(e?0:1),i=s._maxLength/t;return Math.floor(Math.min(n,i))}function xS(s,e,t){const n=bS(s),i=e.length/t;if(!n)return Math.max(i,1);const l=wN(n);for(let c=0,d=l.length-1;c<d;c++){const h=l[c];if(h>i)return h}return Math.max(i,1)}function yS(s){const e=[];let t,n;for(t=0,n=s.length;t<n;t++)s[t].major&&e.push(t);return e}function vS(s,e,t,n){let i=0,l=t[0],c;for(n=Math.ceil(n),c=0;c<s.length;c++)c===l&&(e.push(s[c]),i++,l=t[i*n])}function gc(s,e,t,n,i){const l=We(n,0),c=Math.min(We(i,s.length),s.length);let d=0,h,m,g;for(t=Math.ceil(t),i&&(h=i-n,t=h/Math.floor(h/t)),g=l;g<0;)d++,g=Math.round(l+d*t);for(m=Math.max(l,0);m<c;m++)m===g&&(e.push(s[m]),d++,g=Math.round(l+d*t))}function bS(s){const e=s.length;let t,n;if(e<2)return!1;for(n=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==n)return!1;return n}const wS=s=>s==="left"?"right":s==="right"?"left":s,C0=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,E0=(s,e)=>Math.min(e||s,s);function T0(s,e){const t=[],n=s.length/e,i=s.length;let l=0;for(;l<i;l+=n)t.push(s[Math.floor(l)]);return t}function jS(s,e,t){const n=s.ticks.length,i=Math.min(e,n-1),l=s._startPixel,c=s._endPixel,d=1e-6;let h=s.getPixelForTick(i),m;if(!(t&&(n===1?m=Math.max(h-l,c-h):e===0?m=(s.getPixelForTick(1)-h)/2:m=(h-s.getPixelForTick(i-1))/2,h+=i<e?m:-m,h<l-d||h>c+d)))return h}function kS(s,e){Ke(s,t=>{const n=t.gc,i=n.length/2;let l;if(i>e){for(l=0;l<i;++l)delete t.data[n[l]];n.splice(0,i)}})}function oo(s){return s.drawTicks?s.tickLength:0}function P0(s,e){if(!s.display)return 0;const t=Yt(s.font,e),n=Rs(s.padding);return(Tt(s.text)?s.text.length:1)*t.lineHeight+n.height}function _S(s,e){return ca(s,{scale:e,type:"scale"})}function NS(s,e,t){return ca(s,{tick:t,index:e,type:"tick"})}function SS(s,e,t){let n=mf(s);return(t&&e!=="right"||!t&&e==="right")&&(n=wS(n)),n}function CS(s,e,t,n){const{top:i,left:l,bottom:c,right:d,chart:h}=s,{chartArea:m,scales:g}=h;let x=0,v,b,j;const _=c-i,S=d-l;if(s.isHorizontal()){if(b=qt(n,l,d),He(t)){const N=Object.keys(t)[0],P=t[N];j=g[N].getPixelForValue(P)+_-e}else t==="center"?j=(m.bottom+m.top)/2+_-e:j=C0(s,t,e);v=d-l}else{if(He(t)){const N=Object.keys(t)[0],P=t[N];b=g[N].getPixelForValue(P)-S+e}else t==="center"?b=(m.left+m.right)/2-S+e:b=C0(s,t,e);j=qt(n,c,i),x=t==="left"?-Lt:Lt}return{titleX:b,titleY:j,maxWidth:v,rotation:x}}class ua extends Zr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=an(e,Number.POSITIVE_INFINITY),t=an(t,Number.NEGATIVE_INFINITY),n=an(n,Number.POSITIVE_INFINITY),i=an(i,Number.NEGATIVE_INFINITY),{min:an(e,n),max:an(t,i),minDefined:Os(e),maxDefined:Os(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:l}=this.getUserBounds(),c;if(i&&l)return{min:t,max:n};const d=this.getMatchingVisibleMetas();for(let h=0,m=d.length;h<m;++h)c=d[h].controller.getMinMax(this,e),i||(t=Math.min(t,c.min)),l||(n=Math.max(n,c.max));return t=l&&t>n?n:t,n=i&&t>n?t:n,{min:an(t,an(n,t)),max:an(n,an(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:l,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JN(this,l,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?T0(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=gS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),nt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,l;for(n=0,i=e.length;n<i;n++)l=e[n],l.label=nt(t.callback,[l.value,n,e],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=E0(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,l=t.maxRotation;let c=i,d,h,m;if(!this._isVisible()||!t.display||i>=l||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const g=this._getLabelSizes(),x=g.widest.width,v=g.highest.height,b=hs(this.chart.width-x,0,this.maxWidth);d=e.offset?this.maxWidth/n:b/(n-1),x+6>d&&(d=b/(n-(e.offset?.5:1)),h=this.maxHeight-oo(e.grid)-t.padding-P0(e.title,this.chart.options.font),m=Math.sqrt(x*x+v*v),c=NN(Math.min(Math.asin(hs((g.highest.height+6)/d,-1,1)),Math.asin(hs(h/m,-1,1))-Math.asin(hs(v/m,-1,1)))),c=Math.max(i,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:l}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const h=P0(i,t.options.font);if(d?(e.width=this.maxWidth,e.height=oo(l)+h):(e.height=this.maxHeight,e.width=oo(l)+h),n.display&&this.ticks.length){const{first:m,last:g,widest:x,highest:v}=this._getLabelSizes(),b=n.padding*2,j=Gr(this.labelRotation),_=Math.cos(j),S=Math.sin(j);if(d){const N=n.mirror?0:S*x.width+_*v.height;e.height=Math.min(this.maxHeight,e.height+N+b)}else{const N=n.mirror?0:_*x.width+S*v.height;e.width=Math.min(this.maxWidth,e.width+N+b)}this._calculatePadding(m,g,S,_)}}this._handleMargins(),d?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:l,padding:c},position:d}=this.options,h=this.labelRotation!==0,m=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;h?m?(v=i*e.width,b=n*t.height):(v=n*e.height,b=i*t.width):l==="start"?b=t.width:l==="end"?v=e.width:l!=="inner"&&(v=e.width/2,b=t.width/2),this.paddingLeft=Math.max((v-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((b-x+c)*this.width/(this.width-x),0)}else{let g=t.height/2,x=e.height/2;l==="start"?(g=0,x=e.height):l==="end"&&(g=t.height,x=0),this.paddingTop=g+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Xe(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=T0(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:l}=this,c=[],d=[],h=Math.floor(t/E0(t,n));let m=0,g=0,x,v,b,j,_,S,N,P,E,I,L;for(x=0;x<t;x+=h){if(j=e[x].label,_=this._resolveTickFontOptions(x),i.font=S=_.string,N=l[S]=l[S]||{data:{},gc:[]},P=_.lineHeight,E=I=0,!Xe(j)&&!Tt(j))E=i0(i,N.data,N.gc,E,j),I=P;else if(Tt(j))for(v=0,b=j.length;v<b;++v)L=j[v],!Xe(L)&&!Tt(L)&&(E=i0(i,N.data,N.gc,E,L),I+=P);c.push(E),d.push(I),m=Math.max(E,m),g=Math.max(I,g)}kS(l,t);const B=c.indexOf(m),G=d.indexOf(g),q=Z=>({width:c[Z]||0,height:d[Z]||0});return{first:q(0),last:q(t-1),widest:q(B),highest:q(G),widths:c,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return CN(this._alignToPixels?zr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=NS(this.getContext(),e,n))}return this.$context||(this.$context=_S(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Gr(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),l=this._getLabelSizes(),c=e.autoSkipPadding||0,d=l?l.widest.width+c:0,h=l?l.highest.height+c:0;return this.isHorizontal()?h*n>d*i?d/n:h/i:h*i<d*n?h/n:d/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:l,position:c,border:d}=i,h=l.offset,m=this.isHorizontal(),x=this.ticks.length+(h?1:0),v=oo(l),b=[],j=d.setContext(this.getContext()),_=j.display?j.width:0,S=_/2,N=function(ce){return zr(n,ce,_)};let P,E,I,L,B,G,q,Z,re,K,ie,Y;if(c==="top")P=N(this.bottom),G=this.bottom-v,Z=P-S,K=N(e.top)+S,Y=e.bottom;else if(c==="bottom")P=N(this.top),K=e.top,Y=N(e.bottom)-S,G=P+S,Z=this.top+v;else if(c==="left")P=N(this.right),B=this.right-v,q=P-S,re=N(e.left)+S,ie=e.right;else if(c==="right")P=N(this.left),re=e.left,ie=N(e.right)-S,B=P+S,q=this.left+v;else if(t==="x"){if(c==="center")P=N((e.top+e.bottom)/2+.5);else if(He(c)){const ce=Object.keys(c)[0],R=c[ce];P=N(this.chart.scales[ce].getPixelForValue(R))}K=e.top,Y=e.bottom,G=P+S,Z=G+v}else if(t==="y"){if(c==="center")P=N((e.left+e.right)/2);else if(He(c)){const ce=Object.keys(c)[0],R=c[ce];P=N(this.chart.scales[ce].getPixelForValue(R))}B=P-S,q=B-v,re=e.left,ie=e.right}const ae=We(i.ticks.maxTicksLimit,x),Q=Math.max(1,Math.ceil(x/ae));for(E=0;E<x;E+=Q){const ce=this.getContext(E),R=l.setContext(ce),M=d.setContext(ce),W=R.lineWidth,A=R.color,C=M.dash||[],$=M.dashOffset,se=R.tickWidth,oe=R.tickColor,be=R.tickBorderDash||[],ke=R.tickBorderDashOffset;I=jS(this,E,h),I!==void 0&&(L=zr(n,I,W),m?B=q=re=ie=L:G=Z=K=Y=L,b.push({tx1:B,ty1:G,tx2:q,ty2:Z,x1:re,y1:K,x2:ie,y2:Y,width:W,color:A,borderDash:C,borderDashOffset:$,tickWidth:se,tickColor:oe,tickBorderDash:be,tickBorderDashOffset:ke}))}return this._ticksLength=x,this._borderValue=P,b}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:l}=n,c=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:m,padding:g,mirror:x}=l,v=oo(n.grid),b=v+g,j=x?-g:b,_=-Gr(this.labelRotation),S=[];let N,P,E,I,L,B,G,q,Z,re,K,ie,Y="middle";if(i==="top")B=this.bottom-j,G=this._getXAxisLabelAlignment();else if(i==="bottom")B=this.top+j,G=this._getXAxisLabelAlignment();else if(i==="left"){const Q=this._getYAxisLabelAlignment(v);G=Q.textAlign,L=Q.x}else if(i==="right"){const Q=this._getYAxisLabelAlignment(v);G=Q.textAlign,L=Q.x}else if(t==="x"){if(i==="center")B=(e.top+e.bottom)/2+b;else if(He(i)){const Q=Object.keys(i)[0],ce=i[Q];B=this.chart.scales[Q].getPixelForValue(ce)+b}G=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")L=(e.left+e.right)/2-b;else if(He(i)){const Q=Object.keys(i)[0],ce=i[Q];L=this.chart.scales[Q].getPixelForValue(ce)}G=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(h==="start"?Y="top":h==="end"&&(Y="bottom"));const ae=this._getLabelSizes();for(N=0,P=d.length;N<P;++N){E=d[N],I=E.label;const Q=l.setContext(this.getContext(N));q=this.getPixelForTick(N)+l.labelOffset,Z=this._resolveTickFontOptions(N),re=Z.lineHeight,K=Tt(I)?I.length:1;const ce=K/2,R=Q.color,M=Q.textStrokeColor,W=Q.textStrokeWidth;let A=G;c?(L=q,G==="inner"&&(N===P-1?A=this.options.reverse?"left":"right":N===0?A=this.options.reverse?"right":"left":A="center"),i==="top"?m==="near"||_!==0?ie=-K*re+re/2:m==="center"?ie=-ae.highest.height/2-ce*re+re:ie=-ae.highest.height+re/2:m==="near"||_!==0?ie=re/2:m==="center"?ie=ae.highest.height/2-ce*re:ie=ae.highest.height-K*re,x&&(ie*=-1),_!==0&&!Q.showLabelBackdrop&&(L+=re/2*Math.sin(_))):(B=q,ie=(1-K)*re/2);let C;if(Q.showLabelBackdrop){const $=Rs(Q.backdropPadding),se=ae.heights[N],oe=ae.widths[N];let be=ie-$.top,ke=0-$.left;switch(Y){case"middle":be-=se/2;break;case"bottom":be-=se;break}switch(G){case"center":ke-=oe/2;break;case"right":ke-=oe;break;case"inner":N===P-1?ke-=oe:N>0&&(ke-=oe/2);break}C={left:ke,top:be,width:oe+$.width,height:se+$.height,color:Q.backdropColor}}S.push({label:I,font:Z,textOffset:ie,options:{rotation:_,color:R,strokeColor:M,strokeWidth:W,textAlign:A,textBaseline:Y,translation:[L,B],backdrop:C}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Gr(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:l}}=this.options,c=this._getLabelSizes(),d=e+l,h=c.widest.width;let m,g;return t==="left"?i?(g=this.right+l,n==="near"?m="left":n==="center"?(m="center",g+=h/2):(m="right",g+=h)):(g=this.right-d,n==="near"?m="right":n==="center"?(m="center",g-=h/2):(m="left",g=this.left)):t==="right"?i?(g=this.left+l,n==="near"?m="right":n==="center"?(m="center",g-=h/2):(m="left",g-=h)):(g=this.left+d,n==="near"?m="left":n==="center"?(m="center",g+=h/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:l,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,l,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(l=>l.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,c;const d=(h,m,g)=>{!g.width||!g.color||(n.save(),n.lineWidth=g.width,n.strokeStyle=g.color,n.setLineDash(g.borderDash||[]),n.lineDashOffset=g.borderDashOffset,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(m.x,m.y),n.stroke(),n.restore())};if(t.display)for(l=0,c=i.length;l<c;++l){const h=i[l];t.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,l=n.setContext(this.getContext()),c=n.display?l.width:0;if(!c)return;const d=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,g,x,v;this.isHorizontal()?(m=zr(e,this.left,c)-c/2,g=zr(e,this.right,d)+d/2,x=v=h):(x=zr(e,this.top,c)-c/2,v=zr(e,this.bottom,d)+d/2,m=g=h),t.save(),t.lineWidth=l.width,t.strokeStyle=l.color,t.beginPath(),t.moveTo(m,x),t.lineTo(g,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&gf(n,i);const l=this.getLabelItems(e);for(const c of l){const d=c.options,h=c.font,m=c.label,g=c.textOffset;Oo(n,m,0,g,h,d)}i&&pf(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const l=Yt(n.font),c=Rs(n.padding),d=n.align;let h=l.lineHeight/2;t==="bottom"||t==="center"||He(t)?(h+=c.bottom,Tt(n.text)&&(h+=l.lineHeight*(n.text.length-1))):h+=c.top;const{titleX:m,titleY:g,maxWidth:x,rotation:v}=CS(this,h,t,d);Oo(e,n.text,0,0,l,{color:n.color,maxWidth:x,rotation:v,textAlign:SS(d,t,i),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=We(e.grid&&e.grid.z,-1),i=We(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ua.prototype.draw?[{z:t,draw:l=>{this.draw(l)}}]:[{z:n,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let l,c;for(l=0,c=t.length;l<c;++l){const d=t[l];d[n]===this.id&&(!e||d.type===e)&&i.push(d)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Yt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class pc{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;PS(t)&&(n=this.register(t));const i=this.items,l=e.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in i||(i[l]=e,ES(e,c,n),this.override&&vt.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in vt[i]&&(delete vt[i][n],this.override&&delete Jr[n])}}function ES(s,e,t){const n=Mo(Object.create(null),[t?vt.get(t):{},vt.get(e),s.defaults]);vt.set(e,n),s.defaultRoutes&&TS(e,s.defaultRoutes),s.descriptors&&vt.describe(e,s.descriptors)}function TS(s,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),l=[s].concat(n).join("."),c=e[t].split("."),d=c.pop(),h=c.join(".");vt.route(l,i,h,d)})}function PS(s){return"id"in s&&"defaults"in s}class MS{constructor(){this.controllers=new pc(Yy,"datasets",!0),this.elements=new pc(Zr,"elements"),this.plugins=new pc(Object,"plugins"),this.scales=new pc(ua,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const l=n||this._getRegistryForType(i);n||l.isForType(i)||l===this.plugins&&i.id?this._exec(e,l,i):Ke(i,c=>{const d=n||this._getRegistryForType(c);this._exec(e,d,c)})})}_exec(e,t,n){const i=hf(e);nt(n["before"+i],[],n),t[e](n),nt(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var cn=new MS;class AS{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=i?this._descriptors(e).filter(i):this._descriptors(e),c=this._notify(l,e,t,n);return t==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,t,n,i){i=i||{};for(const l of e){const c=l.plugin,d=c[n],h=[t,i,l.options];if(nt(d,h,c)===!1&&i.cancelable)return!1}return!0}invalidate(){Xe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=We(n.options&&n.options.plugins,{}),l=OS(n);return i===!1&&!t?[]:IS(e,l,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(l,c)=>l.filter(d=>!c.some(h=>d.plugin.id===h.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function OS(s){const e={},t=[],n=Object.keys(cn.plugins.items);for(let l=0;l<n.length;l++)t.push(cn.getPlugin(n[l]));const i=s.plugins||[];for(let l=0;l<i.length;l++){const c=i[l];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function RS(s,e){return!e&&s===!1?null:s===!0?{}:s}function IS(s,{plugins:e,localIds:t},n,i){const l=[],c=s.getContext();for(const d of e){const h=d.id,m=RS(n[h],i);m!==null&&l.push({plugin:d,options:DS(s.config,{plugin:d,local:t[h]},m,c)})}return l}function DS(s,{plugin:e,local:t},n,i){const l=s.pluginScopeKeys(e),c=s.getOptionScopes(n,l);return t&&e.defaults&&c.push(e.defaults),s.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wh(s,e){const t=vt.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function LS(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function FS(s,e){return s===e?"_index_":"_value_"}function M0(s){if(s==="x"||s==="y"||s==="r")return s}function $S(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Hh(s,...e){if(M0(s))return s;for(const t of e){const n=t.axis||$S(t.position)||s.length>1&&M0(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function A0(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function zS(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(t.length)return A0(s,"x",t[0])||A0(s,"y",t[0])}return{}}function BS(s,e){const t=Jr[s.type]||{scales:{}},n=e.scales||{},i=Wh(s.type,e),l=Object.create(null);return Object.keys(n).forEach(c=>{const d=n[c];if(!He(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=Hh(c,d,zS(c,s),vt.scales[d.type]),m=FS(h,i),g=t.scales||{};l[c]=_o(Object.create(null),[{axis:h},d,g[h],g[m]])}),s.data.datasets.forEach(c=>{const d=c.type||s.type,h=c.indexAxis||Wh(d,e),g=(Jr[d]||{}).scales||{};Object.keys(g).forEach(x=>{const v=LS(x,h),b=c[v+"AxisID"]||v;l[b]=l[b]||Object.create(null),_o(l[b],[{axis:v},n[b],g[x]])})}),Object.keys(l).forEach(c=>{const d=l[c];_o(d,[vt.scales[d.type],vt.scale])}),l}function tv(s){const e=s.options||(s.options={});e.plugins=We(e.plugins,{}),e.scales=BS(s,e)}function sv(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function US(s){return s=s||{},s.data=sv(s.data),tv(s),s}const O0=new Map,nv=new Set;function xc(s,e){let t=O0.get(s);return t||(t=e(),O0.set(s,t),nv.add(t)),t}const lo=(s,e,t)=>{const n=na(e,t);n!==void 0&&s.add(n)};class WS{constructor(e){this._config=US(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return xc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return xc(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return xc(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return xc(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:l}=this,c=this._cachedScopes(e,n),d=c.get(t);if(d)return d;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(x=>lo(h,e,x))),g.forEach(x=>lo(h,i,x)),g.forEach(x=>lo(h,Jr[l]||{},x)),g.forEach(x=>lo(h,vt,x)),g.forEach(x=>lo(h,Uh,x))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),nv.has(t)&&c.set(t,m),m}chartOptionScopes(){const{options:e,type:t}=this;return[e,Jr[t]||{},vt.datasets[t]||{},{type:t},vt,Uh]}resolveNamedOptions(e,t,n,i=[""]){const l={$shared:!0},{resolver:c,subPrefixes:d}=R0(this._resolverCache,e,i);let h=c;if(VS(c,t)){l.$shared=!1,n=xr(n)?n():n;const m=this.createResolver(e,n,d);h=ra(c,n,m)}for(const m of t)l[m]=h[m];return l}createResolver(e,t,n=[""],i){const{resolver:l}=R0(this._resolverCache,e,n);return He(t)?ra(l,t,void 0,i):l}}function R0(s,e,t){let n=s.get(e);n||(n=new Map,s.set(e,n));const i=t.join();let l=n.get(i);return l||(l={resolver:yf(e,t),subPrefixes:t.filter(d=>!d.toLowerCase().includes("hover"))},n.set(i,l)),l}const HS=s=>He(s)&&Object.getOwnPropertyNames(s).some(e=>xr(s[e]));function VS(s,e){const{isScriptable:t,isIndexable:n}=zy(s);for(const i of e){const l=t(i),c=n(i),d=(c||l)&&s[i];if(l&&(xr(d)||HS(d))||c&&Tt(d))return!0}return!1}var qS="4.5.0";const GS=["top","bottom","left","right","chartArea"];function I0(s,e){return s==="top"||s==="bottom"||GS.indexOf(s)===-1&&e==="x"}function D0(s,e){return function(t,n){return t[s]===n[s]?t[e]-n[e]:t[s]-n[s]}}function L0(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),nt(t&&t.onComplete,[s],e)}function YS(s){const e=s.chart,t=e.options.animation;nt(t&&t.onProgress,[s],e)}function rv(s){return wf()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Ec={},F0=s=>{const e=rv(s);return Object.values(Ec).filter(t=>t.canvas===e).pop()};function KS(s,e,t){const n=Object.keys(s);for(const i of n){const l=+i;if(l>=e){const c=s[i];delete s[i],(t>0||l>e)&&(s[l+t]=c)}}}function JS(s,e,t,n){return!t||s.type==="mouseout"?null:n?e:s}let Qc=class{static defaults=vt;static instances=Ec;static overrides=Jr;static registry=cn;static version=qS;static getChart=F0;static register(...e){cn.add(...e),$0()}static unregister(...e){cn.remove(...e),$0()}constructor(e,t){const n=this.config=new WS(t),i=rv(e),l=F0(i);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||mS(i)),this.platform.updateConfig(n);const d=this.platform.acquireContext(i,c.aspectRatio),h=d&&d.canvas,m=h&&h.height,g=h&&h.width;if(this.id=fN(),this.ctx=d,this.canvas=h,this.width=g,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new AS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=MN(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],Ec[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Cn.listen(this,"complete",L0),Cn.listen(this,"progress",YS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:l}=this;return Xe(e)?t&&l?l:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return cn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():u0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return a0(this.canvas,this.ctx),this}stop(){return Cn.stop(this),this}resize(e,t){Cn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,l=n.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,e,t,l),d=n.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,u0(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),nt(n.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ke(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((c,d)=>(c[d]=!1,c),{});let l=[];t&&(l=l.concat(Object.keys(t).map(c=>{const d=t[c],h=Hh(c,d),m=h==="r",g=h==="x";return{options:d,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),Ke(l,c=>{const d=c.options,h=d.id,m=Hh(h,d),g=We(d.type,c.dtype);(d.position===void 0||I0(d.position,m)!==I0(c.dposition))&&(d.position=c.dposition),i[h]=!0;let x=null;if(h in n&&n[h].type===g)x=n[h];else{const v=cn.getScale(g);x=new v({id:h,type:g,ctx:this.ctx,chart:this}),n[x.id]=x}x.init(d,e)}),Ke(i,(c,d)=>{c||delete n[d]}),Ke(n,c=>{As.configure(this,c,c.options),As.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,l)=>i.index-l.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(D0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(l=>l===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const l=t[n];let c=this.getDatasetMeta(n);const d=l.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(n),c=this.getDatasetMeta(n)),c.type=d,c.indexAxis=l.indexAxis||Wh(d,this.options),c.order=l.order||0,c.index=n,c.label=""+l.label,c.visible=this.isDatasetVisible(n),c.controller)c.controller.updateIndex(n),c.controller.linkScales();else{const h=cn.getController(d),{datasetElementType:m,dataElementType:g}=vt.datasets[d];Object.assign(h,{dataElementType:cn.getElement(g),datasetElementType:m&&cn.getElement(m)}),c.controller=new h(this,n),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Ke(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:x}=this.getDatasetMeta(m),v=!i&&l.indexOf(x)===-1;x.buildOrUpdateElements(v),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=n.layout.autoPadding?c:0,this._updateLayout(c),i||Ke(l,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(D0("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Ke(this.scales,e=>{As.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Jp(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:l}of t){const c=n==="_removeElements"?-l:l;KS(e,i,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=l=>new Set(e.filter(c=>c[0]===l).map((c,d)=>d+","+c.splice(1).join(","))),i=n(0);for(let l=1;l<t;l++)if(!Jp(i,n(l)))return;return Array.from(i).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;As.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Ke(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,l)=>{i._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,xr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Cn.has(this)?this.attached&&!Cn.running(this)&&Cn.start(this):(this.draw(),L0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,l;for(i=0,l=t.length;i<l;++i){const c=t[i];(!e||c.visible)&&n.push(c)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=p2(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&gf(t,i),e.controller.draw(),i&&pf(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Fy(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const l=G2.modes[t];return typeof l=="function"?l(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(l=>l&&l._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=ca(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",l=this.getDatasetMeta(e),c=l.controller._resolveAnimations(void 0,i);Ao(t)?(l.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),c.update(l,{visible:n}),this.update(d=>d.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Cn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),a0(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ec[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c,d)=>{l.offsetX=c,l.offsetY=d,this._eventHandler(l)};Ke(this.options.events,l=>n(l,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(h,m)=>{t.addEventListener(this,h,m),e[h]=m},i=(h,m)=>{e[h]&&(t.removeEventListener(this,h,m),delete e[h])},l=(h,m)=>{this.canvas&&this.resize(h,m)};let c;const d=()=>{i("attach",d),this.attached=!0,this.resize(),n("resize",l),n("detach",c)};c=()=>{this.attached=!1,i("resize",l),this._stop(),this._resize(0,0),n("attach",d)},t.isAttached(this.canvas)?d():c()}unbindEvents(){Ke(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ke(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let l,c,d,h;for(t==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+i+"DatasetHoverStyle"]()),d=0,h=e.length;d<h;++d){c=e[d];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:l,index:c})=>{const d=this.getDatasetMeta(l);if(!d)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:d.data[c],index:c}});!Dc(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,l=(h,m)=>h.filter(g=>!m.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),c=l(t,e),d=n?e:l(e,t);c.length&&this.updateHoverStyle(c,i.mode,!1),d.length&&i.mode&&this.updateHoverStyle(d,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const l=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(l||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:l}=this,c=t,d=this._getActiveElements(e,i,n,c),h=vN(e),m=JS(e,this._lastEvent,n,h);n&&(this._lastEvent=null,nt(l.onHover,[e,d,this],this),h&&nt(l.onClick,[e,d,this],this));const g=!Dc(d,i);return(g||t)&&(this._active=d,this._updateHoverStyles(d,i,t)),this._lastEvent=m,g}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,i)}};function $0(){return Ke(Qc.instances,s=>s._plugins.invalidate())}function QS(s,e,t){const{startAngle:n,x:i,y:l,outerRadius:c,innerRadius:d,options:h}=e,{borderWidth:m,borderJoinStyle:g}=h,x=Math.min(m/c,un(n-t));if(s.beginPath(),s.arc(i,l,c-m/2,n+x/2,t-x/2),d>0){const v=Math.min(m/d,un(n-t));s.arc(i,l,d+m/2,t-v/2,n+v/2,!0)}else{const v=Math.min(m/2,c*un(n-t));if(g==="round")s.arc(i,l,v,t-rt/2,n+rt/2,!0);else if(g==="bevel"){const b=2*v*v,j=-b*Math.cos(t+rt/2)+i,_=-b*Math.sin(t+rt/2)+l,S=b*Math.cos(n+rt/2)+i,N=b*Math.sin(n+rt/2)+l;s.lineTo(j,_),s.lineTo(S,N)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function XS(s,e,t){const{startAngle:n,pixelMargin:i,x:l,y:c,outerRadius:d,innerRadius:h}=e;let m=i/d;s.beginPath(),s.arc(l,c,d,n-m,t+m),h>i?(m=i/h,s.arc(l,c,h,t+m,n-m,!0)):s.arc(l,c,i,t+Lt,n-Lt),s.closePath(),s.clip()}function ZS(s){return xf(s,["outerStart","outerEnd","innerStart","innerEnd"])}function eC(s,e,t,n){const i=ZS(s.options.borderRadius),l=(t-e)/2,c=Math.min(l,n*e/2),d=h=>{const m=(t-Math.min(l,h))*n/2;return hs(h,0,Math.min(l,m))};return{outerStart:d(i.outerStart),outerEnd:d(i.outerEnd),innerStart:hs(i.innerStart,0,c),innerEnd:hs(i.innerEnd,0,c)}}function Hi(s,e,t,n){return{x:t+s*Math.cos(e),y:n+s*Math.sin(e)}}function Wc(s,e,t,n,i,l){const{x:c,y:d,startAngle:h,pixelMargin:m,innerRadius:g}=e,x=Math.max(e.outerRadius+n+t-m,0),v=g>0?g+n+t+m:0;let b=0;const j=i-h;if(n){const Q=g>0?g-n:0,ce=x>0?x-n:0,R=(Q+ce)/2,M=R!==0?j*R/(R+n):j;b=(j-M)/2}const _=Math.max(.001,j*x-t/rt)/x,S=(j-_)/2,N=h+S+b,P=i-S-b,{outerStart:E,outerEnd:I,innerStart:L,innerEnd:B}=eC(e,v,x,P-N),G=x-E,q=x-I,Z=N+E/G,re=P-I/q,K=v+L,ie=v+B,Y=N+L/K,ae=P-B/ie;if(s.beginPath(),l){const Q=(Z+re)/2;if(s.arc(c,d,x,Z,Q),s.arc(c,d,x,Q,re),I>0){const W=Hi(q,re,c,d);s.arc(W.x,W.y,I,re,P+Lt)}const ce=Hi(ie,P,c,d);if(s.lineTo(ce.x,ce.y),B>0){const W=Hi(ie,ae,c,d);s.arc(W.x,W.y,B,P+Lt,ae+Math.PI)}const R=(P-B/v+(N+L/v))/2;if(s.arc(c,d,v,P-B/v,R,!0),s.arc(c,d,v,R,N+L/v,!0),L>0){const W=Hi(K,Y,c,d);s.arc(W.x,W.y,L,Y+Math.PI,N-Lt)}const M=Hi(G,N,c,d);if(s.lineTo(M.x,M.y),E>0){const W=Hi(G,Z,c,d);s.arc(W.x,W.y,E,N-Lt,Z)}}else{s.moveTo(c,d);const Q=Math.cos(Z)*x+c,ce=Math.sin(Z)*x+d;s.lineTo(Q,ce);const R=Math.cos(re)*x+c,M=Math.sin(re)*x+d;s.lineTo(R,M)}s.closePath()}function tC(s,e,t,n,i){const{fullCircles:l,startAngle:c,circumference:d}=e;let h=e.endAngle;if(l){Wc(s,e,t,n,h,i);for(let m=0;m<l;++m)s.fill();isNaN(d)||(h=c+(d%ss||ss))}return Wc(s,e,t,n,h,i),s.fill(),h}function sC(s,e,t,n,i){const{fullCircles:l,startAngle:c,circumference:d,options:h}=e,{borderWidth:m,borderJoinStyle:g,borderDash:x,borderDashOffset:v,borderRadius:b}=h,j=h.borderAlign==="inner";if(!m)return;s.setLineDash(x||[]),s.lineDashOffset=v,j?(s.lineWidth=m*2,s.lineJoin=g||"round"):(s.lineWidth=m,s.lineJoin=g||"bevel");let _=e.endAngle;if(l){Wc(s,e,t,n,_,i);for(let S=0;S<l;++S)s.stroke();isNaN(d)||(_=c+(d%ss||ss))}j&&XS(s,e,_),h.selfJoin&&_-c>=rt&&b===0&&g!=="miter"&&QS(s,e,_),l||(Wc(s,e,t,n,_,i),s.stroke())}class nC extends Zr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:l,distance:c}=Ey(i,{x:e,y:t}),{startAngle:d,endAngle:h,innerRadius:m,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),v=(this.options.spacing+this.options.borderWidth)/2,b=We(x,h-d),j=Ty(l,d,h)&&d!==h,_=b>=ss||j,S=Yr(c,m+v,g+v);return _&&S}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:l,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:m}=this.options,g=(i+l)/2,x=(c+d+m+h)/2;return{x:t+Math.cos(g)*x,y:n+Math.sin(g)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,l=(t.spacing||0)/2,c=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>ss?Math.floor(n/ss):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*i,Math.sin(d)*i);const h=1-Math.sin(Math.min(rt,n||0)),m=i*h;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,tC(e,this,m,l,c),sC(e,this,m,l,c),e.restore()}}function iv(s,e){const{x:t,y:n,base:i,width:l,height:c}=s.getProps(["x","y","base","width","height"],e);let d,h,m,g,x;return s.horizontal?(x=c/2,d=Math.min(t,i),h=Math.max(t,i),m=n-x,g=n+x):(x=l/2,d=t-x,h=t+x,m=Math.min(n,i),g=Math.max(n,i)),{left:d,top:m,right:h,bottom:g}}function fr(s,e,t,n){return s?0:hs(e,t,n)}function rC(s,e,t){const n=s.options.borderWidth,i=s.borderSkipped,l=$y(n);return{t:fr(i.top,l.top,0,t),r:fr(i.right,l.right,0,e),b:fr(i.bottom,l.bottom,0,t),l:fr(i.left,l.left,0,e)}}function iC(s,e,t){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),i=s.options.borderRadius,l=ea(i),c=Math.min(e,t),d=s.borderSkipped,h=n||He(i);return{topLeft:fr(!h||d.top||d.left,l.topLeft,0,c),topRight:fr(!h||d.top||d.right,l.topRight,0,c),bottomLeft:fr(!h||d.bottom||d.left,l.bottomLeft,0,c),bottomRight:fr(!h||d.bottom||d.right,l.bottomRight,0,c)}}function aC(s){const e=iv(s),t=e.right-e.left,n=e.bottom-e.top,i=rC(s,t/2,n/2),l=iC(s,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:l},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,l.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(i.b,i.r))}}}}function mh(s,e,t,n){const i=e===null,l=t===null,d=s&&!(i&&l)&&iv(s,n);return d&&(i||Yr(e,d.left,d.right))&&(l||Yr(t,d.top,d.bottom))}function oC(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function lC(s,e){s.rect(e.x,e.y,e.w,e.h)}function gh(s,e,t={}){const n=s.x!==t.x?-e:0,i=s.y!==t.y?-e:0,l=(s.x+s.w!==t.x+t.w?e:0)-n,c=(s.y+s.h!==t.y+t.h?e:0)-i;return{x:s.x+n,y:s.y+i,w:s.w+l,h:s.h+c,radius:s.radius}}class cC extends Zr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:l,outer:c}=aC(this),d=oC(c.radius)?zc:lC;e.save(),(c.w!==l.w||c.h!==l.h)&&(e.beginPath(),d(e,gh(c,t,l)),e.clip(),d(e,gh(l,-t,c)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),d(e,gh(l,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return mh(this,e,t,n)}inXRange(e,t){return mh(this,e,null,t)}inYRange(e,t){return mh(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(t+i)/2:t,y:l?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const z0=(s,e)=>{let{boxHeight:t=e,boxWidth:n=e}=s;return s.usePointStyle&&(t=Math.min(t,e),n=s.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},uC=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class B0 extends Zr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=nt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Yt(n.font),l=i.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=z0(n,l);let m,g;t.font=i.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(c,l,d,h)+10):(g=this.maxHeight,m=this._fitCols(c,i,d,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:l,maxWidth:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],g=i+d;let x=e;l.textAlign="left",l.textBaseline="middle";let v=-1,b=-g;return this.legendItems.forEach((j,_)=>{const S=n+t/2+l.measureText(j.text).width;(_===0||m[m.length-1]+S+2*d>c)&&(x+=g,m[m.length-(_>0?0:1)]=0,b+=g,v++),h[_]={left:0,top:b,row:v,width:S,height:i},m[m.length-1]+=S+d}),x}_fitCols(e,t,n,i){const{ctx:l,maxHeight:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],g=c-e;let x=d,v=0,b=0,j=0,_=0;return this.legendItems.forEach((S,N)=>{const{itemWidth:P,itemHeight:E}=dC(n,t,l,S,i);N>0&&b+E+2*d>g&&(x+=v+d,m.push({width:v,height:b}),j+=v+d,_++,v=b=0),h[N]={left:j,top:b,col:_,width:P,height:E},v=Math.max(v,P),b+=E+d}),x+=v,m.push({width:v,height:b}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:l}}=this,c=ta(l,this.left,this.width);if(this.isHorizontal()){let d=0,h=qt(n,this.left+i,this.right-this.lineWidths[d]);for(const m of t)d!==m.row&&(d=m.row,h=qt(n,this.left+i,this.right-this.lineWidths[d])),m.top+=this.top+e+i,m.left=c.leftForLtr(c.x(h),m.width),h+=m.width+i}else{let d=0,h=qt(n,this.top+e+i,this.bottom-this.columnSizes[d].height);for(const m of t)m.col!==d&&(d=m.col,h=qt(n,this.top+e+i,this.bottom-this.columnSizes[d].height)),m.top=h,m.left+=this.left+i,m.left=c.leftForLtr(c.x(m.left),m.width),h+=m.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;gf(e,this),this._draw(),pf(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:l,labels:c}=e,d=vt.color,h=ta(e.rtl,this.left,this.width),m=Yt(c.font),{padding:g}=c,x=m.size,v=x/2;let b;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=m.string;const{boxWidth:j,boxHeight:_,itemHeight:S}=z0(c,x),N=function(B,G,q){if(isNaN(j)||j<=0||isNaN(_)||_<0)return;i.save();const Z=We(q.lineWidth,1);if(i.fillStyle=We(q.fillStyle,d),i.lineCap=We(q.lineCap,"butt"),i.lineDashOffset=We(q.lineDashOffset,0),i.lineJoin=We(q.lineJoin,"miter"),i.lineWidth=Z,i.strokeStyle=We(q.strokeStyle,d),i.setLineDash(We(q.lineDash,[])),c.usePointStyle){const re={radius:_*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:Z},K=h.xPlus(B,j/2),ie=G+v;Ly(i,re,K,ie,c.pointStyleWidth&&j)}else{const re=G+Math.max((x-_)/2,0),K=h.leftForLtr(B,j),ie=ea(q.borderRadius);i.beginPath(),Object.values(ie).some(Y=>Y!==0)?zc(i,{x:K,y:re,w:j,h:_,radius:ie}):i.rect(K,re,j,_),i.fill(),Z!==0&&i.stroke()}i.restore()},P=function(B,G,q){Oo(i,q.text,B,G+S/2,m,{strikethrough:q.hidden,textAlign:h.textAlign(q.textAlign)})},E=this.isHorizontal(),I=this._computeTitleHeight();E?b={x:qt(l,this.left+g,this.right-n[0]),y:this.top+g+I,line:0}:b={x:this.left+g,y:qt(l,this.top+I+g,this.bottom-t[0].height),line:0},Hy(this.ctx,e.textDirection);const L=S+g;this.legendItems.forEach((B,G)=>{i.strokeStyle=B.fontColor,i.fillStyle=B.fontColor;const q=i.measureText(B.text).width,Z=h.textAlign(B.textAlign||(B.textAlign=c.textAlign)),re=j+v+q;let K=b.x,ie=b.y;h.setWidth(this.width),E?G>0&&K+re+g>this.right&&(ie=b.y+=L,b.line++,K=b.x=qt(l,this.left+g,this.right-n[b.line])):G>0&&ie+L>this.bottom&&(K=b.x=K+t[b.line].width+g,b.line++,ie=b.y=qt(l,this.top+I+g,this.bottom-t[b.line].height));const Y=h.x(K);if(N(Y,ie,B),K=AN(Z,K+j+v,E?K+re:this.right,e.rtl),P(h.x(K),ie,B),E)b.x+=re+g;else if(typeof B.text!="string"){const ae=m.lineHeight;b.y+=av(B,ae)+g}else b.y+=L}),Vy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Yt(t.font),i=Rs(t.padding);if(!t.display)return;const l=ta(e.rtl,this.left,this.width),c=this.ctx,d=t.position,h=n.size/2,m=i.top+h;let g,x=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+m,x=qt(e.align,x,this.right-v);else{const j=this.columnSizes.reduce((_,S)=>Math.max(_,S.height),0);g=m+qt(e.align,this.top,this.bottom-j-e.labels.padding-this._computeTitleHeight())}const b=qt(d,x,x+v);c.textAlign=l.textAlign(mf(d)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=n.string,Oo(c,t.text,b,g,n)}_computeTitleHeight(){const e=this.options.title,t=Yt(e.font),n=Rs(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,l;if(Yr(e,this.left,this.right)&&Yr(t,this.top,this.bottom)){for(l=this.legendHitBoxes,n=0;n<l.length;++n)if(i=l[n],Yr(e,i.left,i.left+i.width)&&Yr(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!mC(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,l=uC(i,n);i&&!l&&nt(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!l&&nt(t.onHover,[e,n,this],this)}else n&&nt(t.onClick,[e,n,this],this)}}function dC(s,e,t,n,i){const l=hC(n,s,e,t),c=fC(i,n,e.lineHeight);return{itemWidth:l,itemHeight:c}}function hC(s,e,t,n){let i=s.text;return i&&typeof i!="string"&&(i=i.reduce((l,c)=>l.length>c.length?l:c)),e+t.size/2+n.measureText(i).width}function fC(s,e,t){let n=s;return typeof e.text!="string"&&(n=av(e,t)),n}function av(s,e){const t=s.text?s.text.length:0;return e*t}function mC(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var gC={id:"legend",_element:B0,start(s,e,t){const n=s.legend=new B0({ctx:s.ctx,options:t,chart:s});As.configure(s,n,t),As.addBox(s,n)},stop(s){As.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const n=s.legend;As.configure(s,n,t),n.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:l,useBorderRadius:c,borderRadius:d}}=s.legend.options;return s._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(t?0:void 0),g=Rs(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:n||m.pointStyle,rotation:m.rotation,textAlign:i||m.textAlign,borderRadius:c&&(d||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class ov extends Zr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=Tt(n.text)?n.text.length:1;this._padding=Rs(n.padding);const l=i*Yt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:i,right:l,options:c}=this,d=c.align;let h=0,m,g,x;return this.isHorizontal()?(g=qt(d,n,l),x=t+e,m=l-n):(c.position==="left"?(g=n+e,x=qt(d,i,t),h=rt*-.5):(g=l-e,x=qt(d,t,i),h=rt*.5),m=i-t),{titleX:g,titleY:x,maxWidth:m,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Yt(t.font),l=n.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:h,rotation:m}=this._drawArgs(l);Oo(e,t.text,0,0,n,{color:t.color,maxWidth:h,rotation:m,textAlign:mf(t.align),textBaseline:"middle",translation:[c,d]})}}function pC(s,e){const t=new ov({ctx:s.ctx,options:e,chart:s});As.configure(s,t,e),As.addBox(s,t),s.titleBlock=t}var xC={id:"title",_element:ov,start(s,e,t){pC(s,t)},stop(s){const e=s.titleBlock;As.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const n=s.titleBlock;As.configure(s,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yo={average(s){if(!s.length)return!1;let e,t,n=new Set,i=0,l=0;for(e=0,t=s.length;e<t;++e){const d=s[e].element;if(d&&d.hasValue()){const h=d.tooltipPosition();n.add(h.x),i+=h.y,++l}}return l===0||n.size===0?!1:{x:[...n].reduce((d,h)=>d+h)/n.size,y:i/l}},nearest(s,e){if(!s.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,l,c,d;for(l=0,c=s.length;l<c;++l){const h=s[l].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),g=SN(e,m);g<i&&(i=g,d=h)}}if(d){const h=d.tooltipPosition();t=h.x,n=h.y}return{x:t,y:n}}};function on(s,e){return e&&(Tt(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function En(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function yC(s,e){const{element:t,datasetIndex:n,index:i}=e,l=s.getDatasetMeta(n).controller,{label:c,value:d}=l.getLabelAndValue(i);return{chart:s,label:c,parsed:l.getParsed(i),raw:s.data.datasets[n].data[i],formattedValue:d,dataset:l.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function U0(s,e){const t=s.chart.ctx,{body:n,footer:i,title:l}=s,{boxWidth:c,boxHeight:d}=e,h=Yt(e.bodyFont),m=Yt(e.titleFont),g=Yt(e.footerFont),x=l.length,v=i.length,b=n.length,j=Rs(e.padding);let _=j.height,S=0,N=n.reduce((I,L)=>I+L.before.length+L.lines.length+L.after.length,0);if(N+=s.beforeBody.length+s.afterBody.length,x&&(_+=x*m.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),N){const I=e.displayColors?Math.max(d,h.lineHeight):h.lineHeight;_+=b*I+(N-b)*h.lineHeight+(N-1)*e.bodySpacing}v&&(_+=e.footerMarginTop+v*g.lineHeight+(v-1)*e.footerSpacing);let P=0;const E=function(I){S=Math.max(S,t.measureText(I).width+P)};return t.save(),t.font=m.string,Ke(s.title,E),t.font=h.string,Ke(s.beforeBody.concat(s.afterBody),E),P=e.displayColors?c+2+e.boxPadding:0,Ke(n,I=>{Ke(I.before,E),Ke(I.lines,E),Ke(I.after,E)}),P=0,t.font=g.string,Ke(s.footer,E),t.restore(),S+=j.width,{width:S,height:_}}function vC(s,e){const{y:t,height:n}=e;return t<n/2?"top":t>s.height-n/2?"bottom":"center"}function bC(s,e,t,n){const{x:i,width:l}=n,c=t.caretSize+t.caretPadding;if(s==="left"&&i+l+c>e.width||s==="right"&&i-l-c<0)return!0}function wC(s,e,t,n){const{x:i,width:l}=t,{width:c,chartArea:{left:d,right:h}}=s;let m="center";return n==="center"?m=i<=(d+h)/2?"left":"right":i<=l/2?m="left":i>=c-l/2&&(m="right"),bC(m,s,e,t)&&(m="center"),m}function W0(s,e,t){const n=t.yAlign||e.yAlign||vC(s,t);return{xAlign:t.xAlign||e.xAlign||wC(s,e,t,n),yAlign:n}}function jC(s,e){let{x:t,width:n}=s;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function kC(s,e,t){let{y:n,height:i}=s;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function H0(s,e,t,n){const{caretSize:i,caretPadding:l,cornerRadius:c}=s,{xAlign:d,yAlign:h}=t,m=i+l,{topLeft:g,topRight:x,bottomLeft:v,bottomRight:b}=ea(c);let j=jC(e,d);const _=kC(e,h,m);return h==="center"?d==="left"?j+=m:d==="right"&&(j-=m):d==="left"?j-=Math.max(g,v)+i:d==="right"&&(j+=Math.max(x,b)+i),{x:hs(j,0,n.width-e.width),y:hs(_,0,n.height-e.height)}}function yc(s,e,t){const n=Rs(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-n.right:s.x+n.left}function V0(s){return on([],En(s))}function _C(s,e,t){return ca(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function q0(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const lv={beforeTitle:kn,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:kn,beforeBody:kn,beforeLabel:kn,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return Xe(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:kn,afterBody:kn,beforeFooter:kn,footer:kn,afterFooter:kn};function cs(s,e,t,n){const i=s[e].call(t,n);return typeof i>"u"?lv[e].call(t,n):i}class G0 extends Zr{static positioners=yo;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,l=new qy(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=_C(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=cs(n,"beforeTitle",this,e),l=cs(n,"title",this,e),c=cs(n,"afterTitle",this,e);let d=[];return d=on(d,En(i)),d=on(d,En(l)),d=on(d,En(c)),d}getBeforeBody(e,t){return V0(cs(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return Ke(e,l=>{const c={before:[],lines:[],after:[]},d=q0(n,l);on(c.before,En(cs(d,"beforeLabel",this,l))),on(c.lines,cs(d,"label",this,l)),on(c.after,En(cs(d,"afterLabel",this,l))),i.push(c)}),i}getAfterBody(e,t){return V0(cs(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=cs(n,"beforeFooter",this,e),l=cs(n,"footer",this,e),c=cs(n,"afterFooter",this,e);let d=[];return d=on(d,En(i)),d=on(d,En(l)),d=on(d,En(c)),d}_createItems(e){const t=this._active,n=this.chart.data,i=[],l=[],c=[];let d=[],h,m;for(h=0,m=t.length;h<m;++h)d.push(yC(this.chart,t[h]));return e.filter&&(d=d.filter((g,x,v)=>e.filter(g,x,v,n))),e.itemSort&&(d=d.sort((g,x)=>e.itemSort(g,x,n))),Ke(d,g=>{const x=q0(e.callbacks,g);i.push(cs(x,"labelColor",this,g)),l.push(cs(x,"labelPointStyle",this,g)),c.push(cs(x,"labelTextColor",this,g))}),this.labelColors=i,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=d,d}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let l,c=[];if(!i.length)this.opacity!==0&&(l={opacity:0});else{const d=yo[n.position].call(this,i,this._eventPosition);c=this._createItems(n),this.title=this.getTitle(c,n),this.beforeBody=this.getBeforeBody(c,n),this.body=this.getBody(c,n),this.afterBody=this.getAfterBody(c,n),this.footer=this.getFooter(c,n);const h=this._size=U0(this,n),m=Object.assign({},d,h),g=W0(this.chart,n,m),x=H0(n,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,l={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const l=this.getCaretPosition(e,n,i);t.lineTo(l.x1,l.y1),t.lineTo(l.x2,l.y2),t.lineTo(l.x3,l.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:l}=this,{caretSize:c,cornerRadius:d}=n,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:x}=ea(d),{x:v,y:b}=e,{width:j,height:_}=t;let S,N,P,E,I,L;return l==="center"?(I=b+_/2,i==="left"?(S=v,N=S-c,E=I+c,L=I-c):(S=v+j,N=S+c,E=I-c,L=I+c),P=S):(i==="left"?N=v+Math.max(h,g)+c:i==="right"?N=v+j-Math.max(m,x)-c:N=this.caretX,l==="top"?(E=b,I=E-c,S=N-c,P=N+c):(E=b+_,I=E+c,S=N+c,P=N-c),L=E),{x1:S,x2:N,x3:P,y1:E,y2:I,y3:L}}drawTitle(e,t,n){const i=this.title,l=i.length;let c,d,h;if(l){const m=ta(n.rtl,this.x,this.width);for(e.x=yc(this,n.titleAlign,n),t.textAlign=m.textAlign(n.titleAlign),t.textBaseline="middle",c=Yt(n.titleFont),d=n.titleSpacing,t.fillStyle=n.titleColor,t.font=c.string,h=0;h<l;++h)t.fillText(i[h],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+d,h+1===l&&(e.y+=n.titleMarginBottom-d)}}_drawColorBox(e,t,n,i,l){const c=this.labelColors[n],d=this.labelPointStyles[n],{boxHeight:h,boxWidth:m}=l,g=Yt(l.bodyFont),x=yc(this,"left",l),v=i.x(x),b=h<g.lineHeight?(g.lineHeight-h)/2:0,j=t.y+b;if(l.usePointStyle){const _={radius:Math.min(m,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},S=i.leftForLtr(v,m)+m/2,N=j+h/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,o0(e,_,S,N),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,o0(e,_,S,N)}else{e.lineWidth=He(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const _=i.leftForLtr(v,m),S=i.leftForLtr(i.xPlus(v,1),m-2),N=ea(c.borderRadius);Object.values(N).some(P=>P!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,zc(e,{x:_,y:j,w:m,h,radius:N}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),zc(e,{x:S,y:j+1,w:m-2,h:h-2,radius:N}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(_,j,m,h),e.strokeRect(_,j,m,h),e.fillStyle=c.backgroundColor,e.fillRect(S,j+1,m-2,h-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:l,bodyAlign:c,displayColors:d,boxHeight:h,boxWidth:m,boxPadding:g}=n,x=Yt(n.bodyFont);let v=x.lineHeight,b=0;const j=ta(n.rtl,this.x,this.width),_=function(q){t.fillText(q,j.x(e.x+b),e.y+v/2),e.y+=v+l},S=j.textAlign(c);let N,P,E,I,L,B,G;for(t.textAlign=c,t.textBaseline="middle",t.font=x.string,e.x=yc(this,S,n),t.fillStyle=n.bodyColor,Ke(this.beforeBody,_),b=d&&S!=="right"?c==="center"?m/2+g:m+2+g:0,I=0,B=i.length;I<B;++I){for(N=i[I],P=this.labelTextColors[I],t.fillStyle=P,Ke(N.before,_),E=N.lines,d&&E.length&&(this._drawColorBox(t,e,I,j,n),v=Math.max(x.lineHeight,h)),L=0,G=E.length;L<G;++L)_(E[L]),v=x.lineHeight;Ke(N.after,_)}b=0,v=x.lineHeight,Ke(this.afterBody,_),e.y-=l}drawFooter(e,t,n){const i=this.footer,l=i.length;let c,d;if(l){const h=ta(n.rtl,this.x,this.width);for(e.x=yc(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=h.textAlign(n.footerAlign),t.textBaseline="middle",c=Yt(n.footerFont),t.fillStyle=n.footerColor,t.font=c.string,d=0;d<l;++d)t.fillText(i[d],h.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:l,yAlign:c}=this,{x:d,y:h}=e,{width:m,height:g}=n,{topLeft:x,topRight:v,bottomLeft:b,bottomRight:j}=ea(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(d+x,h),c==="top"&&this.drawCaret(e,t,n,i),t.lineTo(d+m-v,h),t.quadraticCurveTo(d+m,h,d+m,h+v),c==="center"&&l==="right"&&this.drawCaret(e,t,n,i),t.lineTo(d+m,h+g-j),t.quadraticCurveTo(d+m,h+g,d+m-j,h+g),c==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(d+b,h+g),t.quadraticCurveTo(d,h+g,d,h+g-b),c==="center"&&l==="left"&&this.drawCaret(e,t,n,i),t.lineTo(d,h+x),t.quadraticCurveTo(d,h,d+x,h),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,l=n&&n.y;if(i||l){const c=yo[e.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=U0(this,e),h=Object.assign({},c,this._size),m=W0(t,e,h),g=H0(e,h,m,t);(i._to!==g.x||l._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},l={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const c=Rs(t.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&d&&(e.save(),e.globalAlpha=n,this.drawBackground(l,e,i,t),Hy(e,t.textDirection),l.y+=c.top,this.drawTitle(l,e,t),this.drawBody(l,e,t),this.drawFooter(l,e,t),Vy(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:d,index:h})=>{const m=this.chart.getDatasetMeta(d);if(!m)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:m.data[h],index:h}}),l=!Dc(n,i),c=this._positionChanged(i,t);(l||c)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,l=this._active||[],c=this._getActiveElements(e,l,t,n),d=this._positionChanged(c,e),h=t||!Dc(c,l)||d;return h&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,n,i){const l=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,l.mode,l,n);return l.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:n,caretY:i,options:l}=this,c=yo[l.position].call(this,e,t);return c!==!1&&(n!==c.x||i!==c.y)}}var NC={id:"tooltip",_element:G0,positioners:yo,afterInit(s,e,t){t&&(s.tooltip=new G0({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const SC=(s,e,t,n)=>(typeof e=="string"?(t=s.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function CC(s,e,t,n){const i=s.indexOf(e);if(i===-1)return SC(s,e,t,n);const l=s.lastIndexOf(e);return i!==l?t:i}const EC=(s,e)=>s===null?null:hs(Math.round(s),0,e);function Y0(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class TC extends ua{static id="category";static defaults={ticks:{callback:Y0}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:l}of t)n[i]===l&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Xe(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:CC(n,e,We(t,e),this._addedLabels),EC(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let l=this.getLabels();l=e===0&&t===l.length-1?l:l.slice(e,t+1),this._valueRange=Math.max(l.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let c=e;c<=t;c++)i.push({value:c});return i}getLabelForValue(e){return Y0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function PC(s,e){const t=[],{bounds:i,step:l,min:c,max:d,precision:h,count:m,maxTicks:g,maxDigits:x,includeBounds:v}=s,b=l||1,j=g-1,{min:_,max:S}=e,N=!Xe(c),P=!Xe(d),E=!Xe(m),I=(S-_)/(x+1);let L=Xp((S-_)/j/b)*b,B,G,q,Z;if(L<1e-14&&!N&&!P)return[{value:_},{value:S}];Z=Math.ceil(S/L)-Math.floor(_/L),Z>j&&(L=Xp(Z*L/j/b)*b),Xe(h)||(B=Math.pow(10,h),L=Math.ceil(L*B)/B),i==="ticks"?(G=Math.floor(_/L)*L,q=Math.ceil(S/L)*L):(G=_,q=S),N&&P&&l&&kN((d-c)/l,L/1e3)?(Z=Math.round(Math.min((d-c)/L,g)),L=(d-c)/Z,G=c,q=d):E?(G=N?c:G,q=P?d:q,Z=m-1,L=(q-G)/Z):(Z=(q-G)/L,Sc(Z,Math.round(Z),L/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));const re=Math.max(Zp(L),Zp(G));B=Math.pow(10,Xe(h)?re:h),G=Math.round(G*B)/B,q=Math.round(q*B)/B;let K=0;for(N&&(v&&G!==c?(t.push({value:c}),G<c&&K++,Sc(Math.round((G+K*L)*B)/B,c,K0(c,I,s))&&K++):G<c&&K++);K<Z;++K){const ie=Math.round((G+K*L)*B)/B;if(P&&ie>d)break;t.push({value:ie})}return P&&v&&q!==d?t.length&&Sc(t[t.length-1].value,d,K0(d,I,s))?t[t.length-1].value=d:t.push({value:d}):(!P||q===d)&&t.push({value:q}),t}function K0(s,e,{horizontal:t,minRotation:n}){const i=Gr(n),l=(t?Math.sin(i):Math.cos(i))||.001,c=.75*e*(""+s).length;return Math.min(e/l,c)}class MC extends ua{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Xe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:l}=this;const c=h=>i=t?i:h,d=h=>l=n?l:h;if(e){const h=gr(i),m=gr(l);h<0&&m<0?d(0):h>0&&m>0&&c(0)}if(i===l){let h=l===0?1:Math.abs(l*.05);d(l+h),e||c(i-h)}this.min=i,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},l=this._range||this,c=PC(i,l);return e.bounds==="ticks"&&_N(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Iy(e,this.chart.options.locale,this.options.ticks.format)}}class AC extends MC{static id="linear";static defaults={ticks:{callback:Dy.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Os(e)?e:0,this.max=Os(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Gr(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,l.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Xc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ds=Object.keys(Xc);function J0(s,e){return s-e}function Q0(s,e){if(Xe(e))return null;const t=s._adapter,{parser:n,round:i,isoWeekday:l}=s._parseOpts;let c=e;return typeof n=="function"&&(c=n(c)),Os(c)||(c=typeof n=="string"?t.parse(c,n):t.parse(c)),c===null?null:(i&&(c=i==="week"&&($c(l)||l===!0)?t.startOf(c,"isoWeek",l):t.startOf(c,i)),+c)}function X0(s,e,t,n){const i=ds.length;for(let l=ds.indexOf(s);l<i-1;++l){const c=Xc[ds[l]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(d*c.size))<=n)return ds[l]}return ds[i-1]}function OC(s,e,t,n,i){for(let l=ds.length-1;l>=ds.indexOf(t);l--){const c=ds[l];if(Xc[c].common&&s._adapter.diff(i,n,c)>=e-1)return c}return ds[t?ds.indexOf(t):0]}function RC(s){for(let e=ds.indexOf(s)+1,t=ds.length;e<t;++e)if(Xc[ds[e]].common)return ds[e]}function Z0(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:n,hi:i}=ff(t,e),l=t[n]>=e?t[n]:t[i];s[l]=!0}}function IC(s,e,t,n){const i=s._adapter,l=+i.startOf(e[0].value,n),c=e[e.length-1].value;let d,h;for(d=l;d<=c;d=+i.add(d,1,n))h=t[d],h>=0&&(e[h].major=!0);return e}function ex(s,e,t){const n=[],i={},l=e.length;let c,d;for(c=0;c<l;++c)d=e[c],i[d]=c,n.push({value:d,major:!1});return l===0||!t?n:IC(s,n,i,t)}class tx extends ua{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new U2._date(e.adapters.date);i.init(t),_o(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Q0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:l,minDefined:c,maxDefined:d}=this.getUserBounds();function h(m){!c&&!isNaN(m.min)&&(i=Math.min(i,m.min)),!d&&!isNaN(m.max)&&(l=Math.max(l,m.max))}(!c||!d)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=Os(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),l=Os(l)&&!isNaN(l)?l:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,l-1),this.max=Math.max(i+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const l=this.min,c=this.max,d=TN(i,l,c);return this._unit=t.unit||(n.autoSkip?X0(t.minUnit,this.min,this.max,this._getLabelCapacity(l)):OC(this,d.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:RC(this._unit),this.initOffsets(i),e.reverse&&d.reverse(),ex(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,l;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?n=l:n=(l-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=hs(t,0,c),n=hs(n,0,c),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,l=i.time,c=l.unit||X0(l.minUnit,t,n,this._getLabelCapacity(t)),d=We(i.ticks.stepSize,1),h=c==="week"?l.isoWeekday:!1,m=$c(h)||h===!0,g={};let x=t,v,b;if(m&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,m?"day":c),e.diff(n,t,c)>1e5*d)throw new Error(t+" and "+n+" are too far apart with stepSize of "+d+" "+c);const j=i.ticks.source==="data"&&this.getDataTimestamps();for(v=x,b=0;v<n;v=+e.add(v,d,c),b++)Z0(g,v,j);return(v===n||i.bounds==="ticks"||b===1)&&Z0(g,v,j),Object.keys(g).sort(J0).map(_=>+_)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,l=this._unit,c=t||i[l];return this._adapter.format(e,c)}_tickFormatFunction(e,t,n,i){const l=this.options,c=l.ticks.callback;if(c)return nt(c,[e,t,n],this);const d=l.time.displayFormats,h=this._unit,m=this._majorUnit,g=h&&d[h],x=m&&d[m],v=n[t],b=m&&x&&v&&v.major;return this._adapter.format(e,i||(b?x:g))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=Gr(this.isHorizontal()?t.maxRotation:t.minRotation),l=Math.cos(i),c=Math.sin(i),d=this._resolveTickFontOptions(0).size;return{w:n*l+d*c,h:n*c+d*l}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,l=this._tickFormatFunction(e,0,ex(this,[e],this._majorUnit),i),c=this._getLabelSize(l),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(Q0(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return My(e.sort(J0))}}function vc(s,e,t){let n=0,i=s.length-1,l,c,d,h;t?(e>=s[n].pos&&e<=s[i].pos&&({lo:n,hi:i}=Bh(s,"pos",e)),{pos:l,time:d}=s[n],{pos:c,time:h}=s[i]):(e>=s[n].time&&e<=s[i].time&&({lo:n,hi:i}=Bh(s,"time",e)),{time:l,pos:d}=s[n],{time:c,pos:h}=s[i]);const m=c-l;return m?d+(h-d)*(e-l)/m:d}class oP extends tx{static id="timeseries";static defaults=tx.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=vc(t,this.min),this._tableRange=vc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],l=[];let c,d,h,m,g;for(c=0,d=e.length;c<d;++c)m=e[c],m>=t&&m<=n&&i.push(m);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(c=0,d=i.length;c<d;++c)g=i[c+1],h=i[c-1],m=i[c],Math.round((g+h)/2)!==m&&l.push({time:m,pos:c/(d-1)});return l}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,l)=>i-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(vc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return vc(this._table,n*this._tableRange+this._minPos,!0)}}const cv="label";function sx(s,e){typeof s=="function"?s(e):s&&(s.current=e)}function DC(s,e){const t=s.options;t&&e&&Object.assign(t,e)}function uv(s,e){s.labels=e}function dv(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cv;const n=[];s.datasets=e.map(i=>{const l=s.datasets.find(c=>c[t]===i[t]);return!l||!i.data||n.includes(l)?{...i}:(n.push(l),Object.assign(l,i),l)})}function LC(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cv;const t={labels:[],datasets:[]};return uv(t,s.labels),dv(t,s.datasets,e),t}function FC(s,e){const{height:t=150,width:n=300,redraw:i=!1,datasetIdKey:l,type:c,data:d,options:h,plugins:m=[],fallbackContent:g,updateMode:x,...v}=s,b=k.useRef(null),j=k.useRef(null),_=()=>{b.current&&(j.current=new Qc(b.current,{type:c,data:LC(d,l),options:h&&{...h},plugins:m}),sx(e,j.current))},S=()=>{sx(e,null),j.current&&(j.current.destroy(),j.current=null)};return k.useEffect(()=>{!i&&j.current&&h&&DC(j.current,h)},[i,h]),k.useEffect(()=>{!i&&j.current&&uv(j.current.config.data,d.labels)},[i,d.labels]),k.useEffect(()=>{!i&&j.current&&d.datasets&&dv(j.current.config.data,d.datasets,l)},[i,d.datasets]),k.useEffect(()=>{j.current&&(i?(S(),setTimeout(_)):j.current.update(x))},[i,h,d.labels,d.datasets,x]),k.useEffect(()=>{j.current&&(S(),setTimeout(_))},[c]),k.useEffect(()=>(_(),()=>S()),[]),qe.createElement("canvas",{ref:b,role:"img",height:t,width:n,...v},g)}const $C=k.forwardRef(FC);function zC(s,e){return Qc.register(e),k.forwardRef((t,n)=>qe.createElement($C,{...t,ref:n,type:s}))}const BC=zC("bar",B2);function da(){const{user:s}=fs(),[e,t]=k.useState(!1),[n,i]=k.useState(null),l=g=>{console.error("Supabase error:",g),i(g.message||"An error occurred"),t(!1)},c=()=>i(null),d=async g=>{t(!0),c();try{const{data:x,error:v}=await g();return v?(l(v),{data:null,error:v}):(t(!1),{data:x,error:null})}catch(x){return l(x),{data:null,error:x}}};return{loading:e,error:n,clearError:c,tasks:{getAll:()=>d(()=>Ue.from("tasks").select("*").eq("user_id",s?.id).order("created_at",{ascending:!1})),create:g=>d(()=>Ue.from("tasks").insert({...g,user_id:s?.id}).select().single()),update:(g,x)=>d(()=>Ue.from("tasks").update(x).eq("id",g).eq("user_id",s?.id).select().single()),delete:g=>d(()=>Ue.from("tasks").delete().eq("id",g).eq("user_id",s?.id))},profiles:{getCurrent:()=>d(()=>Ue.from("profiles").select("*").eq("id",s?.id).single()),update:g=>d(()=>Ue.from("profiles").update(g).eq("id",s?.id).select().single())},supabase:Ue}}const UC=({size:s=256,onPhaseChange:e})=>{const{pomodoro:t,startPomodoroTimer:n,pausePomodoroTimer:i,lastTick:l}=yy(),c=k.useRef(null),d=k.useRef(t.phase);k.useEffect(()=>{d.current!==t.phase&&(e?.(t.phase),d.current=t.phase,t.isRunning||g())},[t.phase,t.isRunning,e]);const h=k.useCallback(()=>{if(t.isRunning&&t.startedAt>0){const E=Date.now(),I=t.elapsedMs+(E-t.startedAt);return Math.max(0,t.totalTimeMs-I)}else{const E=t.totalTimeMs-t.elapsedMs;return Math.max(0,E)}},[t,l]),m=E=>{const I=Math.ceil(E/1e3),L=Math.floor(I/60),B=I%60;return`${String(L).padStart(2,"0")}:${String(B).padStart(2,"0")}`},g=()=>{try{if(!c.current){const E=window.AudioContext||window.webkitAudioContext;E&&(c.current=new E)}if(c.current&&c.current.state==="suspended"&&c.current.resume(),c.current){const E=c.current.createOscillator(),I=c.current.createGain();E.frequency.setValueAtTime(880,c.current.currentTime),E.type="sine",I.gain.setValueAtTime(.001,c.current.currentTime),I.gain.exponentialRampToValueAtTime(.25,c.current.currentTime+.02),I.gain.exponentialRampToValueAtTime(.001,c.current.currentTime+.65),E.connect(I),I.connect(c.current.destination),E.start(c.current.currentTime),E.stop(c.current.currentTime+.7)}}catch{console.log("Audio not available")}},x=()=>{t.isRunning?i():n()},v=h(),b=t.totalTimeMs-v,j=Math.min(1,b/t.totalTimeMs),_=82,S=2*Math.PI*_,N=S*(1-j),P=()=>{switch(t.phase){case"work":return"#2563eb";case"short":return"#10b981";case"long":return"#f59e0b";default:return"#2563eb"}};return a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsxs("div",{className:"relative",style:{width:s,height:s,filter:"drop-shadow(0 8px 24px rgba(0,0,0,.06))"},children:[a.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 200 200",children:[a.jsx("circle",{cx:"100",cy:"100",r:_,fill:"none",stroke:"#e5e7eb",strokeWidth:"18"}),a.jsx("g",{transform:"rotate(-90 100 100)",children:a.jsx("circle",{cx:"100",cy:"100",r:_,fill:"none",stroke:P(),strokeWidth:"18",strokeLinecap:"round",strokeDasharray:S,strokeDashoffset:N,style:{transition:"stroke-dashoffset 0.5s ease"}})})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"font-bold tracking-wider text-gray-800",style:{fontSize:"clamp(32px, 7vmin, 42px)"},children:m(v)})})})]}),a.jsx("button",{onClick:x,className:"w-8 h-8 rounded-full border border-gray-300 bg-white flex items-center justify-center cursor-pointer transition-all duration-200 hover:bg-blue-50 hover:border-blue-300 hover:shadow-md active:scale-95","aria-label":t.isRunning?"Pause":"Start",children:a.jsx("div",{className:"transition-all duration-300 ease-in-out",children:t.isRunning?a.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",className:"text-blue-600 animate-scale-in",children:a.jsx("path",{d:"M7 5h4v14H7zM13 5h4v14h-4z"})}):a.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",className:"text-blue-600 animate-scale-in",children:a.jsx("path",{d:"M8 5v14l11-7z"})})})})]})};function hv(s){var e,t,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var i=s.length;for(e=0;e<i;e++)s[e]&&(t=hv(s[e]))&&(n&&(n+=" "),n+=t)}else for(t in s)s[t]&&(n&&(n+=" "),n+=t);return n}function fv(){for(var s,e,t=0,n="",i=arguments.length;t<i;t++)(s=arguments[t])&&(e=hv(s))&&(n&&(n+=" "),n+=e);return n}const _f="-",WC=s=>{const e=VC(s),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=s;return{getClassGroupId:c=>{const d=c.split(_f);return d[0]===""&&d.length!==1&&d.shift(),mv(d,e)||HC(c)},getConflictingClassGroupIds:(c,d)=>{const h=t[c]||[];return d&&n[c]?[...h,...n[c]]:h}}},mv=(s,e)=>{if(s.length===0)return e.classGroupId;const t=s[0],n=e.nextPart.get(t),i=n?mv(s.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const l=s.join(_f);return e.validators.find(({validator:c})=>c(l))?.classGroupId},nx=/^\[(.+)\]$/,HC=s=>{if(nx.test(s)){const e=nx.exec(s)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},VC=s=>{const{theme:e,classGroups:t}=s,n={nextPart:new Map,validators:[]};for(const i in t)Vh(t[i],n,i,e);return n},Vh=(s,e,t,n)=>{s.forEach(i=>{if(typeof i=="string"){const l=i===""?e:rx(e,i);l.classGroupId=t;return}if(typeof i=="function"){if(qC(i)){Vh(i(n),e,t,n);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([l,c])=>{Vh(c,rx(e,l),t,n)})})},rx=(s,e)=>{let t=s;return e.split(_f).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},qC=s=>s.isThemeGetter,GC=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const i=(l,c)=>{t.set(l,c),e++,e>s&&(e=0,n=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return i(l,c),c},set(l,c){t.has(l)?t.set(l,c):i(l,c)}}},qh="!",Gh=":",YC=Gh.length,KC=s=>{const{prefix:e,experimentalParseClassName:t}=s;let n=i=>{const l=[];let c=0,d=0,h=0,m;for(let j=0;j<i.length;j++){let _=i[j];if(c===0&&d===0){if(_===Gh){l.push(i.slice(h,j)),h=j+YC;continue}if(_==="/"){m=j;continue}}_==="["?c++:_==="]"?c--:_==="("?d++:_===")"&&d--}const g=l.length===0?i:i.substring(h),x=JC(g),v=x!==g,b=m&&m>h?m-h:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:b}};if(e){const i=e+Gh,l=n;n=c=>c.startsWith(i)?l(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const i=n;n=l=>t({className:l,parseClassName:i})}return n},JC=s=>s.endsWith(qh)?s.substring(0,s.length-1):s.startsWith(qh)?s.substring(1):s,QC=s=>{const e=Object.fromEntries(s.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let l=[];return n.forEach(c=>{c[0]==="["||e[c]?(i.push(...l.sort(),c),l=[]):l.push(c)}),i.push(...l.sort()),i}},XC=s=>({cache:GC(s.cacheSize),parseClassName:KC(s),sortModifiers:QC(s),...WC(s)}),ZC=/\s+/,eE=(s,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:l}=e,c=[],d=s.trim().split(ZC);let h="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{isExternal:x,modifiers:v,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:_}=t(g);if(x){h=g+(h.length>0?" "+h:h);continue}let S=!!_,N=n(S?j.substring(0,_):j);if(!N){if(!S){h=g+(h.length>0?" "+h:h);continue}if(N=n(j),!N){h=g+(h.length>0?" "+h:h);continue}S=!1}const P=l(v).join(":"),E=b?P+qh:P,I=E+N;if(c.includes(I))continue;c.push(I);const L=i(N,S);for(let B=0;B<L.length;++B){const G=L[B];c.push(E+G)}h=g+(h.length>0?" "+h:h)}return h};function tE(){let s=0,e,t,n="";for(;s<arguments.length;)(e=arguments[s++])&&(t=gv(e))&&(n&&(n+=" "),n+=t);return n}const gv=s=>{if(typeof s=="string")return s;let e,t="";for(let n=0;n<s.length;n++)s[n]&&(e=gv(s[n]))&&(t&&(t+=" "),t+=e);return t};function sE(s,...e){let t,n,i,l=c;function c(h){const m=e.reduce((g,x)=>x(g),s());return t=XC(m),n=t.cache.get,i=t.cache.set,l=d,d(h)}function d(h){const m=n(h);if(m)return m;const g=eE(h,t);return i(h,g),g}return function(){return l(tE.apply(null,arguments))}}const St=s=>{const e=t=>t[s]||[];return e.isThemeGetter=!0,e},pv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nE=/^\d+\/\d+$/,rE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vi=s=>nE.test(s),Ie=s=>!!s&&!Number.isNaN(Number(s)),ir=s=>!!s&&Number.isInteger(Number(s)),ph=s=>s.endsWith("%")&&Ie(s.slice(0,-1)),_n=s=>rE.test(s),cE=()=>!0,uE=s=>iE.test(s)&&!aE.test(s),yv=()=>!1,dE=s=>oE.test(s),hE=s=>lE.test(s),fE=s=>!ge(s)&&!pe(s),mE=s=>ha(s,wv,yv),ge=s=>pv.test(s),Ur=s=>ha(s,jv,uE),xh=s=>ha(s,vE,Ie),ix=s=>ha(s,vv,yv),gE=s=>ha(s,bv,hE),bc=s=>ha(s,kv,dE),pe=s=>xv.test(s),co=s=>fa(s,jv),pE=s=>fa(s,bE),ax=s=>fa(s,vv),xE=s=>fa(s,wv),yE=s=>fa(s,bv),wc=s=>fa(s,kv,!0),ha=(s,e,t)=>{const n=pv.exec(s);return n?n[1]?e(n[1]):t(n[2]):!1},fa=(s,e,t=!1)=>{const n=xv.exec(s);return n?n[1]?e(n[1]):t:!1},vv=s=>s==="position"||s==="percentage",bv=s=>s==="image"||s==="url",wv=s=>s==="length"||s==="size"||s==="bg-size",jv=s=>s==="length",vE=s=>s==="number",bE=s=>s==="family-name",kv=s=>s==="shadow",wE=()=>{const s=St("color"),e=St("font"),t=St("text"),n=St("font-weight"),i=St("tracking"),l=St("leading"),c=St("breakpoint"),d=St("container"),h=St("spacing"),m=St("radius"),g=St("shadow"),x=St("inset-shadow"),v=St("text-shadow"),b=St("drop-shadow"),j=St("blur"),_=St("perspective"),S=St("aspect"),N=St("ease"),P=St("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...I(),pe,ge],B=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto","contain","none"],q=()=>[pe,ge,h],Z=()=>[Vi,"full","auto",...q()],re=()=>[ir,"none","subgrid",pe,ge],K=()=>["auto",{span:["full",ir,pe,ge]},ir,pe,ge],ie=()=>[ir,"auto",pe,ge],Y=()=>["auto","min","max","fr",pe,ge],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],ce=()=>["auto",...q()],R=()=>[Vi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...q()],M=()=>[s,pe,ge],W=()=>[...I(),ax,ix,{position:[pe,ge]}],A=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",xE,mE,{size:[pe,ge]}],$=()=>[ph,co,Ur],se=()=>["","none","full",m,pe,ge],oe=()=>["",Ie,co,Ur],be=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],je=()=>[Ie,ph,ax,ix],Pe=()=>["","none",j,pe,ge],Ae=()=>["none",Ie,pe,ge],Qe=()=>["none",Ie,pe,ge],mt=()=>[Ie,pe,ge],kt=()=>[Vi,"full",...q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_n],breakpoint:[_n],color:[cE],container:[_n],"drop-shadow":[_n],ease:["in","out","in-out"],font:[fE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_n],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_n],shadow:[_n],spacing:["px",Ie],text:[_n],"text-shadow":[_n],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vi,ge,pe,S]}],container:["container"],columns:[{columns:[Ie,ge,pe,d]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Z()}],"inset-x":[{"inset-x":Z()}],"inset-y":[{"inset-y":Z()}],start:[{start:Z()}],end:[{end:Z()}],top:[{top:Z()}],right:[{right:Z()}],bottom:[{bottom:Z()}],left:[{left:Z()}],visibility:["visible","invisible","collapse"],z:[{z:[ir,"auto",pe,ge]}],basis:[{basis:[Vi,"full","auto",d,...q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ie,Vi,"auto","initial","none",ge]}],grow:[{grow:["",Ie,pe,ge]}],shrink:[{shrink:["",Ie,pe,ge]}],order:[{order:[ir,"first","last","none",pe,ge]}],"grid-cols":[{"grid-cols":re()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":re()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:q()}],"gap-x":[{"gap-x":q()}],"gap-y":[{"gap-y":q()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:q()}],px:[{px:q()}],py:[{py:q()}],ps:[{ps:q()}],pe:[{pe:q()}],pt:[{pt:q()}],pr:[{pr:q()}],pb:[{pb:q()}],pl:[{pl:q()}],m:[{m:ce()}],mx:[{mx:ce()}],my:[{my:ce()}],ms:[{ms:ce()}],me:[{me:ce()}],mt:[{mt:ce()}],mr:[{mr:ce()}],mb:[{mb:ce()}],ml:[{ml:ce()}],"space-x":[{"space-x":q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":q()}],"space-y-reverse":["space-y-reverse"],size:[{size:R()}],w:[{w:[d,"screen",...R()]}],"min-w":[{"min-w":[d,"screen","none",...R()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...R()]}],h:[{h:["screen","lh",...R()]}],"min-h":[{"min-h":["screen","lh","none",...R()]}],"max-h":[{"max-h":["screen","lh",...R()]}],"font-size":[{text:["base",t,co,Ur]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,pe,xh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ph,ge]}],"font-family":[{font:[pE,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,pe,ge]}],"line-clamp":[{"line-clamp":[Ie,"none",pe,xh]}],leading:[{leading:[l,...q()]}],"list-image":[{"list-image":["none",pe,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ie,"from-font","auto",pe,Ur]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[Ie,"auto",pe,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:A()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ir,pe,ge],radial:["",pe,ge],conic:[ir,pe,ge]},yE,gE]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ie,pe,ge]}],"outline-w":[{outline:["",Ie,co,Ur]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",g,wc,bc]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",x,wc,bc]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[Ie,Ur]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",v,wc,bc]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[Ie,pe,ge]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ie]}],"mask-image-linear-from-pos":[{"mask-linear-from":je()}],"mask-image-linear-to-pos":[{"mask-linear-to":je()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":je()}],"mask-image-t-to-pos":[{"mask-t-to":je()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":je()}],"mask-image-r-to-pos":[{"mask-r-to":je()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":je()}],"mask-image-b-to-pos":[{"mask-b-to":je()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":je()}],"mask-image-l-to-pos":[{"mask-l-to":je()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":je()}],"mask-image-x-to-pos":[{"mask-x-to":je()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":je()}],"mask-image-y-to-pos":[{"mask-y-to":je()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[pe,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":je()}],"mask-image-radial-to-pos":[{"mask-radial-to":je()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Ie]}],"mask-image-conic-from-pos":[{"mask-conic-from":je()}],"mask-image-conic-to-pos":[{"mask-conic-to":je()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:A()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,ge]}],filter:[{filter:["","none",pe,ge]}],blur:[{blur:Pe()}],brightness:[{brightness:[Ie,pe,ge]}],contrast:[{contrast:[Ie,pe,ge]}],"drop-shadow":[{"drop-shadow":["","none",b,wc,bc]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",Ie,pe,ge]}],"hue-rotate":[{"hue-rotate":[Ie,pe,ge]}],invert:[{invert:["",Ie,pe,ge]}],saturate:[{saturate:[Ie,pe,ge]}],sepia:[{sepia:["",Ie,pe,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,ge]}],"backdrop-blur":[{"backdrop-blur":Pe()}],"backdrop-brightness":[{"backdrop-brightness":[Ie,pe,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Ie,pe,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ie,pe,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ie,pe,ge]}],"backdrop-invert":[{"backdrop-invert":["",Ie,pe,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Ie,pe,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Ie,pe,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Ie,pe,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":q()}],"border-spacing-x":[{"border-spacing-x":q()}],"border-spacing-y":[{"border-spacing-y":q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ie,"initial",pe,ge]}],ease:[{ease:["linear","initial",N,pe,ge]}],delay:[{delay:[Ie,pe,ge]}],animate:[{animate:["none",P,pe,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,pe,ge]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Ae()}],"rotate-x":[{"rotate-x":Ae()}],"rotate-y":[{"rotate-y":Ae()}],"rotate-z":[{"rotate-z":Ae()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:mt()}],"skew-x":[{"skew-x":mt()}],"skew-y":[{"skew-y":mt()}],transform:[{transform:[pe,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:kt()}],"translate-x":[{"translate-x":kt()}],"translate-y":[{"translate-y":kt()}],"translate-z":[{"translate-z":kt()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,ge]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[Ie,co,Ur,xh]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jE=sE(wE);function ei(...s){return jE(fv(s))}const cr=k.forwardRef(({className:s,...e},t)=>a.jsx("div",{ref:t,className:ei("rounded-lg border bg-card text-card-foreground shadow-sm",s),...e}));cr.displayName="Card";const kE=k.forwardRef(({className:s,...e},t)=>a.jsx("div",{ref:t,className:ei("flex flex-col space-y-1.5 p-6",s),...e}));kE.displayName="CardHeader";const _E=k.forwardRef(({className:s,...e},t)=>a.jsx("h3",{ref:t,className:ei("text-2xl font-semibold leading-none tracking-tight",s),...e}));_E.displayName="CardTitle";const NE=k.forwardRef(({className:s,...e},t)=>a.jsx("p",{ref:t,className:ei("text-sm text-muted-foreground",s),...e}));NE.displayName="CardDescription";const SE=k.forwardRef(({className:s,...e},t)=>a.jsx("div",{ref:t,className:ei("p-6 pt-0",s),...e}));SE.displayName="CardContent";const CE=k.forwardRef(({className:s,...e},t)=>a.jsx("div",{ref:t,className:ei("flex items-center p-6 pt-0",s),...e}));CE.displayName="CardFooter";function ox(s,e){if(typeof s=="function")return s(e);s!=null&&(s.current=e)}function EE(...s){return e=>{let t=!1;const n=s.map(i=>{const l=ox(i,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let i=0;i<n.length;i++){const l=n[i];typeof l=="function"?l():ox(s[i],null)}}}}function TE(s){const e=ME(s),t=k.forwardRef((n,i)=>{const{children:l,...c}=n,d=k.Children.toArray(l),h=d.find(OE);if(h){const m=h.props.children,g=d.map(x=>x===h?k.Children.count(m)>1?k.Children.only(null):k.isValidElement(m)?m.props.children:null:x);return a.jsx(e,{...c,ref:i,children:k.isValidElement(m)?k.cloneElement(m,void 0,g):null})}return a.jsx(e,{...c,ref:i,children:l})});return t.displayName=`${s}.Slot`,t}var PE=TE("Slot");function ME(s){const e=k.forwardRef((t,n)=>{const{children:i,...l}=t;if(k.isValidElement(i)){const c=IE(i),d=RE(l,i.props);return i.type!==k.Fragment&&(d.ref=n?EE(n,c):c),k.cloneElement(i,d)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${s}.SlotClone`,e}var AE=Symbol("radix.slottable");function OE(s){return k.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===AE}function RE(s,e){const t={...e};for(const n in e){const i=s[n],l=e[n];/^on[A-Z]/.test(n)?i&&l?t[n]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(t[n]=i):n==="style"?t[n]={...i,...l}:n==="className"&&(t[n]=[i,l].filter(Boolean).join(" "))}return{...s,...t}}function IE(s){let e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?s.ref:(e=Object.getOwnPropertyDescriptor(s,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?s.props.ref:s.props.ref||s.ref)}const lx=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,cx=fv,DE=(s,e)=>t=>{var n;if(e?.variants==null)return cx(s,t?.class,t?.className);const{variants:i,defaultVariants:l}=e,c=Object.keys(i).map(m=>{const g=t?.[m],x=l?.[m];if(g===null)return null;const v=lx(g)||lx(x);return i[m][v]}),d=t&&Object.entries(t).reduce((m,g)=>{let[x,v]=g;return v===void 0||(m[x]=v),m},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((m,g)=>{let{class:x,className:v,...b}=g;return Object.entries(b).every(j=>{let[_,S]=j;return Array.isArray(S)?S.includes({...l,...d}[_]):{...l,...d}[_]===S})?[...m,x,v]:m},[]);return cx(s,c,h,t?.class,t?.className)},LE=DE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_v=k.forwardRef(({className:s,variant:e,size:t,asChild:n=!1,...i},l)=>{const c=n?PE:"button";return a.jsx(c,{className:ei(LE({variant:e,size:t,className:s})),ref:l,...i})});_v.displayName="Button";Qc.register(nC,TC,AC,cC,xC,NC,gC);const FE=()=>{const[s,e]=k.useState("work"),[t,n]=k.useState("day"),[,i]=k.useState(0),[l,c]=k.useState([]),[d,h]=k.useState(!0),[m,g]=k.useState(!1),[x,v]=k.useState(!1),[b,j]=k.useState(!1),[_,S]=k.useState(!1),[N,P]=k.useState(null),[E,I]=k.useState(0),[L,B]=k.useState(null),[G,q]=k.useState("Infinity"),[Z,re]=k.useState(!1),[K,ie]=k.useState(0),[Y,ae]=k.useState(!1),[Q,ce]=k.useState(!1),[R,M]=k.useState(!1),[W,A]=k.useState({acoustic:!0,atmospheric:!1,cinematic:!1,classical:!0,drone:!1,electronic:!0,grooves:!0,lofi:!1,piano:!1,postrock:!1,beach:!1,chimes:!1,forest:!1,nightsounds:!1,rain:!1,rainforest:!1,river:!1,thunder:!0,underwater:!1,wind:!1}),[C,$]=k.useState("low"),[se,oe]=k.useState([]),[be,ke]=k.useState("low"),[je,Pe]=k.useState([]),[Ae,Qe]=k.useState([]),[mt,kt]=k.useState("infinite"),[bt,Kt]=k.useState({hours:0,minutes:30}),[ut,Ds]=k.useState(70),[fn,Ls]=k.useState(0),[Jt,Fs]=k.useState(!1),[Ve,$t]=k.useState(!1),[ms,ue]=k.useState("Deep Work"),[Re,_e]=k.useState(!1),$e={focus:[{id:"deep-work",label:"Deep Work",svg:a.jsxs("svg",{width:"20",height:"20",stroke:"currentColor",fill:"none",strokeWidth:"2",children:[a.jsx("line",{x1:"10",y1:"1",x2:"10",y2:"19"}),a.jsx("line",{x1:"1",y1:"10",x2:"19",y2:"10"}),a.jsx("line",{x1:"4",y1:"4",x2:"16",y2:"16"}),a.jsx("line",{x1:"4",y1:"16",x2:"16",y2:"4"})]})},{id:"motivation",label:"Motivation",svg:a.jsx("svg",{width:"20",height:"20",stroke:"currentColor",fill:"none",strokeWidth:"2",children:a.jsx("polyline",{points:"8,1 12,9 9,9 12,19 7,13 11,13 8,1"})})},{id:"creativity",label:"Creativity",svg:a.jsxs("svg",{width:"20",height:"20",stroke:"currentColor",fill:"none",strokeWidth:"2",children:[a.jsx("rect",{x:"4",y:"9",width:"12",height:"7",rx:"2"}),a.jsx("ellipse",{cx:"10",cy:"8",rx:"5",ry:"3"})]})},{id:"learning",label:"Learning",svg:a.jsxs("svg",{width:"20",height:"20",stroke:"currentColor",fill:"none",strokeWidth:"2",children:[a.jsx("rect",{x:"6",y:"5",width:"8",height:"10",rx:"1"}),a.jsx("line",{x1:"6",y1:"8",x2:"14",y2:"8"}),a.jsx("line",{x1:"10",y1:"5",x2:"10",y2:"15"})]})},{id:"light-work",label:"Light Work",svg:a.jsxs("svg",{width:"20",height:"20",stroke:"currentColor",fill:"none",strokeWidth:"2",children:[a.jsx("line",{x1:"15",y1:"4",x2:"10",y2:"15"}),a.jsx("rect",{x:"7",y:"15",width:"6",height:"2"}),a.jsx("rect",{x:"12",y:"3",width:"4",height:"3",rx:"1.5",transform:"rotate(30 12 3)"})]})}]},it={focus:[{title:"Black Lights",artist:"Brian Eno",initials:"BL",effect:"Low Neural Effect",genre:"ELECTRONIC",gradient:"from-blue-500 via-purple-600 to-pink-500"},{title:"Deep Focus",artist:"Max Richter",initials:"DF",effect:"Medium Neural Effect",genre:"AMBIENT",gradient:"from-indigo-500 via-blue-600 to-purple-500"},{title:"Flow State",artist:"Ólafur Arnalds",initials:"FS",effect:"High Neural Effect",genre:"NEO-CLASSICAL",gradient:"from-cyan-500 via-teal-600 to-blue-500"},{title:"Acoustic Dreams",artist:"José González",initials:"AD",effect:"Medium Neural Effect",genre:"ACOUSTIC",gradient:"from-amber-500 via-orange-600 to-red-500"},{title:"Thunder & Rain",artist:"Nature Sounds",initials:"TR",effect:"Low Neural Effect",genre:"NATURE",gradient:"from-gray-500 via-slate-600 to-blue-500"},{title:"Cinematic Journey",artist:"Hans Zimmer",initials:"CJ",effect:"High Neural Effect",genre:"CINEMATIC",gradient:"from-purple-500 via-indigo-600 to-blue-500"}],relax:[{title:"Returning Purpose",artist:"Nils Frahm",initials:"RP",effect:"Relaxing",genre:"AMBIENT",gradient:"from-green-500 via-emerald-600 to-teal-500"},{title:"Peaceful Mind",artist:"Kiasmos",initials:"PM",effect:"Calming",genre:"ELECTRONIC",gradient:"from-teal-500 via-cyan-600 to-blue-500"}],sleep:[{title:"Deep Sleep",artist:"Tim Hecker",initials:"DS",effect:"Sleep Inducing",genre:"DRONE",gradient:"from-purple-500 via-indigo-600 to-blue-500"}],meditate:[{title:"Meditation Glow",artist:"Laraaji",initials:"MG",effect:"Meditative",genre:"AMBIENT",gradient:"from-orange-500 via-yellow-600 to-amber-500"}]},{user:pt}=fs(),{supabase:ws}=da(),at=yr(),In=(D,J)=>{const we=["bg-red-500","bg-pink-500","bg-blue-500","bg-purple-500","bg-green-500"],Ce=new Date,he={mode:"Infinity",activity:J,color:we[Math.floor(Math.random()*we.length)],startTime:Ce,timestamp:Ce};Pe(Oe=>[he,...Oe.slice(0,5)])},ti=D=>{const we=Math.floor((si.getTime()-D.getTime())/1e3/60);return Math.max(0,we)},mn=D=>{if(D<60)return`${D} min`;{const J=Math.floor(D/60),we=D%60;return`${J}h ${we}m`}},[si,$s]=k.useState(new Date);k.useEffect(()=>{const D=setInterval(()=>{$s(new Date)},6e4);return()=>clearInterval(D)},[]);const br=(D,J)=>{const we={title:D.title,artist:D.artist,genre:D.genre,mode:J.charAt(0).toUpperCase()+J.slice(1),timestamp:new Date};Qe(Ce=>{const he=Ce.filter(Oe=>Oe.title!==D.title);return[we,...he.slice(0,3)]})},js=D=>{let J=it[D]||[];if(se.length===0)return J;const we={acoustic:["ACOUSTIC"],atmospheric:["ATMOSPHERIC","AMBIENT"],cinematic:["CINEMATIC"],classical:["CLASSICAL","NEO-CLASSICAL"],drone:["DRONE"],electronic:["ELECTRONIC"],grooves:["GROOVES"],lofi:["LOFI"],piano:["PIANO"],postrock:["POST-ROCK"],beach:["NATURE","AMBIENT"],chimes:["NATURE","MEDITATION"],forest:["NATURE","AMBIENT"],nightsounds:["NATURE","SLEEP"],rain:["NATURE","AMBIENT"],rainforest:["NATURE","AMBIENT"],river:["NATURE","AMBIENT"],thunder:["NATURE","ATMOSPHERIC"],underwater:["NATURE","AMBIENT"],wind:["NATURE","ATMOSPHERIC"]},Ce=se.flatMap(he=>we[he]||[]);return J.filter(he=>Ce.some(Oe=>he.genre.toUpperCase().includes(Oe.toUpperCase())))},{isRunning:zt,isPaused:zs,runningSession:Bs,getTodayMinutes:Us,getWeekMinutes:Dn,getMonthMinutes:ni,getDayMinutesByCategory:wr,getWeekMinutesByCategory:ri,getMonthMinutesByCategory:Pt}=yy(),Ln=async()=>{if(pt?.id)try{h(!0);const{data:D,error:J}=await ws.from("tasks").select("*").eq("user_id",pt.id).eq("is_deleted",!1).order("created_at",{ascending:!1});if(J)throw J;c(D||[])}catch(D){console.error("Error fetching tasks:",D),c([])}finally{h(!1)}};k.useEffect(()=>{if(!pt?.id)return;Ln();const D=ws.channel("tasks_changes").on("postgres_changes",{event:"*",schema:"public",table:"tasks",filter:`user_id=eq.${pt.id}`},J=>{console.log("Task change detected:",J),Ln()}).subscribe();return()=>{D.unsubscribe()}},[pt?.id]),k.useEffect(()=>{class D{constructor(){this.audioContext=null,this.leftOscillator=null,this.rightOscillator=null,this.leftGain=null,this.rightGain=null,this.merger=null,this.isPlaying=!1,this.currentMode=null,this.currentVolume=70,this.focusModes={focus:{baseFreq:200,beatFreq:20,name:"Focus"},relax:{baseFreq:180,beatFreq:10,name:"Relax"},sleep:{baseFreq:160,beatFreq:6,name:"Sleep"},meditate:{baseFreq:220,beatFreq:8,name:"Meditate"}},this.initializeEventListeners()}initializeEventListeners(){document.querySelectorAll(".focus-card").forEach(he=>{he.addEventListener("click",Oe=>{const le=he.dataset.mode;this.currentMode===le&&this.isPlaying?this.stop():this.playMode(le)})})}async initializeAudioContext(){this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioContext.state==="suspended"&&await this.audioContext.resume())}createBinauralBeat(he,Oe,le){this.leftOscillator&&this.stop(),this.leftOscillator=this.audioContext.createOscillator(),this.rightOscillator=this.audioContext.createOscillator(),this.leftGain=this.audioContext.createGain(),this.rightGain=this.audioContext.createGain(),this.merger=this.audioContext.createChannelMerger(2),this.leftOscillator.frequency.setValueAtTime(he-Oe/2,this.audioContext.currentTime),this.rightOscillator.frequency.setValueAtTime(he+Oe/2,this.audioContext.currentTime),this.leftOscillator.type="sine",this.rightOscillator.type="sine";const wt=le/100;this.leftGain.gain.setValueAtTime(wt,this.audioContext.currentTime),this.rightGain.gain.setValueAtTime(wt,this.audioContext.currentTime),this.leftOscillator.connect(this.leftGain),this.rightOscillator.connect(this.rightGain),this.leftGain.connect(this.merger,0,0),this.rightGain.connect(this.merger,0,1),this.merger.connect(this.audioContext.destination)}async playMode(he){try{await this.initializeAudioContext();const Oe=this.focusModes[he];this.createBinauralBeat(Oe.baseFreq,Oe.beatFreq,15),this.leftOscillator.start(),this.rightOscillator.start(),this.isPlaying=!0,this.currentMode=he}catch(Oe){console.error("Error starting audio:",Oe)}}stop(){this.isPlaying&&(this.leftOscillator&&this.leftOscillator.stop(),this.rightOscillator&&this.rightOscillator.stop(),this.leftOscillator=null,this.rightOscillator=null,this.leftGain=null,this.rightGain=null,this.merger=null,this.isPlaying=!1,this.currentMode=null)}stopAll(){this.stop()}updateVolume(he){if(this.leftGain&&this.rightGain&&this.audioContext){const Oe=Math.max(0,Math.min(1,he/100*.3)),le=this.audioContext.currentTime;try{Oe>0?(this.leftGain.gain.exponentialRampToValueAtTime(Oe,le+.05),this.rightGain.gain.exponentialRampToValueAtTime(Oe,le+.05)):(this.leftGain.gain.linearRampToValueAtTime(0,le+.05),this.rightGain.gain.linearRampToValueAtTime(0,le+.05))}catch{this.leftGain.gain.setValueAtTime(Oe,le),this.rightGain.gain.setValueAtTime(Oe,le)}this.currentVolume=he}}getCurrentVolume(){return this.currentVolume||70}}const we=setTimeout(()=>{window.focusPlayer||(console.log("Initializing FocusMusicPlayer..."),window.focusPlayer=new D,console.log("FocusMusicPlayer initialized:",!!window.focusPlayer),console.log("UpdateVolume method available:",!!window.focusPlayer.updateVolume),window.focusPlayer.updateVolume&&(window.focusPlayer.updateVolume(ut),console.log("Initial volume set to:",ut)))},100);return()=>{clearTimeout(we),window.focusPlayer&&window.focusPlayer.isPlaying&&window.focusPlayer.stop()}},[]);const xt=(()=>{const D=l.length,J=l.filter(he=>he.status==="open").length,we=l.filter(he=>he.status==="in_progress").length,Ce=l.filter(he=>he.status==="completed").length;return{total:D,open:J,inProgress:we,completed:Ce}})();k.useEffect(()=>{if(!zt&&!zs)return;const D=setInterval(()=>{i(J=>J+1)},1e3);return()=>clearInterval(D)},[zt,zs]),k.useEffect(()=>{if(!Z)return;const D=setInterval(()=>{ie(J=>J+1)},1e3);return()=>clearInterval(D)},[Z]);const z=D=>{const J=new Date(D.getFullYear(),0,1),we=(D-J)/864e5;return Math.ceil((we+J.getDay()+1)/7)};k.useEffect(()=>{const D=()=>{if(!pt?.id)return console.log("No user ID, using default streak"),20;const Ce=Dn(),he=Us(),Oe=zt||Z;console.log("Streak calculation:",{weekMinutes:Ce,todayMinutes:he,isCurrentlyActive:Oe,isRunning:zt,isPlaying:Z,currentTime:K});const le=new Date,wt=z(le),ks=le.getFullYear(),su=`${ks}-W${wt}`,ai=JSON.parse(localStorage.getItem("weeklyActivityData")||"{}");localStorage.getItem("lastStreakUpdate"),parseInt(localStorage.getItem("weeklyStreak")||"0"),(Ce>=120||he>=30||Oe)&&(ai[su]=!0,localStorage.setItem("weeklyActivityData",JSON.stringify(ai)));let oi=0,Bt=wt,Ko=ks;for(let kr=0;kr<52;kr++){const li=`${Ko}-W${Bt}`;if(ai[li])oi++;else break;Bt--,Bt<1&&(Bt=52,Ko--)}let pa=oi;Oe&&K>60&&(pa+=1),he>60&&(pa+=1);const xa=Math.max(oi,pa);return localStorage.setItem("weeklyStreak",xa.toString()),localStorage.setItem("lastStreakUpdate",le.toISOString()),console.log("Final streak:",xa,"Consecutive weeks:",oi),xa},J=()=>{const Ce=D();console.log("Updating streak to:",Ce),Ls(Ce)};J();const we=setInterval(J,2e3);return()=>clearInterval(we)},[pt?.id,Dn,Us,zt,Z,K]),k.useEffect(()=>{let D=null,J=null,we=null,Ce=null;const he=async()=>{try{Ce=document.createElement("audio"),Ce.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+PyxmgfCSubyvLGdSEDMYHO8uaBMQYYaLjov15NFgtWq+Puwl8fCDOAzvLZdSUFY3Q8ZnhDCgZFbz5oZTsC",Ce.volume=ut/100,Ce.loop=!0,Ce.muted=!0,Ce.style.display="none",document.body.appendChild(Ce);try{D=new(window.AudioContext||window.webkitAudioContext);const le=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}});we=D.createMediaStreamSource(le),J=D.createAnalyser(),J.fftSize=256,we.connect(J),console.log("Audio context initialized for system volume detection")}catch{console.warn("Microphone access denied, using fallback method")}console.log("Volume detection initialized - keyboard only mode")}catch(le){console.warn("Advanced volume sync failed:",le)}},Oe=le=>{(le.key&&(le.key.includes("Volume")||le.key.includes("Audio"))||le.code&&(le.code.includes("F10")||le.code.includes("F11")||le.code.includes("F12"))||[121,122,123,173,174,175].includes(le.keyCode))&&(!window.volumeKeyLogged||window.volumeKeyLogged!==le.code)&&(console.log("🔊 VOLUME KEY:",le.key||le.code||le.keyCode),window.volumeKeyLogged=le.code,setTimeout(()=>{window.volumeKeyLogged=null},1e3));let wt=ut,ks=!1;le.key==="AudioVolumeUp"||le.code==="AudioVolumeUp"||le.code==="VolumeUp"||le.code==="F12"||le.keyCode===175||le.keyCode===123||le.altKey&&le.keyCode===38?(wt=Math.min(100,ut+5),ks=!0,console.log("🔊 Volume up detected via:",le.key||le.code||le.keyCode)):le.key==="AudioVolumeDown"||le.code==="AudioVolumeDown"||le.code==="VolumeDown"||le.code==="F11"||le.keyCode===174||le.keyCode===122||le.altKey&&le.keyCode===40?(wt=Math.max(0,ut-5),ks=!0,console.log("🔊 Volume down detected via:",le.key||le.code||le.keyCode)):(le.key==="AudioVolumeMute"||le.code==="AudioVolumeMute"||le.code==="VolumeMute"||le.code==="F10"||le.keyCode===173||le.keyCode===121||le.altKey&&le.keyCode===77)&&(wt=ut>0?0:75,ks=!0,console.log("🔊 Volume mute detected via:",le.key||le.code||le.keyCode)),ks&&(le.preventDefault(),le.stopPropagation(),console.log("Setting volume via keyboard:",wt),Ds(wt),window.focusPlayer&&window.focusPlayer.updateVolume&&window.focusPlayer.updateVolume(wt),Ce&&(Ce.volume=wt/100))};return he(),document.addEventListener("keydown",Oe,!0),window.addEventListener("keydown",Oe,!0),()=>{we&&we.disconnect(),D&&D.close(),Ce&&document.body.contains(Ce)&&document.body.removeChild(Ce),document.removeEventListener("keydown",Oe,!0),window.removeEventListener("keydown",Oe,!0),window.volumeKeyLogged=null}},[]),k.useEffect(()=>{const D=we=>{if(!Jt)return;const Ce=document.querySelector(".volume-slider");if(Ce){const he=Ce.getBoundingClientRect(),le=(we.clientX-he.left)/he.width*100,wt=Math.max(0,Math.min(100,le));Ds(wt),window.focusPlayer&&window.focusPlayer.updateVolume&&window.focusPlayer.updateVolume(wt)}},J=()=>{Fs(!1)};return Jt&&(document.addEventListener("mousemove",D),document.addEventListener("mouseup",J)),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",J)}},[Jt]),k.useEffect(()=>{if(window.focusPlayer&&Z){if(console.log("Syncing volume on playback state change:",ut),window.focusPlayer.updateVolume)window.focusPlayer.updateVolume(ut);else if(window.focusPlayer.leftGain&&window.focusPlayer.rightGain){const D=Math.max(0,Math.min(1,ut/100*.3));try{window.focusPlayer.leftGain.gain.setValueAtTime(D,window.focusPlayer.audioContext.currentTime),window.focusPlayer.rightGain.gain.setValueAtTime(D,window.focusPlayer.audioContext.currentTime),console.log("Volume synced via direct gain control:",D)}catch(J){console.log("Error syncing volume:",J)}}}},[Z,ut]);const Ee=()=>{if(!N||!it[N])return null;const D=se.length>0?js(N):it[N];return D[E]||D[0]},Je=()=>{if(!N||!it[N])return;const D=se.length>0?js(N):it[N];I(J=>(J+1)%D.length)},ot=()=>{if(!N||!it[N])return;const D=se.length>0?js(N):it[N];I(J=>(J-1+D.length)%D.length)};k.useEffect(()=>{I(0)},[N]),k.useEffect(()=>{if(x&&!b){const D=setTimeout(()=>{j(!0)},10);return()=>clearTimeout(D)}},[x,b]),k.useEffect(()=>{const D=J=>{Ve&&(J.target.closest(".focus-dropdown-container")||$t(!1))};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[Ve]);const ze=()=>zt&&Bs?{status:"Online",color:"bg-green-500",animate:"animate-pulse"}:zs&&Bs?{status:"Break",color:"bg-yellow-500",animate:"animate-pulse"}:{status:"Offline",color:"bg-gray-400",animate:""},gs=()=>{const D=ze();return D.status==="Online"?[{name:"You",...D}]:[]},dt=()=>{if(t==="day"){const D=wr();return{targetHours:8,minutesByDay:[D.Focus],categoriesMinutes:D,workHoursProgress:Math.min(D.Focus/480,1)}}else if(t==="week"){const D=ri(),J=Dn(),we=D.Focus/(D.Focus+D.Breaks+D.Other);return{targetHours:40,minutesByDay:J.map(he=>Math.floor(he*(isNaN(we)?0:we))),categoriesMinutes:D,workHoursProgress:Math.min(D.Focus/2400,1)}}else{const D=Pt(),J=ni(),we=D.Focus/(D.Focus+D.Breaks+D.Other);return{targetHours:168,minutesByDay:J.map(he=>Math.floor(he*(isNaN(we)?0:we))),categoriesMinutes:D,workHoursProgress:Math.min(D.Focus/10080,1)}}},Vo=()=>{const D=dt(),J=D.categoriesMinutes.Focus+D.categoriesMinutes.Breaks+D.categoriesMinutes.Other;return J===0?0:D.categoriesMinutes.Breaks/J},qo=()=>dt().categoriesMinutes.Breaks,Go={accent:"hsl(var(--productivity-accent))"},Qt=D=>{const J=Math.floor(D/60),we=Math.round(D%60);return J===0?`${we} min`:`${J} hr ${we} min`},ma=D=>D.reduce((J,we)=>J+we,0),ii=D=>Object.values(D).reduce((J,we)=>J+we,0),tu=()=>{const D=dt();let J=0,we="—",Ce="—";if(t==="day"){J=D.categoriesMinutes.Focus;const Oe=ii(D.categoriesMinutes);Ce=Oe>0?`${Math.round(D.categoriesMinutes.Focus/Oe*100)}%`:"0%"}else if(t==="week"){J=ma(D.minutesByDay),we=Qt(J/7);const Oe=ii(D.categoriesMinutes);Ce=Oe>0?`${Math.round(D.categoriesMinutes.Focus/Oe*100)}%`:"0%"}else{J=ma(D.minutesByDay);const Oe=D.minutesByDay.length;we=Qt(J/Oe);const le=ii(D.categoriesMinutes);Ce=le>0?`${Math.round(D.categoriesMinutes.Focus/le*100)}%`:"0%"}const he=J/60/D.targetHours*100;return{workHours:Qt(J),target:`${Math.min(999,he).toFixed(0)}%`,targetSub:`of ${D.targetHours} hr 0 min`,avg:we,focusPct:Ce}},Yo=()=>{const D=dt();if(t==="week")return{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Hours",data:D.minutesByDay.map(J=>J/60),backgroundColor:Go.accent,borderRadius:6}]};{const J=D.minutesByDay.length;return{labels:Array.from({length:J},(we,Ce)=>`${Ce+1}`),datasets:[{label:"Hours",data:D.minutesByDay.map(we=>we/60),backgroundColor:Go.accent,borderRadius:6}]}}};l.sort((D,J)=>new Date(J.updatedAt).getTime()-new Date(D.updatedAt).getTime()).slice(0,5);const jr=tu();return a.jsx("div",{className:"flex-1 p-8 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t==="day"?"Daily Summary":t==="week"?"Week Overview":"Month Overview"}),a.jsx("div",{className:"flex gap-2",children:["day","week","month"].map(D=>a.jsx(_v,{variant:t===D?"default":"outline",size:"sm",onClick:()=>n(D),className:t===D?"bg-primary text-primary-foreground border-transparent shadow-lg hover:bg-primary/90":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50 hover:text-gray-900",children:D.charAt(0).toUpperCase()+D.slice(1)},D))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[a.jsxs(cr,{className:"p-4 border border-gray-200 bg-white shadow-sm",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Work Hours"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:jr.workHours})]}),a.jsxs(cr,{className:"p-4 border border-gray-200 bg-white shadow-sm",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Percent of Target"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:jr.target}),a.jsx("div",{className:"text-xs text-gray-600",children:jr.targetSub})]}),a.jsxs(cr,{className:"p-4 border border-gray-200 bg-white shadow-sm",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Focus Percent"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:jr.focusPct})]})]}),t==="day"&&a.jsx(cr,{className:"border border-gray-200 bg-white shadow-sm",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s==="work"?"Focus":"Break"})}),a.jsx("div",{className:"h-px bg-gray-200 mb-4"}),a.jsx("div",{className:"flex items-center justify-center min-h-[280px]",children:a.jsx(UC,{size:256,onPhaseChange:e})})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Breakdown"})}),a.jsx("div",{className:"h-px bg-gray-200 mb-4"}),a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[280px]",children:[a.jsx("div",{className:"w-64 h-64 bg-white rounded-lg flex items-center justify-center mb-4",children:a.jsxs("svg",{width:"256",height:"256",viewBox:"0 0 256 256",children:[a.jsx("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:"#e5e7eb",strokeWidth:"10"}),a.jsx("circle",{cx:"128",cy:"128",r:"76",fill:"none",stroke:"#e5e7eb",strokeWidth:"10"}),a.jsx("circle",{cx:"128",cy:"128",r:"56",fill:"none",stroke:"#e5e7eb",strokeWidth:"10"}),a.jsx("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:"#FF3B30",strokeWidth:"10",strokeDasharray:`${dt().workHoursProgress*603} 603`,strokeLinecap:"round",transform:"rotate(-90 128 128)"}),a.jsx("circle",{cx:"128",cy:"128",r:"76",fill:"none",stroke:"#22c55e",strokeWidth:"10",strokeDasharray:`${xt.completed/Math.max(xt.total,1)*477} 477`,strokeLinecap:"round",transform:"rotate(-90 128 128)"}),a.jsx("circle",{cx:"128",cy:"128",r:"56",fill:"none",stroke:"#3b82f6",strokeWidth:"10",strokeDasharray:`${Vo()*351} 351`,strokeLinecap:"round",transform:"rotate(-90 128 128)"})]})}),a.jsx("div",{className:"bg-transparent p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between min-w-[200px]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FF3B30]"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Focus"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:Qt(dt().categoriesMinutes.Focus)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#3b82f6]"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Breaks"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:Qt(qo())})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#22c55e]"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tasks"})]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[xt.completed,"/",xt.total]})]})]})})]})]})]})}),(t==="week"||t==="month")&&a.jsx(cr,{className:"border border-gray-200 bg-white shadow-sm",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Work Hours"})}),a.jsx("div",{className:"h-px bg-gray-200 mb-4"}),a.jsx("div",{className:"h-64",children:a.jsx(BC,{data:Yo(),options:{maintainAspectRatio:!1,responsive:!0,scales:{x:{grid:{display:!1},ticks:{color:"#6b7280"}},y:{grid:{color:"#e5e7eb"},ticks:{color:"#6b7280",stepSize:2,callback:function(D){return String(D)}},beginAtZero:!0,max:12}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:D=>{const J=D.raw,we=Math.round(J*60),Ce=Math.floor(we/60),he=we%60;return Ce===0&&he===0?"0 min":Ce===0?`${he} min`:he===0?`${Ce} hr`:`${Ce} hr ${he} min`}}}}}})})]}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Breakdown"})}),a.jsx("div",{className:"h-px bg-gray-200 mb-4"}),a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx("div",{className:"w-64 h-64 bg-white rounded-lg flex items-center justify-center mb-4",children:a.jsxs("svg",{width:"256",height:"256",viewBox:"0 0 256 256",children:[a.jsx("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:"#e5e7eb",strokeWidth:"10"}),a.jsx("circle",{cx:"128",cy:"128",r:"76",fill:"none",stroke:"#e5e7eb",strokeWidth:"10"}),a.jsx("circle",{cx:"128",cy:"128",r:"56",fill:"none",stroke:"#e5e7eb",strokeWidth:"10"}),a.jsx("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:"#FF3B30",strokeWidth:"10",strokeDasharray:`${dt().workHoursProgress*603} 603`,strokeLinecap:"round",transform:"rotate(-90 128 128)"}),a.jsx("circle",{cx:"128",cy:"128",r:"76",fill:"none",stroke:"#22c55e",strokeWidth:"10",strokeDasharray:`${xt.completed/Math.max(xt.total,1)*477} 477`,strokeLinecap:"round",transform:"rotate(-90 128 128)"}),a.jsx("circle",{cx:"128",cy:"128",r:"56",fill:"none",stroke:"#3b82f6",strokeWidth:"10",strokeDasharray:`${Vo()*351} 351`,strokeLinecap:"round",transform:"rotate(-90 128 128)"})]})}),a.jsx("div",{className:"bg-transparent p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between min-w-[200px]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FF3B30]"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Focus"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:Qt(dt().categoriesMinutes.Focus)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#3b82f6]"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Breaks"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:Qt(qo())})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#22c55e]"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tasks"})]}),a.jsxs("span",{className:"text-sm text-gray-600",children:[xt.completed,"/",xt.total]})]})]})})]})]})]})}),a.jsx(cr,{className:"border border-gray-200 bg-white shadow-sm mt-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tasks Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",style:{fontFamily:"'Inter', sans-serif"},children:[a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-105",onClick:()=>at("/app/tasks"),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Total Tasks"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 transition-colors duration-200",children:d?"—":xt.total})]}),a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(zp,{className:"w-5 h-5 text-gray-600"})})]})}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-105",onClick:()=>at("/app/tasks"),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 transition-colors duration-200",children:d?"—":xt.completed})]}),a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(zp,{className:"w-5 h-5 text-gray-600"})})]})}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-105",onClick:()=>at("/app/tasks"),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"In Progress"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600 transition-colors duration-200",children:d?"—":xt.inProgress})]}),a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(ko,{className:"w-5 h-5 text-gray-600"})})]})}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-105",onClick:()=>at("/app/tasks"),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Open"}),a.jsx("p",{className:"text-2xl font-bold text-gray-600 transition-colors duration-200",children:d?"—":xt.open})]}),a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(x_,{className:"w-5 h-5 text-gray-600"})})]})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Members Online"}),a.jsx("div",{className:"space-y-3",children:gs().length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(hn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No team members online"})]}):gs().map((D,J)=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${D.color} ${D.animate}`}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.name})]}),a.jsx("span",{className:"text-xs text-gray-600",children:D.status})]})},J))})]})]})}),a.jsx(cr,{className:"border border-gray-200 bg-white shadow-sm mt-6",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Music"})}),!m&&!x&&!_?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"focus-grid-container",children:[a.jsx("div",{className:"focus-grid-item",children:a.jsxs("div",{className:"focus-card","data-mode":"focus",onClick:()=>{P("focus"),S(!0),In("Focus","Focus Session"),ie(0),window.focusPlayer&&window.focusPlayer.playMode("focus"),re(!0)},children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Focus"}),a.jsx("div",{className:"focus-card-image",children:a.jsx("img",{src:"https://res.cloudinary.com/dwf0ywsoq/image/upload/v1756231163/ChatGPT_Image_Aug_26_2025_10_23_28_PM_t6qtq3.png",alt:"Focus",className:"focus-illustration w-full h-full object-cover"})})]})}),a.jsx("div",{className:"focus-grid-item",children:a.jsxs("div",{className:"focus-card","data-mode":"relax",onClick:()=>{P("relax"),S(!0),In("Relax","Relaxation Session"),ie(0),window.focusPlayer&&window.focusPlayer.playMode("relax"),re(!0)},children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Relax"}),a.jsx("div",{className:"focus-card-image",children:a.jsx("img",{src:"https://res.cloudinary.com/dwf0ywsoq/image/upload/v1756231162/ChatGPT_Image_Aug_26_2025_10_23_26_PM_yxhbkw.png",alt:"Relax",className:"relax-illustration w-full h-full object-cover"})})]})}),a.jsx("div",{className:"focus-grid-item",children:a.jsxs("div",{className:"focus-card","data-mode":"sleep",onClick:()=>{P("sleep"),S(!0),In("Sleep","Sleep Session"),ie(0),window.focusPlayer&&window.focusPlayer.playMode("sleep"),re(!0)},children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Sleep"}),a.jsx("div",{className:"focus-card-image",children:a.jsx("img",{src:"https://res.cloudinary.com/dwf0ywsoq/image/upload/v1756231163/ChatGPT_Image_Aug_26_2025_10_23_22_PM_kdp07f.png",alt:"Sleep",className:"sleep-illustration w-full h-full object-cover"})})]})}),a.jsx("div",{className:"focus-grid-item",children:a.jsxs("div",{className:"focus-card","data-mode":"meditate",onClick:()=>{P("meditate"),S(!0),In("Meditate","Meditation Session"),ie(0),window.focusPlayer&&window.focusPlayer.playMode("meditate"),re(!0)},children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Meditate"}),a.jsx("div",{className:"focus-card-image",children:a.jsx("img",{src:"https://res.cloudinary.com/dwf0ywsoq/image/upload/v1756231167/ChatGPT_Image_Aug_26_2025_10_23_05_PM_rdwbvy.png",alt:"Meditate",className:"meditate-illustration w-full h-full object-cover"})})]})})]}),a.jsx("div",{className:"jump-back",children:a.jsxs("button",{onClick:()=>{j(!0),setTimeout(()=>v(!0),150)},className:"jump-btn flex items-center gap-2",children:["JUMP BACK IN",a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}):x?a.jsx("div",{className:"relative bg-black/40 backdrop-blur-2xl flex flex-col items-center text-white min-h-[600px] rounded-lg overflow-hidden",children:a.jsxs("div",{className:`w-full mx-auto p-6 transition-all duration-500 ease-in-out transform ${b?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs("button",{onClick:()=>{j(!1),setTimeout(()=>v(!1),150)},className:"inline-flex items-center gap-2 px-6 py-3 bg-white/10 backdrop-blur-md border border-white/20 rounded-full font-medium hover:bg-white/20 transition-all text-sm animate-bounce",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"JUMP BACK IN"]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-white/80 uppercase tracking-wider mb-3 text-center",children:"Recent Sessions"}),a.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-32 overflow-y-auto custom-scrollbar",children:je.length===0?a.jsx("div",{className:"col-span-3 text-center py-4",children:a.jsx("p",{className:"text-white/60 text-sm",children:"No recent sessions yet. Start a music session to see them here!"})}):je.map((D,J)=>a.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-3 hover:bg-white/20 transition-all cursor-pointer flex items-center gap-2",onClick:()=>{j(!1),setTimeout(()=>{v(!1),P("focus"),S(!0)},150)},children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${D.color}`}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"text-xs text-white/60 capitalize",children:[D.mode," • ",mn(ti(D.startTime))]}),a.jsx("div",{className:"text-xs font-medium text-white",children:D.activity})]})]},J))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white/80 uppercase tracking-wider mb-3 text-center",children:"Recent Tracks"}),a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar",children:Ae.length===0?a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-white/60 text-sm",children:"No recent tracks yet. Play some music to see them here!"})}):Ae.map((D,J)=>a.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-3 hover:bg-white/20 transition-all cursor-pointer flex items-center gap-3",onClick:()=>{j(!1),setTimeout(()=>{v(!1),P("focus"),S(!0)},150)},children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12 7-12 6z"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-white text-sm mb-1",children:D.title}),a.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wider",children:D.artist}),a.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[D.mode," • ",D.genre," • Infinite"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors",children:a.jsx("svg",{className:"w-3 h-3 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),a.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors",children:a.jsx("svg",{className:"w-3 h-3 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]},J))})]})]})}):(console.log("showMusicPlayer:",_),_)?a.jsxs("div",{className:`relative w-full h-[580px] rounded-xl overflow-hidden ${N==="focus"?"bg-gradient-to-br from-purple-600 via-pink-600 to-purple-800":N==="relax"?"bg-gradient-to-br from-blue-500 via-teal-500 to-blue-700":N==="sleep"?"bg-gradient-to-br from-indigo-600 via-purple-700 to-indigo-900":"bg-gradient-to-br from-green-500 via-emerald-600 to-green-700"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70"}),(console.log("Rendering conditions - showPlayerSettings:",R,"showInlineTimerSettings:",Q),!Q&&!R)?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between text-white",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:D=>{D.stopPropagation(),D.preventDefault(),console.log("Back button clicked"),S(!1),P(null),re(!1),ie(0),g(!1),B(null),window.focusPlayer&&window.focusPlayer.stop()},className:"music-back-button",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),a.jsxs("div",{className:"relative focus-dropdown-container",children:[a.jsxs("button",{onClick:D=>{D.preventDefault(),D.stopPropagation(),console.log("Focus dropdown button clicked, current state:",Ve),$t(!Ve)},className:"flex items-center gap-2 bg-black/20 backdrop-blur-sm rounded-full px-3 py-1 hover:bg-black/30 transition-all duration-200 cursor-pointer relative z-10",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center",children:$e.focus.find(we=>we.label===ms)?.svg||a.jsxs("svg",{width:"20",height:"20",stroke:"currentColor",fill:"none",strokeWidth:"2",children:[a.jsx("line",{x1:"10",y1:"1",x2:"10",y2:"19"}),a.jsx("line",{x1:"1",y1:"10",x2:"19",y2:"10"}),a.jsx("line",{x1:"4",y1:"4",x2:"16",y2:"16"}),a.jsx("line",{x1:"4",y1:"16",x2:"16",y2:"4"})]})}),a.jsx("span",{className:"text-sm font-medium",children:ms}),a.jsx("svg",{className:`w-3 h-3 transition-transform duration-200 ${Ve?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Ve&&a.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 rounded-lg shadow-2xl z-[100] overflow-hidden",style:{background:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(20px) saturate(150%)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"mb-1.5",children:a.jsx("h3",{className:"text-xs font-semibold text-gray-300 uppercase tracking-wider mb-1.5",children:"ACTIVITIES"})}),a.jsx("div",{className:"space-y-0.5",children:$e.focus.map(D=>a.jsxs("button",{onClick:J=>{J.preventDefault(),J.stopPropagation(),ue(D.label),$t(!1)},className:`w-full flex items-center gap-2 px-2.5 py-2 text-left rounded-md transition-all duration-200 text-white ${ms===D.label?"bg-white/20 shadow-sm":"hover:bg-white/10"}`,children:[a.jsx("span",{className:"w-6 h-6 flex items-center justify-center",children:D.svg}),a.jsx("span",{className:"text-sm font-medium flex-1",children:D.label}),ms===D.label&&a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},D.id))})]})})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:D=>{D.preventDefault(),D.stopPropagation(),console.log("Player settings button clicked"),M(!0)},className:`p-2 rounded-full hover:bg-white hover:bg-opacity-20 transition-colors relative z-50 ${R?"bg-white bg-opacity-30":""}`,title:"Player Settings",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsxs("g",{strokeWidth:2,children:[a.jsx("path",{d:"M9 18V5l12-2v13"}),a.jsx("circle",{cx:"6",cy:"18",r:"3"}),a.jsx("circle",{cx:"18",cy:"16",r:"3"}),a.jsx("circle",{cx:"19",cy:"5",r:"2",fill:"currentColor"})]})})}),a.jsx("button",{className:"p-2 rounded-full hover:bg-white hover:bg-opacity-20 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})})]})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white",children:[a.jsx("div",{className:"text-sm font-medium mb-3 uppercase tracking-wider opacity-80",children:Re&&N==="focus"?"CLICK TO TOGGLE TIMER SETTINGS":N==="focus"?"INCREASING FOCUS...":N==="relax"?"RELAXING...":N==="sleep"?"SLEEPING...":"MEDITATING..."}),a.jsxs("div",{className:"text-7xl font-light mb-4",onMouseEnter:()=>_e(!0),onMouseLeave:()=>_e(!1),children:[Math.floor(K/60),":",(K%60).toString().padStart(2,"0")]}),a.jsxs("button",{onClick:()=>ce(!0),title:"Click to toggle timer settings",className:"flex items-center gap-2 px-5 py-2 bg-black bg-opacity-40 rounded-full text-sm hover:bg-opacity-60 transition-all border border-white border-opacity-20 mb-8",onMouseEnter:()=>_e(!0),onMouseLeave:()=>_e(!1),children:[a.jsx("span",{className:"text-lg",children:"∞"}),a.jsx("span",{children:mt==="infinite"?"Infinite Play":`${bt.hours}h ${bt.minutes}m`}),a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsx("button",{onClick:ot,className:"p-3 rounded-full hover:bg-white hover:bg-opacity-20 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("button",{onClick:()=>{if(Z)re(!1),window.focusPlayer&&window.focusPlayer.stop();else{re(!0);const D=Ee();D&&N&&br(D,N),window.focusPlayer&&window.focusPlayer.playMode(N)}},className:"p-4 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-colors",children:Z?a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6"})}):a.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M8 5v14l11-7z"})})}),a.jsx("button",{onClick:Je,className:"p-3 rounded-full hover:bg-white hover:bg-opacity-20 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),a.jsx("div",{className:"absolute bottom-4 left-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden",children:a.jsx("div",{className:`w-full h-full bg-gradient-to-br ${Ee()?.gradient||"from-blue-500 via-purple-600 to-pink-500"} flex items-center justify-center`,children:a.jsx("div",{className:"text-white text-xs font-bold",children:Ee()?.initials||"BL"})})}),a.jsxs("div",{className:"text-white",children:[a.jsx("h4",{className:"font-medium text-xs",children:Ee()?.title||"Black Lights"}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-300 mt-0.5",children:[a.jsxs("span",{className:"bg-white bg-opacity-20 px-1.5 py-0.5 rounded text-xs",children:[be.charAt(0).toUpperCase()+be.slice(1)," Neural Effect"]}),a.jsx("span",{children:Ee()?.genre||"ELECTRONIC"}),a.jsx("span",{children:"DETAILS"})]})]})]})}),a.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1 text-white text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"})}),a.jsxs("span",{children:[fn," week streak"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-white",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),a.jsx("input",{type:"range",min:"0",max:"100",value:ut,onChange:D=>{const J=parseInt(D.target.value);Ds(J),window.focusPlayer&&window.focusPlayer.updateVolume&&window.focusPlayer.updateVolume(J)},className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer focus:outline-none",style:{background:`linear-gradient(to right, #ef4444 0%, #ef4444 ${ut}%, #4b5563 ${ut}%, #4b5563 100%)`,WebkitAppearance:"none",height:"4px"}}),a.jsx("style",{jsx:!0,children:`
                      input[type="range"]::-webkit-slider-thumb {
                        appearance: none;
                        width: 12px;
                        height: 12px;
                        border-radius: 50%;
                        background: #ffffff;
                        cursor: pointer;
                        box-shadow: 0 2px 6px rgba(0,0,0,0.3);
                      }
                      input[type="range"]::-moz-range-thumb {
                        width: 12px;
                        height: 12px;
                        border-radius: 50%;
                        background: #ffffff;
                        cursor: pointer;
                        border: none;
                        box-shadow: 0 2px 6px rgba(0,0,0,0.3);
                      }
                    `})]})]})]}):Q?a.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-white p-8",children:[a.jsx("div",{className:"absolute inset-0 backdrop-blur-md bg-white/10"}),a.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Timer Settings"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Configure your focus session duration"})]}),a.jsxs("div",{className:"flex gap-3 mb-8",children:[a.jsx("button",{onClick:()=>kt("infinite"),className:`flex-1 px-4 py-4 rounded-xl border-2 transition-all backdrop-blur-sm ${mt==="infinite"?"border-white/60 bg-white/20":"border-white/30 bg-white/10 hover:border-white/40"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:"∞"}),a.jsx("div",{className:"text-sm font-medium",children:"INFINITE"})]})}),a.jsx("button",{onClick:()=>kt("timer"),className:`flex-1 px-4 py-4 rounded-xl border-2 transition-all backdrop-blur-sm ${mt==="timer"?"border-white/60 bg-white/20":"border-white/30 bg-white/10 hover:border-white/40"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:"⏱"}),a.jsx("div",{className:"text-sm font-medium",children:"TIMER"})]})})]}),mt==="infinite"?a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Infinite Play"}),a.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Listen to tracks freely without any time restrictions."}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Activate Quotes"}),a.jsx("button",{className:"w-12 h-6 rounded-full transition-colors bg-white relative",children:a.jsx("div",{className:"w-5 h-5 bg-gray-900 rounded-full absolute top-0.5 transition-transform translate-x-6"})})]}),a.jsx("p",{className:"text-xs text-gray-300 mt-2 text-left",children:"Quotes replace the timer display."})]})]}):a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Set Timer"}),a.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Select when you'd like the music to stop playing."}),a.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[{label:"30 min",minutes:30},{label:"1 hr",minutes:60},{label:"2 hrs",minutes:120}].map(D=>a.jsx("button",{onClick:()=>Kt({hours:Math.floor(D.minutes/60),minutes:D.minutes%60}),className:"px-3 py-3 border border-white/30 bg-white/10 backdrop-blur-sm rounded-xl hover:border-white/40 transition-all text-sm font-medium",children:D.label},D.minutes))}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[a.jsx("span",{className:"text-gray-300 text-sm",children:"Custom"}),a.jsx("input",{type:"number",min:"0",max:"23",value:bt.hours,onChange:D=>Kt(J=>({...J,hours:parseInt(D.target.value)||0})),className:"w-16 px-2 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-center text-white placeholder-gray-300 focus:outline-none focus:border-white/50"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"hrs"}),a.jsx("input",{type:"number",min:"0",max:"59",value:bt.minutes,onChange:D=>Kt(J=>({...J,minutes:parseInt(D.target.value)||0})),className:"w-16 px-2 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-center text-white placeholder-gray-300 focus:outline-none focus:border-white/50"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"mins"})]})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>ce(!1),className:"flex-1 px-6 py-3 text-white/80 hover:text-white transition-colors font-medium",children:"CANCEL"}),a.jsx("button",{onClick:()=>ce(!1),className:"flex-1 px-6 py-3 bg-white text-gray-900 rounded-full font-semibold hover:bg-gray-100 transition-colors",children:"APPLY"})]})]})]}):a.jsxs("div",{className:"absolute inset-0 flex text-white",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-2xl"}),a.jsxs("div",{className:"relative z-10 w-full h-full flex",children:[a.jsxs("div",{className:"w-80 bg-transparent border-r border-white/10 p-6 overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-white text-center text-sm font-medium mb-8",children:"Player Settings"}),a.jsx("h3",{className:"text-white text-sm font-medium mb-2",children:"Genre"}),a.jsx("p",{className:"text-white/60 text-xs mb-4",children:"Select the genres you would like to hear while listening."})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"text-white text-sm font-medium",children:"Music"}),a.jsx("button",{className:"text-xs text-white/60 hover:text-white underline",children:"Select All"})]}),a.jsx("div",{className:"space-y-0",children:[{key:"acoustic",label:"Acoustic",icon:"🎸"},{key:"atmospheric",label:"Atmospheric",icon:"✨"},{key:"cinematic",label:"Cinematic",icon:"🎬"},{key:"classical",label:"Classical",icon:"🎻"},{key:"drone",label:"Drone",icon:"〰️"},{key:"electronic",label:"Electronic",icon:"🎹"},{key:"grooves",label:"Grooves",icon:"🥁"},{key:"lofi",label:"Lofi",icon:"📻"},{key:"piano",label:"Piano",icon:"🎹"}].map(D=>a.jsxs("div",{className:"flex items-center justify-between py-3 px-3 hover:bg-white/5 cursor-pointer transition-colors",onClick:()=>A(J=>({...J,[D.key]:!J[D.key]})),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-base",children:D.icon}),a.jsx("span",{className:"text-white text-sm",children:D.label})]}),W[D.key]&&a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},D.key))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"text-white text-sm font-medium",children:"Nature"}),a.jsx("button",{className:"text-xs text-white/60 hover:text-white underline",children:"Select All"})]}),a.jsx("div",{className:"space-y-0",children:[{key:"beach",label:"Beach",icon:"🏖️"},{key:"chimes",label:"Chimes & Bowls",icon:"🎋"},{key:"forest",label:"Forest",icon:"🌲"},{key:"nightsounds",label:"Nightsounds",icon:"🌙"},{key:"rain",label:"Rain",icon:"🌧️"},{key:"rainforest",label:"Rainforest",icon:"🌿"},{key:"river",label:"River",icon:"🏞️"},{key:"thunder",label:"Thunder",icon:"⚡"},{key:"underwater",label:"Underwater",icon:"🌊"},{key:"wind",label:"Wind",icon:"💨"}].map(D=>a.jsxs("div",{className:"flex items-center justify-between py-3 px-3 hover:bg-white/5 cursor-pointer transition-colors",onClick:()=>A(J=>({...J,[D.key]:!J[D.key]})),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-base",children:D.icon}),a.jsx("span",{className:"text-white text-sm",children:D.label})]}),W[D.key]&&a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},D.key))})]})]}),a.jsxs("div",{className:"flex-1 bg-transparent p-8 relative",children:[a.jsxs("div",{className:"max-w-lg",children:[a.jsx("h3",{className:"text-white text-sm font-medium mb-2",children:"Neural Effect Level ⓘ"}),a.jsx("p",{className:"text-white/60 text-xs mb-6",children:"Select the neural effect level(s) you'd like us to incorporate into your session."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`p-4 rounded-lg cursor-pointer transition-colors ${C==="low"?"bg-white/10 border border-white/20":"bg-white/5 hover:bg-white/8"}`,onClick:()=>$("low"),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-4 h-4 rounded-full border-2 mt-0.5 flex items-center justify-center ${C==="low"?"border-white bg-white":"border-white/40"}`,children:C==="low"&&a.jsx("div",{className:"w-2 h-2 bg-black rounded-full"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium mb-1",children:"☐ Low Effect"}),a.jsx("div",{className:"text-xs text-white/60 leading-relaxed",children:"Use this effect level if you are generally sensitive to sounds, or if the higher effect levels feel too intense."})]})]})}),a.jsx("div",{className:`p-4 rounded-lg cursor-pointer transition-colors ${C==="medium"?"bg-white/10 border border-white/20":"bg-white/5 hover:bg-white/8"}`,onClick:()=>$("medium"),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-4 h-4 rounded-full border-2 mt-0.5 flex items-center justify-center ${C==="medium"?"border-white bg-white":"border-white/40"}`,children:C==="medium"&&a.jsx("div",{className:"w-2 h-2 bg-black rounded-full"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium mb-1",children:"☐ Medium Effect"}),a.jsx("div",{className:"text-xs text-white/60 leading-relaxed",children:"Our standard level of neural phase locking is a great place to start. Be sure to try the other levels to find what works best for you!"})]})]})}),a.jsx("div",{className:`p-4 rounded-lg cursor-pointer transition-colors ${C==="high"?"bg-white/10 border border-white/20":"bg-white/5 hover:bg-white/8"}`,onClick:()=>$("high"),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-4 h-4 rounded-full border-2 mt-0.5 flex items-center justify-center ${C==="high"?"border-white bg-white":"border-white/40"}`,children:C==="high"&&a.jsx("div",{className:"w-2 h-2 bg-black rounded-full"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium mb-1",children:"☐ High Effect"}),a.jsx("div",{className:"text-xs text-white/60 leading-relaxed",children:"Use the strongest level of our neural phase locking technology if you need extra stimulation, or have attentional challenges (ADHD or similar)."})]})]})})]})]}),a.jsx("div",{className:"absolute bottom-8 left-8 right-8",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>M(!1),className:"flex-1 py-3 bg-white/10 backdrop-blur-sm rounded-lg font-medium hover:bg-white/15 transition-all text-sm text-white border border-white/10",children:"CANCEL"}),a.jsx("button",{onClick:()=>{const D=Object.entries(W).filter(([J,we])=>we).map(([J,we])=>J);if(oe(D),ke(C),console.log("Applied Genres:",D),console.log("Applied Neural Effect Level:",C),N&&D.length>0){const J=js(N);if(J.length>0){const Ce=it[N][E];J.includes(Ce)||I(0)}}M(!1)},className:"flex-1 py-3 bg-white/80 text-gray-900 rounded-lg font-medium hover:bg-white transition-all text-sm",children:"APPLY"})]})})]})]})]})]}):a.jsxs("div",{className:"w-full max-w-md mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("button",{onClick:D=>{D.stopPropagation(),D.preventDefault(),console.log("Activity view back button clicked"),g(!1),B(null),P(null)},className:"relative z-10 p-2 rounded-full hover:bg-gray-100 text-gray-600 hover:text-gray-900 transition-all duration-200 hover:scale-110 cursor-pointer",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:N}),a.jsx("div",{className:"w-6"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4",children:"Activity"}),N==="focus"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>B("deep-work"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="deep-work"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"⚡"}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"Deep Work"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Designed for demanding tasks that require sustained periods of intense focus."})]})]})}),a.jsx("button",{onClick:()=>B("motivation"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="motivation"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"⚡"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Motivation"})})]})}),a.jsx("button",{onClick:()=>B("creativity"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="creativity"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"🎨"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Creativity"})})]})}),a.jsx("button",{onClick:()=>B("learning"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="learning"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"📚"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Learning"})})]})}),a.jsx("button",{onClick:()=>B("light-work"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="light-work"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"✨"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Light Work"})})]})})]}),N==="relax"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>B("recharge"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="recharge"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"🔋"}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"Recharge"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Designed for you to refocus, recenter, and gain more energy."})]})]})}),a.jsx("button",{onClick:()=>B("chill"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="chill"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"🛋️"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Chill"})})]})}),a.jsx("button",{onClick:()=>B("unwind"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="unwind"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"🌅"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Unwind"})})]})}),a.jsx("button",{onClick:()=>B("destress"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="destress"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"💆"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Destress"})})]})}),a.jsx("button",{onClick:()=>B("travel"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="travel"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"✈️"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Travel"})})]})})]}),N==="sleep"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>B("deep-sleep"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="deep-sleep"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"😴"}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"Deep Sleep"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Music designed to promote healthy and prolonged rest."})]})]})}),a.jsx("button",{onClick:()=>B("power-nap"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="power-nap"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"⚡"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Power Nap"})})]})}),a.jsx("button",{onClick:()=>B("guided-sleep"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="guided-sleep"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"🛏️"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Guided Sleep"})})]})}),a.jsx("button",{onClick:()=>B("wind-down"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="wind-down"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"🌙"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Wind Down"})})]})}),a.jsx("button",{onClick:()=>B("sleep-wake"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="sleep-wake"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"🌅"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Sleep And Wake"})})]})})]}),N==="meditate"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>B("unguided"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="unguided"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"🧘"}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"Unguided"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Reach deeper levels of meditation without guided narration."})]})]})}),a.jsx("button",{onClick:()=>B("guided"),className:`w-full p-4 rounded-lg border-2 transition-all ${L==="guided"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-2xl mr-4",children:"🎧"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:"Guided"})})]})})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4",children:"Timer"}),a.jsx("button",{className:"w-full p-4 rounded-lg border-2 border-gray-200 hover:border-gray-300 transition-all",onClick:()=>{},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-2xl mr-4",children:"∞"}),a.jsx("span",{className:"font-semibold text-gray-900",children:"Infinity"})]}),a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),a.jsx("div",{children:a.jsx("button",{onClick:()=>{L&&(window.focusPlayer&&window.focusPlayer.playMode(N),g(!1),B(null))},className:`w-full py-4 px-6 rounded-full font-semibold text-lg transition-all ${L?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,disabled:!L,children:"START LISTENING"})})]})]})}),Y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-md mx-4 text-white",children:[a.jsx("div",{className:"p-6 border-b border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Timer Settings"}),a.jsx("button",{onClick:()=>ae(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsx("button",{onClick:()=>kt("infinite"),className:`flex-1 px-4 py-3 rounded-lg border-2 transition-all ${mt==="infinite"?"border-white bg-white bg-opacity-20":"border-gray-600 hover:border-gray-500"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:"∞"}),a.jsx("div",{className:"text-sm font-medium",children:"INFINITE"})]})}),a.jsx("button",{onClick:()=>kt("timer"),className:`flex-1 px-4 py-3 rounded-lg border-2 transition-all ${mt==="timer"?"border-white bg-white bg-opacity-20":"border-gray-600 hover:border-gray-500"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:"⏱"}),a.jsx("div",{className:"text-sm font-medium",children:"TIMER"})]})})]}),mt==="infinite"?a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Infinite Play"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Listen to tracks freely without any time restrictions."}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Activate Quotes"}),a.jsx("button",{className:"w-12 h-6 rounded-full transition-colors bg-white relative",children:a.jsx("div",{className:"w-5 h-5 bg-gray-900 rounded-full absolute top-0.5 transition-transform translate-x-6"})})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Quotes replace the timer display."})]})]}):a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Set Timer"}),a.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Select when you'd like the music to stop playing."}),a.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[{label:"30 min",minutes:30},{label:"1 hr",minutes:60},{label:"2 hrs",minutes:120}].map(D=>a.jsx("button",{onClick:()=>Kt({hours:Math.floor(D.minutes/60),minutes:D.minutes%60}),className:"px-4 py-3 border border-gray-600 rounded-lg hover:border-gray-500 transition-colors text-sm",children:D.label},D.minutes))}),a.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[a.jsx("span",{className:"text-gray-400",children:"Custom"}),a.jsx("input",{type:"number",min:"0",max:"23",value:bt.hours,onChange:D=>Kt(J=>({...J,hours:parseInt(D.target.value)||0})),className:"w-16 px-2 py-1 bg-gray-800 border border-gray-600 rounded text-center"}),a.jsx("span",{className:"text-gray-400",children:"hrs"}),a.jsx("input",{type:"number",min:"0",max:"59",value:bt.minutes,onChange:D=>Kt(J=>({...J,minutes:parseInt(D.target.value)||0})),className:"w-16 px-2 py-1 bg-gray-800 border border-gray-600 rounded text-center"}),a.jsx("span",{className:"text-gray-400",children:"mins"})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-700 flex gap-3",children:[a.jsx("button",{onClick:()=>ae(!1),className:"flex-1 px-6 py-3 text-gray-300 hover:text-white transition-colors",children:"CANCEL"}),a.jsx("button",{onClick:()=>ae(!1),className:"flex-1 px-6 py-3 bg-white text-gray-900 rounded-full font-semibold hover:bg-gray-100 transition-colors",children:"APPLY"})]})]})}),!1]})})},ar=qe.memo(({task:s,onUpdate:e,onDelete:t})=>{const[n,i]=k.useState(!1),[l,c]=k.useState(!1),{supabase:d}=da(),h=async b=>{if(!l)try{c(!0);const{error:j}=await d.from("tasks").update({priority:b,updated_at:new Date().toISOString()}).eq("id",s.id).select().single();if(j)throw j;e()}catch(j){console.error("Error updating task priority:",j),e()}finally{c(!1)}},m=async b=>{if(!l)try{c(!0);const{error:j}=await d.from("tasks").update({due_date:b,updated_at:new Date().toISOString()}).eq("id",s.id).select().single();if(j)throw j;e()}catch(j){console.error("Error updating due date:",j),e()}finally{c(!1)}},g=async b=>{if(!l)try{c(!0);const{error:j}=await d.from("tasks").update({end_date:b,updated_at:new Date().toISOString()}).eq("id",s.id).select().single();if(j)throw j;e()}catch(j){console.error("Error updating end date:",j),e()}finally{c(!1)}},x=b=>b.length>0&&b.every(j=>j.status==="completed"),v=async b=>{if(l)return;const j=b.status==="completed"?"open":"completed";try{c(!0);const{error:_}=await d.from("subtasks").update({status:j,updated_at:new Date().toISOString()}).eq("id",b.id).select().single();if(_)throw _;const S=s.subtasks?.map(E=>E.id===b.id?{...E,status:j}:E)||[],N=x(S),P=!N&&s.status==="completed";if(N&&s.status!=="completed"||P){const E=N?"completed":"open",{error:I}=await d.from("tasks").update({status:E,updated_at:new Date().toISOString()}).eq("id",s.id);if(I)throw I}e()}catch(_){console.error("Error updating subtask status:",_),e()}finally{c(!1)}};return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden",children:[a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:`font-semibold text-base break-words mb-3 ${s.status==="completed"?"text-gray-600":"text-gray-900"}`,children:s.title}),s.status==="completed"&&a.jsx("div",{className:"mb-3",children:a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Completed"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:s.priority||"medium",onChange:b=>h(b.target.value),disabled:l||s.status==="completed",className:`w-full appearance-none pl-8 pr-8 py-2 text-sm font-medium rounded-lg border focus:outline-none focus:ring-2 focus:ring-offset-1 transition-colors ${s.status==="completed"?"bg-gray-50 text-gray-500 border-gray-200 cursor-not-allowed":s.priority==="high"?"bg-red-50 text-red-700 border-red-200 focus:ring-red-500":s.priority==="medium"||!s.priority?"bg-yellow-50 text-yellow-700 border-yellow-200 focus:ring-yellow-500":"bg-green-50 text-green-700 border-green-200 focus:ring-green-500"}`,children:[a.jsx("option",{value:"high",children:"High Priority"}),a.jsx("option",{value:"medium",children:"Medium Priority"}),a.jsx("option",{value:"low",children:"Low Priority"})]}),a.jsx("div",{className:`absolute left-2.5 top-1/2 -translate-y-1/2 w-3 h-3 rounded-full ${s.status==="completed"?"bg-gray-400":s.priority==="high"?"bg-red-500":s.priority==="medium"||!s.priority?"bg-yellow-500":"bg-green-500"}`})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",value:s.due_date||"",onChange:b=>m(b.target.value),disabled:l||s.status==="completed",placeholder:"Due Date",className:`w-full pl-8 pr-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-colors ${s.status==="completed"?"bg-gray-50 text-gray-500 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"}`}),a.jsx(Uo,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",value:s.end_date||"",onChange:b=>g(b.target.value),disabled:l||s.status==="completed",placeholder:"End Date",className:`w-full pl-8 pr-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-1 transition-colors ${s.status==="completed"?"bg-gray-50 text-gray-500 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"}`}),a.jsx(Ji,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]})]}),a.jsxs("div",{className:"flex items-start gap-2 flex-shrink-0",children:[s.subtasks&&s.subtasks.length>0&&a.jsx("button",{onClick:b=>{b.stopPropagation(),i(!n)},type:"button",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Toggle subtasks",children:n?a.jsx(k_,{className:"w-4 h-4 text-gray-600"}):a.jsx(us,{className:"w-4 h-4 text-gray-600"})}),a.jsx("button",{onClick:b=>{b.stopPropagation(),t()},type:"button",className:"px-3 py-1.5 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Delete"})]})]})}),n&&s.subtasks&&a.jsx("div",{className:"bg-gray-50 border-t border-gray-200",children:a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Subtasks"}),[...s.subtasks].sort((b,j)=>b.order_index-j.order_index).map(b=>a.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 bg-white rounded-lg border border-gray-200 hover:shadow-sm transition-shadow",children:[a.jsx("span",{className:`flex-1 text-sm break-words ${b.status==="completed"?"text-gray-600":"text-gray-900"}`,children:b.title}),b.status==="completed"?a.jsx("span",{className:"px-3 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full",children:"Completed"}):a.jsx("button",{onClick:j=>{j.stopPropagation(),v(b)},disabled:l,className:"px-3 py-1.5 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors disabled:opacity-50",children:"Mark Complete"})]},b.id))]})})]})},(s,e)=>s.task.id===e.task.id&&s.task.status===e.task.status&&s.task.priority===e.task.priority&&s.task.due_date===e.task.due_date&&s.task.title===e.task.title&&JSON.stringify(s.task.subtasks)===JSON.stringify(e.task.subtasks)),$E=({isOpen:s,onClose:e,onSetConfig:t,taskTitle:n})=>{const[i,l]=k.useState(""),[c,d]=k.useState("medium"),[h,m]=k.useState("date");if(qe.useEffect(()=>{if(s){const N=new Date().toISOString().split("T")[0];l(N),m("date")}},[s]),!s)return null;const g=()=>{i&&m("priority")},x=()=>{t({date:i,priority:c}),e()},v=()=>{m("priority")},b=()=>{t({date:i||void 0,priority:void 0}),e()},j=()=>{t({}),e()},_=()=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:a.jsx(Uo,{className:"w-5 h-5 text-blue-600"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Set Due Date"})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(bs,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-gray-600 mb-4",children:["Would you like to set a due date for ",a.jsxs("span",{className:"font-semibold",children:['"',n,'"']}),"?"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",value:i,onChange:N=>l(N.target.value),className:"w-full px-4 py-3 pl-12 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",min:new Date().toISOString().split("T")[0]}),a.jsx(ko,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>{l(new Date().toISOString().split("T")[0])},className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Today"}),a.jsx("button",{onClick:()=>{const N=new Date;N.setDate(N.getDate()+1),l(N.toISOString().split("T")[0])},className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Tomorrow"}),a.jsx("button",{onClick:()=>{const N=new Date;N.setDate(N.getDate()+7),l(N.toISOString().split("T")[0])},className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Next Week"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:v,className:"flex-1 px-4 py-3 border-2 border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Skip Date"}),a.jsx("button",{onClick:g,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:"Next: Set Priority"})]})]}),S=()=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center",children:a.jsx(L_,{className:"w-5 h-5 text-purple-600"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Set Priority"})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(bs,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-gray-600 mb-4",children:["What's the priority level for ",a.jsxs("span",{className:"font-semibold",children:['"',n,'"']}),"?"]}),a.jsx("div",{className:"space-y-3",children:[{value:"high",label:"High Priority",color:"red",description:"Urgent and important"},{value:"medium",label:"Medium Priority",color:"yellow",description:"Important but not urgent"},{value:"low",label:"Low Priority",color:"green",description:"Nice to have"}].map(N=>a.jsxs("label",{className:`flex items-center gap-4 p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 ${c===N.value?`border-${N.color}-300 bg-${N.color}-50/80 shadow-lg`:"border-gray-200 bg-white hover:border-gray-300"}`,children:[a.jsx("input",{type:"radio",name:"priority",value:N.value,checked:c===N.value,onChange:P=>d(P.target.value),className:"sr-only"}),a.jsx("div",{className:`w-4 h-4 rounded-full ${N.color==="red"?"bg-red-500":N.color==="yellow"?"bg-yellow-500":"bg-green-500"}`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-semibold text-gray-900",children:N.label}),a.jsx("div",{className:"text-sm text-gray-600",children:N.description})]}),c===N.value&&a.jsx("div",{className:`w-5 h-5 rounded-full ${N.color==="red"?"bg-red-500":N.color==="yellow"?"bg-yellow-500":"bg-green-500"} flex items-center justify-center`,children:a.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},N.value))})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:b,className:"flex-1 px-4 py-3 border-2 border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:"Skip Priority"}),a.jsx("button",{onClick:x,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors font-medium",children:"Complete Setup"})]})]});return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full animate-in slide-in-from-bottom duration-300",children:[a.jsx("div",{className:"p-6",children:h==="date"?_():S()}),a.jsxs("div",{className:"px-6 pb-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${h==="date"?"bg-blue-500":"bg-gray-300"}`}),a.jsx("div",{className:`w-2 h-2 rounded-full ${h==="priority"?"bg-purple-500":"bg-gray-300"}`})]}),a.jsx("div",{className:"text-center mt-2",children:a.jsx("button",{onClick:j,className:"text-sm text-gray-500 hover:text-gray-700 underline transition-colors",children:"Skip all and finish"})})]})]})})},zE=({isOpen:s,onClose:e,onConfirm:t,itemName:n,itemType:i,loading:l=!1})=>{if(!s)return null;const c=()=>{l||t()},d=()=>{l||e()};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full animate-in slide-in-from-bottom duration-300",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center",children:a.jsx(Oc,{className:"w-5 h-5 text-red-600"})}),a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Delete ",i==="task"?"Task":"Subtask"]})]}),a.jsx("button",{onClick:d,disabled:l,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:a.jsx(bs,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to permanently delete ",i==="task"?"this task":"this subtask","?"]}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:a.jsxs("p",{className:"font-semibold text-red-800 break-words",children:['"',n,'"']})}),a.jsxs("div",{className:"flex items-start gap-2 text-sm text-red-600",children:[a.jsx(Oc,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsxs("p",{children:["This action cannot be undone. ",i==="task"?"All subtasks will also be deleted.":""]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:d,disabled:l,className:"flex-1 px-4 py-3 border-2 border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-100 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:c,disabled:l,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 focus:outline-none focus:ring-4 focus:ring-red-200 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a.jsx("span",{children:"Deleting..."})]}):a.jsx("span",{children:"Delete Permanently"})})]})]})})})},BE=()=>{const[s,e]=k.useState([]),[t,n]=k.useState(!0),[i,l]=k.useState(null),[c,d]=k.useState(!1),[h,m]=k.useState(!1),[g,x]=k.useState(!1),[v,b]=k.useState(null),[j,_]=k.useState(!1),[S,N]=k.useState(!1),[P,E]=k.useState(null),[I,L]=k.useState(!1),B=k.useRef(new Set),G=k.useRef(!1),q=k.useRef(!0),{supabase:Z}=da(),{user:re}=fs(),K=yr(),ie=Rn(),Y=(R,M)=>{re?.id&&(E({id:R,title:M}),N(!0))},ae=async()=>{if(!(!P||!re?.id))try{L(!0);const{error:R}=await Z.from("tasks").update({is_deleted:!0}).eq("id",P.id);if(R)throw R;N(!1),E(null),await Q()}catch(R){console.error("Error deleting task:",R),l("Failed to delete task")}finally{L(!1)}},Q=k.useCallback(async(R=!1)=>{if(!(!re?.id||!q.current||G.current)){G.current=!0,console.log("📥 Fetching tasks for user:",re.id);try{R?d(!0):n(!0),l(null);const M=new Promise(($,se)=>{setTimeout(()=>se(new Error("Query timeout")),1e4)}),W=Z.from("tasks").select(`
          *,
          subtasks (*)
        `).eq("user_id",re.id).eq("is_deleted",!1).order("created_at",{ascending:!1}),{data:A,error:C}=await Promise.race([W,M]);if(C)throw C;if(!q.current)return;A&&A.forEach($=>{$.subtasks&&$.subtasks.sort((se,oe)=>(se.order_index||0)-(oe.order_index||0))}),console.log("✅ Tasks fetched successfully:",A?.length||0),e(A||[]),m(!0)}catch(M){console.error("❌ Error fetching tasks:",M),q.current&&(l("Failed to load tasks"),e([]))}finally{q.current&&(n(!1),d(!1)),G.current=!1}}},[re?.id]),ce=async R=>{if(v&&(x(!1),b(null),!(!R.date&&!R.priority)))try{const M={updated_at:new Date().toISOString()};R.date&&(M.due_date=R.date),R.priority&&(M.priority=R.priority);const{error:W}=await Z.from("tasks").update(M).eq("id",v.id);if(W)throw W;setTimeout(async()=>{await Q()},100)}catch(M){console.error("Error setting task config:",M),l("Failed to update task")}};return k.useEffect(()=>(q.current=!0,()=>{q.current=!1,G.current=!1}),[]),k.useEffect(()=>{B.current.clear()},[re?.id]),k.useEffect(()=>{re?.id&&!h?(console.log("🚀 Initializing tasks for user:",re.id),Q()):re?.id||(e([]),n(!1),m(!1))},[re?.id,h,Q]),k.useEffect(()=>{const R=ie.state?.newTaskId,M=ie.state?.showDateModal;if(R&&M&&s.length>0&&!B.current.has(R)){const W=s.find(A=>A.id===R);W&&(b(W),x(!0),_(!0),B.current.add(R),K("/app/tasks",{replace:!0}))}},[ie.state,s,K]),a.jsxs("div",{className:"space-y-3 sm:space-y-4 bg-white min-h-full",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Tasks"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage your tasks and to-dos"})]})}),i?a.jsxs("div",{className:"bg-red-50 border border-red-200 p-3 sm:p-4 rounded-lg text-red-700",children:[a.jsx("div",{className:"text-sm sm:text-base",children:i}),a.jsx("button",{onClick:()=>{l(null),Q()},className:"mt-2 text-sm underline hover:no-underline touch-manipulation",children:"Try again"})]}):t?a.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-blue-600"})}):s.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 text-center",children:[a.jsx("p",{className:"text-gray-500 text-sm sm:text-base mb-3 sm:mb-4",children:'No tasks yet. Click "Add Task" to create one.'}),a.jsx("button",{onClick:()=>K("/app/add-tasks"),className:"px-4 sm:px-6 py-2 sm:py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors touch-manipulation text-sm sm:text-base font-medium",children:"Add Your First Task"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"block lg:hidden space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"High Priority"}),a.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:s.filter(R=>R.priority==="high"&&R.status!=="completed").length})]})}),a.jsxs("div",{className:"p-4 space-y-3",children:[s.filter(R=>R.priority==="high"&&R.status!=="completed").map(R=>a.jsx(ar,{task:R,onUpdate:Q,onDelete:()=>Y(R.id,R.title)},R.id)),s.filter(R=>R.priority==="high"&&R.status!=="completed").length===0&&a.jsx("p",{className:"text-gray-400 text-center py-8 text-sm",children:"No high priority tasks"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Medium Priority"}),a.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:s.filter(R=>(R.priority==="medium"||!R.priority)&&R.status!=="completed").length})]})}),a.jsxs("div",{className:"p-4 space-y-3",children:[s.filter(R=>(R.priority==="medium"||!R.priority)&&R.status!=="completed").map(R=>a.jsx(ar,{task:R,onUpdate:Q,onDelete:()=>Y(R.id,R.title)},R.id)),s.filter(R=>(R.priority==="medium"||!R.priority)&&R.status!=="completed").length===0&&a.jsx("p",{className:"text-gray-400 text-center py-8 text-sm",children:"No medium priority tasks"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Low Priority"}),a.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:s.filter(R=>R.priority==="low"&&R.status!=="completed").length})]})}),a.jsxs("div",{className:"p-4 space-y-3",children:[s.filter(R=>R.priority==="low"&&R.status!=="completed").map(R=>a.jsx(ar,{task:R,onUpdate:Q,onDelete:()=>Y(R.id,R.title)},R.id)),s.filter(R=>R.priority==="low"&&R.status!=="completed").length===0&&a.jsx("p",{className:"text-gray-400 text-center py-8 text-sm",children:"No low priority tasks"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Completed"}),a.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:s.filter(R=>R.status==="completed").length})]})}),a.jsxs("div",{className:"p-4 space-y-3",children:[s.filter(R=>R.status==="completed").map(R=>a.jsx(ar,{task:R,onUpdate:Q,onDelete:()=>Y(R.id,R.title)},R.id)),s.filter(R=>R.status==="completed").length===0&&a.jsx("p",{className:"text-gray-400 text-center py-8 text-sm",children:"No completed tasks"})]})]})]}),a.jsxs("div",{className:"hidden lg:grid lg:grid-cols-4 lg:gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-fit",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"High Priority"})]}),a.jsxs("span",{className:"text-xs text-gray-500 mt-1 block",children:[s.filter(R=>R.priority==="high"&&R.status!=="completed").length," tasks"]})]}),a.jsxs("div",{className:"p-3 space-y-3 min-h-[200px]",children:[s.filter(R=>R.priority==="high"&&R.status!=="completed").map(R=>a.jsx(ar,{task:R,onUpdate:Q,onDelete:()=>Y(R.id,R.title)},R.id)),s.filter(R=>R.priority==="high"&&R.status!=="completed").length===0&&a.jsx("p",{className:"text-gray-400 text-center py-8 text-sm",children:"No high priority tasks"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-fit",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"Medium Priority"})]}),a.jsxs("span",{className:"text-xs text-gray-500 mt-1 block",children:[s.filter(R=>(R.priority==="medium"||!R.priority)&&R.status!=="completed").length," tasks"]})]}),a.jsxs("div",{className:"p-3 space-y-3 min-h-[200px]",children:[s.filter(R=>(R.priority==="medium"||!R.priority)&&R.status!=="completed").map(R=>a.jsx(ar,{task:R,onUpdate:Q,onDelete:()=>Y(R.id,R.title)},R.id)),s.filter(R=>(R.priority==="medium"||!R.priority)&&R.status!=="completed").length===0&&a.jsx("p",{className:"text-gray-400 text-center py-8 text-sm",children:"No medium priority tasks"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-fit",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"Low Priority"})]}),a.jsxs("span",{className:"text-xs text-gray-500 mt-1 block",children:[s.filter(R=>R.priority==="low"&&R.status!=="completed").length," tasks"]})]}),a.jsxs("div",{className:"p-3 space-y-3 min-h-[200px]",children:[s.filter(R=>R.priority==="low"&&R.status!=="completed").map(R=>a.jsx(ar,{task:R,onUpdate:Q,onDelete:()=>Y(R.id,R.title)},R.id)),s.filter(R=>R.priority==="low"&&R.status!=="completed").length===0&&a.jsx("p",{className:"text-gray-400 text-center py-8 text-sm",children:"No low priority tasks"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-fit",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"Completed"})]}),a.jsxs("span",{className:"text-xs text-gray-500 mt-1 block",children:[s.filter(R=>R.status==="completed").length," tasks"]})]}),a.jsxs("div",{className:"p-3 space-y-3 min-h-[200px]",children:[s.filter(R=>R.status==="completed").map(R=>a.jsx(ar,{task:R,onUpdate:Q,onDelete:()=>Y(R.id,R.title)},R.id)),s.filter(R=>R.status==="completed").length===0&&a.jsx("p",{className:"text-gray-400 text-center py-8 text-sm",children:"No completed tasks"})]})]})]})]}),v&&a.jsx($E,{isOpen:g,onClose:()=>{x(!1),b(null)},onSetConfig:ce,taskTitle:v.title}),a.jsx(zE,{isOpen:S,onClose:()=>{N(!1),E(null)},onConfirm:ae,itemName:P?.title||"",itemType:"task",loading:I})]})},Nv=6048e5,UE=864e5,Sv=6e4,Cv=36e5,ux=Symbol.for("constructDateFrom");function Is(s,e){return typeof s=="function"?s(e):s&&typeof s=="object"&&ux in s?s[ux](e):s instanceof Date?new s.constructor(e):new Date(e)}function Ft(s,e){return Is(e||s,s)}let WE={};function Zc(){return WE}function Io(s,e){const t=Zc(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Ft(s,e?.in),l=i.getDay(),c=(l<n?7:0)+l-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function Hc(s,e){return Io(s,{...e,weekStartsOn:1})}function Ev(s,e){const t=Ft(s,e?.in),n=t.getFullYear(),i=Is(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const l=Hc(i),c=Is(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=Hc(c);return t.getTime()>=l.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function dx(s){const e=Ft(s),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+s-+t}function eu(s,...e){const t=Is.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Vc(s,e){const t=Ft(s,e?.in);return t.setHours(0,0,0,0),t}function HE(s,e,t){const[n,i]=eu(t?.in,s,e),l=Vc(n),c=Vc(i),d=+l-dx(l),h=+c-dx(c);return Math.round((d-h)/UE)}function VE(s,e){const t=Ev(s,e),n=Is(s,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Hc(n)}function qE(s){return Is(s,Date.now())}function GE(s,e,t){const[n,i]=eu(t?.in,s,e);return+Vc(n)==+Vc(i)}function YE(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function KE(s){return!(!YE(s)&&typeof s!="number"||isNaN(+Ft(s)))}function JE(s,e){const t=Ft(s,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function QE(s,e){const[t,n]=eu(s,e.start,e.end);return{start:t,end:n}}function XE(s,e){const{start:t,end:n}=QE(e?.in,s);let i=+t>+n;const l=i?+t:+n,c=i?n:t;c.setHours(0,0,0,0);let d=1;const h=[];for(;+c<=l;)h.push(Is(t,c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return i?h.reverse():h}function ZE(s,e){const t=Ft(s,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function eT(s,e){const t=Ft(s,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const tT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sT=(s,e,t)=>{let n;const i=tT[s];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function yh(s){return(e={})=>{const t=e.width?String(e.width):s.defaultWidth;return s.formats[t]||s.formats[s.defaultWidth]}}const nT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rT={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iT={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aT={date:yh({formats:nT,defaultWidth:"full"}),time:yh({formats:rT,defaultWidth:"full"}),dateTime:yh({formats:iT,defaultWidth:"full"})},oT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lT=(s,e,t,n)=>oT[s];function uo(s){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let i;if(n==="formatting"&&s.formattingValues){const c=s.defaultFormattingWidth||s.defaultWidth,d=t?.width?String(t.width):c;i=s.formattingValues[d]||s.formattingValues[c]}else{const c=s.defaultWidth,d=t?.width?String(t.width):s.defaultWidth;i=s.values[d]||s.values[c]}const l=s.argumentCallback?s.argumentCallback(e):e;return i[l]}}const cT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gT=(s,e)=>{const t=Number(s),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},pT={ordinalNumber:gT,era:uo({values:cT,defaultWidth:"wide"}),quarter:uo({values:uT,defaultWidth:"wide",argumentCallback:s=>s-1}),month:uo({values:dT,defaultWidth:"wide"}),day:uo({values:hT,defaultWidth:"wide"}),dayPeriod:uo({values:fT,defaultWidth:"wide",formattingValues:mT,defaultFormattingWidth:"wide"})};function ho(s){return(e,t={})=>{const n=t.width,i=n&&s.matchPatterns[n]||s.matchPatterns[s.defaultMatchWidth],l=e.match(i);if(!l)return null;const c=l[0],d=n&&s.parsePatterns[n]||s.parsePatterns[s.defaultParseWidth],h=Array.isArray(d)?yT(d,x=>x.test(c)):xT(d,x=>x.test(c));let m;m=s.valueCallback?s.valueCallback(h):h,m=t.valueCallback?t.valueCallback(m):m;const g=e.slice(c.length);return{value:m,rest:g}}}function xT(s,e){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&e(s[t]))return t}function yT(s,e){for(let t=0;t<s.length;t++)if(e(s[t]))return t}function vT(s){return(e,t={})=>{const n=e.match(s.matchPattern);if(!n)return null;const i=n[0],l=e.match(s.parsePattern);if(!l)return null;let c=s.valueCallback?s.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(i.length);return{value:c,rest:d}}}const bT=/^(\d+)(th|st|nd|rd)?/i,wT=/\d+/i,jT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kT={any:[/^b/i,/^(a|c)/i]},_T={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NT={any:[/1/i,/2/i,/3/i,/4/i]},ST={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ET={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AT={ordinalNumber:vT({matchPattern:bT,parsePattern:wT,valueCallback:s=>parseInt(s,10)}),era:ho({matchPatterns:jT,defaultMatchWidth:"wide",parsePatterns:kT,defaultParseWidth:"any"}),quarter:ho({matchPatterns:_T,defaultMatchWidth:"wide",parsePatterns:NT,defaultParseWidth:"any",valueCallback:s=>s+1}),month:ho({matchPatterns:ST,defaultMatchWidth:"wide",parsePatterns:CT,defaultParseWidth:"any"}),day:ho({matchPatterns:ET,defaultMatchWidth:"wide",parsePatterns:TT,defaultParseWidth:"any"}),dayPeriod:ho({matchPatterns:PT,defaultMatchWidth:"any",parsePatterns:MT,defaultParseWidth:"any"})},OT={code:"en-US",formatDistance:sT,formatLong:aT,formatRelative:lT,localize:pT,match:AT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RT(s,e){const t=Ft(s,e?.in);return HE(t,eT(t))+1}function IT(s,e){const t=Ft(s,e?.in),n=+Hc(t)-+VE(t);return Math.round(n/Nv)+1}function Tv(s,e){const t=Ft(s,e?.in),n=t.getFullYear(),i=Zc(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Is(e?.in||s,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const d=Io(c,e),h=Is(e?.in||s,0);h.setFullYear(n,0,l),h.setHours(0,0,0,0);const m=Io(h,e);return+t>=+d?n+1:+t>=+m?n:n-1}function DT(s,e){const t=Zc(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=Tv(s,e),l=Is(e?.in||s,0);return l.setFullYear(i,0,n),l.setHours(0,0,0,0),Io(l,e)}function LT(s,e){const t=Ft(s,e?.in),n=+Io(t,e)-+DT(t,e);return Math.round(n/Nv)+1}function Ye(s,e){const t=s<0?"-":"",n=Math.abs(s).toString().padStart(e,"0");return t+n}const or={y(s,e){const t=s.getFullYear(),n=t>0?t:1-t;return Ye(e==="yy"?n%100:n,e.length)},M(s,e){const t=s.getMonth();return e==="M"?String(t+1):Ye(t+1,2)},d(s,e){return Ye(s.getDate(),e.length)},a(s,e){const t=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(s,e){return Ye(s.getHours()%12||12,e.length)},H(s,e){return Ye(s.getHours(),e.length)},m(s,e){return Ye(s.getMinutes(),e.length)},s(s,e){return Ye(s.getSeconds(),e.length)},S(s,e){const t=e.length,n=s.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return Ye(i,e.length)}},qi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hx={G:function(s,e,t){const n=s.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(s,e,t){if(e==="yo"){const n=s.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return or.y(s,e)},Y:function(s,e,t,n){const i=Tv(s,n),l=i>0?i:1-i;if(e==="YY"){const c=l%100;return Ye(c,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):Ye(l,e.length)},R:function(s,e){const t=Ev(s);return Ye(t,e.length)},u:function(s,e){const t=s.getFullYear();return Ye(t,e.length)},Q:function(s,e,t){const n=Math.ceil((s.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ye(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(s,e,t){const n=Math.ceil((s.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ye(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(s,e,t){const n=s.getMonth();switch(e){case"M":case"MM":return or.M(s,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(s,e,t){const n=s.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ye(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(s,e,t,n){const i=LT(s,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Ye(i,e.length)},I:function(s,e,t){const n=IT(s);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Ye(n,e.length)},d:function(s,e,t){return e==="do"?t.ordinalNumber(s.getDate(),{unit:"date"}):or.d(s,e)},D:function(s,e,t){const n=RT(s);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Ye(n,e.length)},E:function(s,e,t){const n=s.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(s,e,t,n){const i=s.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ye(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(s,e,t,n){const i=s.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ye(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(s,e,t){const n=s.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Ye(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(s,e,t){const i=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(s,e,t){const n=s.getHours();let i;switch(n===12?i=qi.noon:n===0?i=qi.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(s,e,t){const n=s.getHours();let i;switch(n>=17?i=qi.evening:n>=12?i=qi.afternoon:n>=4?i=qi.morning:i=qi.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(s,e,t){if(e==="ho"){let n=s.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return or.h(s,e)},H:function(s,e,t){return e==="Ho"?t.ordinalNumber(s.getHours(),{unit:"hour"}):or.H(s,e)},K:function(s,e,t){const n=s.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Ye(n,e.length)},k:function(s,e,t){let n=s.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Ye(n,e.length)},m:function(s,e,t){return e==="mo"?t.ordinalNumber(s.getMinutes(),{unit:"minute"}):or.m(s,e)},s:function(s,e,t){return e==="so"?t.ordinalNumber(s.getSeconds(),{unit:"second"}):or.s(s,e)},S:function(s,e){return or.S(s,e)},X:function(s,e,t){const n=s.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return mx(n);case"XXXX":case"XX":return Vr(n);case"XXXXX":case"XXX":default:return Vr(n,":")}},x:function(s,e,t){const n=s.getTimezoneOffset();switch(e){case"x":return mx(n);case"xxxx":case"xx":return Vr(n);case"xxxxx":case"xxx":default:return Vr(n,":")}},O:function(s,e,t){const n=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fx(n,":");case"OOOO":default:return"GMT"+Vr(n,":")}},z:function(s,e,t){const n=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fx(n,":");case"zzzz":default:return"GMT"+Vr(n,":")}},t:function(s,e,t){const n=Math.trunc(+s/1e3);return Ye(n,e.length)},T:function(s,e,t){return Ye(+s,e.length)}};function fx(s,e=""){const t=s>0?"-":"+",n=Math.abs(s),i=Math.trunc(n/60),l=n%60;return l===0?t+String(i):t+String(i)+e+Ye(l,2)}function mx(s,e){return s%60===0?(s>0?"-":"+")+Ye(Math.abs(s)/60,2):Vr(s,e)}function Vr(s,e=""){const t=s>0?"-":"+",n=Math.abs(s),i=Ye(Math.trunc(n/60),2),l=Ye(n%60,2);return t+i+e+l}const gx=(s,e)=>{switch(s){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Pv=(s,e)=>{switch(s){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},FT=(s,e)=>{const t=s.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return gx(s,e);let l;switch(n){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",gx(n,e)).replace("{{time}}",Pv(i,e))},$T={p:Pv,P:FT},zT=/^D+$/,BT=/^Y+$/,UT=["D","DD","YY","YYYY"];function WT(s){return zT.test(s)}function HT(s){return BT.test(s)}function VT(s,e,t){const n=qT(s,e,t);if(console.warn(n),UT.includes(s))throw new RangeError(n)}function qT(s,e,t){const n=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KT=/^'([^]*?)'?$/,JT=/''/g,QT=/[a-zA-Z]/;function vh(s,e,t){const n=Zc(),i=n.locale??OT,l=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=Ft(s,t?.in);if(!KE(d))throw new RangeError("Invalid time value");let h=e.match(YT).map(g=>{const x=g[0];if(x==="p"||x==="P"){const v=$T[x];return v(g,i.formatLong)}return g}).join("").match(GT).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:XT(g)};if(hx[x])return{isToken:!0,value:g};if(x.match(QT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(h=i.localize.preprocessor(d,h));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return h.map(g=>{if(!g.isToken)return g.value;const x=g.value;(HT(x)||WT(x))&&VT(x,e,String(s));const v=hx[x[0]];return v(d,x,i.localize,m)}).join("")}function XT(s){const e=s.match(KT);return e?e[1].replace(JT,"'"):s}function px(s,e){return+Ft(s)==+Ft(e)}function xx(s,e,t){const[n,i]=eu(t?.in,s,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function bh(s,e){return GE(Is(s,s),qE(s))}function ZT(s,e){const t=()=>Is(e?.in,NaN),i=n4(s);let l;if(i.date){const m=r4(i.date,2);l=i4(m.restDateString,m.year)}if(!l||isNaN(+l))return t();const c=+l;let d=0,h;if(i.time&&(d=a4(i.time),isNaN(d)))return t();if(i.timezone){if(h=o4(i.timezone),isNaN(h))return t()}else{const m=new Date(c+d),g=Ft(0,e?.in);return g.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),g.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),g}return Ft(c+d+h,e?.in)}const jc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},e4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,t4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,s4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function n4(s){const e={},t=s.split(jc.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],jc.timeZoneDelimiter.test(e.date)&&(e.date=s.split(jc.timeZoneDelimiter)[0],n=s.substr(e.date.length,s.length))),n){const i=jc.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function r4(s,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=s.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:l===null?i:l*100,restDateString:s.slice((n[1]||n[2]).length)}}function i4(s,e){if(e===null)return new Date(NaN);const t=s.match(e4);if(!t)return new Date(NaN);const n=!!t[4],i=fo(t[1]),l=fo(t[2])-1,c=fo(t[3]),d=fo(t[4]),h=fo(t[5])-1;if(n)return h4(e,d,h)?l4(e,d,h):new Date(NaN);{const m=new Date(0);return!u4(e,l,c)||!d4(e,i)?new Date(NaN):(m.setUTCFullYear(e,l,Math.max(i,c)),m)}}function fo(s){return s?parseInt(s):1}function a4(s){const e=s.match(t4);if(!e)return NaN;const t=wh(e[1]),n=wh(e[2]),i=wh(e[3]);return f4(t,n,i)?t*Cv+n*Sv+i*1e3:NaN}function wh(s){return s&&parseFloat(s.replace(",","."))||0}function o4(s){if(s==="Z")return 0;const e=s.match(s4);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return m4(n,i)?t*(n*Cv+i*Sv):NaN}function l4(s,e,t){const n=new Date(0);n.setUTCFullYear(s,0,4);const i=n.getUTCDay()||7,l=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+l),n}const c4=[31,null,31,30,31,30,31,31,30,31,30,31];function Mv(s){return s%400===0||s%4===0&&s%100!==0}function u4(s,e,t){return e>=0&&e<=11&&t>=1&&t<=(c4[e]||(Mv(s)?29:28))}function d4(s,e){return e>=1&&e<=(Mv(s)?366:365)}function h4(s,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function f4(s,e,t){return s===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&s>=0&&s<25}function m4(s,e){return e>=0&&e<=59}const g4=()=>{const[s,e]=k.useState(new Date),[t,n]=k.useState([]),[i,l]=k.useState(!0),[c,d]=k.useState(null),[h,m]=k.useState(!1),g=k.useRef(!1),x=k.useRef(!0),{supabase:v}=da(),{user:b}=fs(),j=k.useCallback(async()=>{if(!(!b?.id||!x.current||g.current)){g.current=!0,console.log("📅 Fetching calendar tasks for user:",b.id);try{l(!0);const{data:N,error:P}=await v.from("tasks").select("count").limit(1);if(P)throw console.error("❌ Basic connection test failed:",P),new Error(`Database connection failed: ${P.message}`);console.log("✅ Basic connection test passed");const E=new Promise((G,q)=>{setTimeout(()=>q(new Error("Calendar query timeout")),1e4)}),I=v.from("tasks").select(`
          *,
          subtasks (*)
        `).eq("user_id",b.id).eq("is_deleted",!1).order("created_at",{ascending:!1}),{data:L,error:B}=await Promise.race([I,E]);if(B)throw console.error("❌ Query error details:",{message:B.message,details:B.details,hint:B.hint,code:B.code}),B;if(!x.current)return;L&&L.forEach(G=>{G.subtasks&&G.subtasks.sort((q,Z)=>(q.order_index||0)-(Z.order_index||0))}),n(L||[]),m(!0),console.log("✅ Calendar tasks fetched successfully:",L?.length||0)}catch(N){console.error("❌ Error fetching calendar tasks:",N),console.error("❌ Error stack:",N.stack),console.error("❌ User ID:",b.id),console.error("❌ Mounted ref:",x.current),x.current&&n([])}finally{x.current&&l(!1),g.current=!1}}},[b?.id]);k.useEffect(()=>(x.current=!0,()=>{x.current=!1,g.current=!1}),[]),k.useEffect(()=>{b?.id&&!h?(console.log("📅 Initializing calendar for user:",b.id),j()):b?.id||(n([]),l(!1),m(!1))},[b?.id,h,j]),k.useEffect(()=>{b?.id&&h&&(console.log("📅 Month changed, refreshing calendar data"),j())},[s,b?.id,h]);const _=XE({start:ZE(s),end:JE(s)}),S=N=>t.filter(P=>{if(P.due_date)try{return px(ZT(P.due_date),N)}catch{return console.error("Invalid date format for task:",P.id,P.due_date),!1}return bh(N)&&P.status==="open"});return a.jsxs("div",{className:"flex flex-col h-full bg-white",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 flex-shrink-0",children:[a.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Calendar"}),a.jsxs("div",{className:"flex items-center justify-center sm:justify-end gap-2",children:[a.jsx("button",{onClick:()=>e(N=>new Date(N.getFullYear(),N.getMonth()-1)),className:"p-1.5 hover:bg-gray-100 rounded-md touch-manipulation",children:a.jsx(w_,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsx("h2",{className:"text-sm sm:text-base lg:text-lg font-semibold min-w-[100px] sm:min-w-[140px] text-center",children:vh(s,"MMMM yyyy")}),a.jsx("button",{onClick:()=>e(N=>new Date(N.getFullYear(),N.getMonth()+1)),className:"p-1.5 hover:bg-gray-100 rounded-md touch-manipulation",children:a.jsx(j_,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),i?a.jsx("div",{className:"flex items-center justify-center flex-1",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 flex-1 overflow-hidden",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200 flex flex-col h-[450px] sm:h-[500px] lg:h-full overflow-hidden",children:[a.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200 bg-gray-50 flex-shrink-0",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(N=>a.jsxs("div",{className:"px-1 sm:px-2 py-2 sm:py-3 text-center border-r last:border-r-0 border-gray-200",children:[a.jsx("span",{className:"text-[10px] sm:text-xs lg:text-sm font-semibold text-gray-700 hidden sm:inline",children:N}),a.jsx("span",{className:"text-[10px] font-semibold text-gray-700 sm:hidden",children:N.substring(0,3)})]},N))}),a.jsx("div",{className:"grid grid-cols-7 flex-1 overflow-hidden auto-rows-fr",children:_.map((N,P)=>{const E=S(N),I=c&&px(N,c);return a.jsx("div",{className:`border-r border-b last:border-r-0 border-gray-200 p-1 sm:p-2 cursor-pointer transition-all hover:bg-gray-50 ${xx(N,s)?"bg-white":"bg-gray-50/50"} ${bh(N)?"bg-blue-50/70":""} ${I?"bg-blue-100 ring-1 ring-inset ring-blue-500":""}`,onClick:()=>d(N),children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"flex items-start justify-between mb-1",children:a.jsx("span",{className:`text-xs sm:text-sm lg:text-base font-medium ${bh(N)?"text-white bg-blue-600 rounded-full w-6 h-6 sm:w-7 sm:h-7 flex items-center justify-center":xx(N,s)?"text-gray-900":"text-gray-400"}`,children:vh(N,"d")})}),a.jsx("div",{className:"flex-1 overflow-hidden",children:E.length>0&&a.jsxs("div",{className:"space-y-0.5",children:[E.slice(0,3).map((L,B)=>a.jsx("div",{className:`text-[8px] sm:text-[10px] lg:text-xs px-1 py-0.5 rounded truncate ${L.priority==="high"?"bg-red-100 text-red-700 border-l-2 border-red-500":L.priority==="medium"?"bg-yellow-100 text-yellow-700 border-l-2 border-yellow-500":"bg-green-100 text-green-700 border-l-2 border-green-500"}`,children:L.title},L.id)),E.length>3&&a.jsxs("div",{className:"text-[8px] sm:text-[10px] text-gray-500 px-1",children:["+",E.length-3," more"]})]})})]})},N.toString())})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 flex flex-col h-[450px] lg:h-full overflow-hidden",children:[a.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-200 bg-gray-50",children:a.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-semibold text-gray-900",children:c?vh(c,"EEEE, MMMM d"):"Task Details"})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4",children:c?S(c).length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx("svg",{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),a.jsx("p",{className:"text-gray-500 text-sm sm:text-base font-medium",children:"No tasks scheduled"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm mt-1",children:"Add tasks for this date"})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:S(c).map(N=>a.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border-l-4 ${N.priority==="high"?"bg-red-50 border-red-500":N.priority==="medium"?"bg-yellow-50 border-yellow-500":"bg-green-50 border-green-500"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-semibold text-sm sm:text-base text-gray-900",children:N.title}),a.jsx("span",{className:`text-[10px] sm:text-xs px-2 py-1 rounded-full font-medium ${N.priority==="high"?"bg-red-200 text-red-800":N.priority==="medium"?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"}`,children:N.priority})]}),N.description&&a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:N.description}),N.subtasks&&N.subtasks.length>0&&a.jsxs("div",{className:"space-y-1 mt-2 pt-2 border-t border-gray-200",children:[a.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-gray-700 mb-1",children:"Subtasks:"}),N.subtasks.map(P=>a.jsx("div",{className:`text-xs sm:text-sm ${P.status==="completed"?"line-through opacity-60":""}`,children:a.jsx("span",{children:P.title})},P.id))]})]},N.id))}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx("svg",{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-gray-500 text-sm sm:text-base font-medium",children:"Select a date"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm mt-1",children:"Click on any date to view tasks"})]})})]})]})]})};var yx;(function(s){s.STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object"})(yx||(yx={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vx;(function(s){s.LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python"})(vx||(vx={}));var bx;(function(s){s.OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(bx||(bx={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=["user","model","function","system"];var jx;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(jx||(jx={}));var kx;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(kx||(kx={}));var _x;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(_x||(_x={}));var Nx;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER"})(Nx||(Nx={}));var Co;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.OTHER="OTHER"})(Co||(Co={}));var Sx;(function(s){s.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",s.RETRIEVAL_QUERY="RETRIEVAL_QUERY",s.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",s.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",s.CLASSIFICATION="CLASSIFICATION",s.CLUSTERING="CLUSTERING"})(Sx||(Sx={}));var Cx;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(Cx||(Cx={}));var Ex;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(Ex||(Ex={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Gi extends Gt{constructor(e,t){super(e),this.response=t}}class Av extends Gt{constructor(e,t,n,i){super(e),this.status=t,this.statusText=n,this.errorDetails=i}}class pr extends Gt{}class Ov extends Gt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="https://generativelanguage.googleapis.com",x4="v1beta",y4="0.24.1",v4="genai-js";var Qr;(function(s){s.GENERATE_CONTENT="generateContent",s.STREAM_GENERATE_CONTENT="streamGenerateContent",s.COUNT_TOKENS="countTokens",s.EMBED_CONTENT="embedContent",s.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Qr||(Qr={}));class b4{constructor(e,t,n,i,l){this.model=e,this.task=t,this.apiKey=n,this.stream=i,this.requestOptions=l}toString(){var e,t;const n=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||x4;let l=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||p4}/${n}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function w4(s){const e=[];return s?.apiClient&&e.push(s.apiClient),e.push(`${v4}/${y4}`),e.join(" ")}async function j4(s){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",w4(s.requestOptions)),t.append("x-goog-api-key",s.apiKey);let n=(e=s.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(i){throw new pr(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${i.message}`)}for(const[i,l]of n.entries()){if(i==="x-goog-api-key")throw new pr(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new pr(`Header name ${i} can only be set using the apiClient field`);t.append(i,l)}}return t}async function k4(s,e,t,n,i,l){const c=new b4(s,e,t,n,l);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},C4(l)),{method:"POST",headers:await j4(c),body:i})}}async function Ho(s,e,t,n,i,l={},c=fetch){const{url:d,fetchOptions:h}=await k4(s,e,t,n,i,l);return _4(d,h,c)}async function _4(s,e,t=fetch){let n;try{n=await t(s,e)}catch(i){N4(i,s)}return n.ok||await S4(n,s),n}function N4(s,e){let t=s;throw t.name==="AbortError"?(t=new Ov(`Request aborted when fetching ${e.toString()}: ${s.message}`),t.stack=s.stack):s instanceof Av||s instanceof pr||(t=new Gt(`Error fetching from ${e.toString()}: ${s.message}`),t.stack=s.stack),t}async function S4(s,e){let t="",n;try{const i=await s.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,n=i.error.details)}catch{}throw new Av(`Error fetching from ${e.toString()}: [${s.status} ${s.statusText}] ${t}`,s.status,s.statusText,n)}function C4(s){const e={};if(s?.signal!==void 0||s?.timeout>=0){const t=new AbortController;s?.timeout>=0&&setTimeout(()=>t.abort(),s.timeout),s?.signal&&s.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(s){return s.text=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Tc(s.candidates[0]))throw new Gi(`${ur(s)}`,s);return E4(s)}else if(s.promptFeedback)throw new Gi(`Text not available. ${ur(s)}`,s);return""},s.functionCall=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Tc(s.candidates[0]))throw new Gi(`${ur(s)}`,s);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Tx(s)[0]}else if(s.promptFeedback)throw new Gi(`Function call not available. ${ur(s)}`,s)},s.functionCalls=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Tc(s.candidates[0]))throw new Gi(`${ur(s)}`,s);return Tx(s)}else if(s.promptFeedback)throw new Gi(`Function call not available. ${ur(s)}`,s)},s}function E4(s){var e,t,n,i;const l=[];if(!((t=(e=s.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const c of(i=(n=s.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)c.text&&l.push(c.text),c.executableCode&&l.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&l.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function Tx(s){var e,t,n,i;const l=[];if(!((t=(e=s.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const c of(i=(n=s.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)c.functionCall&&l.push(c.functionCall);if(l.length>0)return l}const T4=[Co.RECITATION,Co.SAFETY,Co.LANGUAGE];function Tc(s){return!!s.finishReason&&T4.includes(s.finishReason)}function ur(s){var e,t,n;let i="";if((!s.candidates||s.candidates.length===0)&&s.promptFeedback)i+="Response was blocked",!((e=s.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${s.promptFeedback.blockReason}`),!((t=s.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${s.promptFeedback.blockReasonMessage}`);else if(!((n=s.candidates)===null||n===void 0)&&n[0]){const l=s.candidates[0];Tc(l)&&(i+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(i+=`: ${l.finishMessage}`))}return i}function Do(s){return this instanceof Do?(this.v=s,this):new Do(s)}function P4(s,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(s,e||[]),i,l=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(v){n[v]&&(i[v]=function(b){return new Promise(function(j,_){l.push([v,b,j,_])>1||d(v,b)})})}function d(v,b){try{h(n[v](b))}catch(j){x(l[0][3],j)}}function h(v){v.value instanceof Do?Promise.resolve(v.value.v).then(m,g):x(l[0][2],v)}function m(v){d("next",v)}function g(v){d("throw",v)}function x(v,b){v(b),l.shift(),l.length&&d(l[0][0],l[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function M4(s){const e=s.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=R4(e),[n,i]=t.tee();return{stream:O4(n),response:A4(i)}}async function A4(s){const e=[],t=s.getReader();for(;;){const{done:n,value:i}=await t.read();if(n)return Nf(I4(e));e.push(i)}}function O4(s){return P4(this,arguments,function*(){const t=s.getReader();for(;;){const{value:n,done:i}=yield Do(t.read());if(i)break;yield yield Do(Nf(n))}})}function R4(s){const e=s.getReader();return new ReadableStream({start(n){let i="";return l();function l(){return e.read().then(({value:c,done:d})=>{if(d){if(i.trim()){n.error(new Gt("Failed to parse stream"));return}n.close();return}i+=c;let h=i.match(Px),m;for(;h;){try{m=JSON.parse(h[1])}catch{n.error(new Gt(`Error parsing JSON response: "${h[1]}"`));return}n.enqueue(m),i=i.substring(h[0].length),h=i.match(Px)}return l()}).catch(c=>{let d=c;throw d.stack=c.stack,d.name==="AbortError"?d=new Ov("Request aborted when reading from the stream"):d=new Gt("Error reading from the stream"),d})}}})}function I4(s){const e=s[s.length-1],t={promptFeedback:e?.promptFeedback};for(const n of s){if(n.candidates){let i=0;for(const l of n.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=l.citationMetadata,t.candidates[i].groundingMetadata=l.groundingMetadata,t.candidates[i].finishReason=l.finishReason,t.candidates[i].finishMessage=l.finishMessage,t.candidates[i].safetyRatings=l.safetyRatings,l.content&&l.content.parts){t.candidates[i].content||(t.candidates[i].content={role:l.content.role||"user",parts:[]});const c={};for(const d of l.content.parts)d.text&&(c.text=d.text),d.functionCall&&(c.functionCall=d.functionCall),d.executableCode&&(c.executableCode=d.executableCode),d.codeExecutionResult&&(c.codeExecutionResult=d.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),t.candidates[i].content.parts.push(c)}i++}n.usageMetadata&&(t.usageMetadata=n.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(s,e,t,n){const i=await Ho(e,Qr.STREAM_GENERATE_CONTENT,s,!0,JSON.stringify(t),n);return M4(i)}async function Iv(s,e,t,n){const l=await(await Ho(e,Qr.GENERATE_CONTENT,s,!1,JSON.stringify(t),n)).json();return{response:Nf(l)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(s){if(s!=null){if(typeof s=="string")return{role:"system",parts:[{text:s}]};if(s.text)return{role:"system",parts:[s]};if(s.parts)return s.role?s:{role:"system",parts:s.parts}}}function Lo(s){let e=[];if(typeof s=="string")e=[{text:s}];else for(const t of s)typeof t=="string"?e.push({text:t}):e.push(t);return D4(e)}function D4(s){const e={role:"user",parts:[]},t={role:"function",parts:[]};let n=!1,i=!1;for(const l of s)"functionResponse"in l?(t.parts.push(l),i=!0):(e.parts.push(l),n=!0);if(n&&i)throw new Gt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!i)throw new Gt("No content is provided for sending chat message.");return n?e:t}function L4(s,e){var t;let n={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(t=e?.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=s.generateContentRequest!=null;if(s.contents){if(i)throw new pr("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=s.contents}else if(i)n=Object.assign(Object.assign({},n),s.generateContentRequest);else{const l=Lo(s);n.contents=[l]}return{generateContentRequest:n}}function Mx(s){let e;return s.contents?e=s:e={contents:[Lo(s)]},s.systemInstruction&&(e.systemInstruction=Dv(s.systemInstruction)),e}function F4(s){return typeof s=="string"||Array.isArray(s)?{content:Lo(s)}:s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],$4={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function z4(s){let e=!1;for(const t of s){const{role:n,parts:i}=t;if(!e&&n!=="user")throw new Gt(`First content should be with role 'user', got ${n}`);if(!wx.includes(n))throw new Gt(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(wx)}`);if(!Array.isArray(i))throw new Gt("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Gt("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of i)for(const h of Ax)h in d&&(l[h]+=1);const c=$4[n];for(const d of Ax)if(!c.includes(d)&&l[d]>0)throw new Gt(`Content with role '${n}' can't contain '${d}' part`);e=!0}}function Ox(s){var e;if(s.candidates===void 0||s.candidates.length===0)return!1;const t=(e=s.candidates[0])===null||e===void 0?void 0:e.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const n of t.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="SILENT_ERROR";class B4{constructor(e,t,n,i={}){this.model=t,this.params=n,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,n?.history&&(z4(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var n,i,l,c,d,h;await this._sendPromise;const m=Lo(e),g={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,m]},x=Object.assign(Object.assign({},this._requestOptions),t);let v;return this._sendPromise=this._sendPromise.then(()=>Iv(this._apiKey,this.model,g,x)).then(b=>{var j;if(Ox(b.response)){this._history.push(m);const _=Object.assign({parts:[],role:"model"},(j=b.response.candidates)===null||j===void 0?void 0:j[0].content);this._history.push(_)}else{const _=ur(b.response);_&&console.warn(`sendMessage() was unsuccessful. ${_}. Inspect response object for details.`)}v=b}).catch(b=>{throw this._sendPromise=Promise.resolve(),b}),await this._sendPromise,v}async sendMessageStream(e,t={}){var n,i,l,c,d,h;await this._sendPromise;const m=Lo(e),g={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,m]},x=Object.assign(Object.assign({},this._requestOptions),t),v=Rv(this._apiKey,this.model,g,x);return this._sendPromise=this._sendPromise.then(()=>v).catch(b=>{throw new Error(Rx)}).then(b=>b.response).then(b=>{if(Ox(b)){this._history.push(m);const j=Object.assign({},b.candidates[0].content);j.role||(j.role="model"),this._history.push(j)}else{const j=ur(b);j&&console.warn(`sendMessageStream() was unsuccessful. ${j}. Inspect response object for details.`)}}).catch(b=>{b.message!==Rx&&console.error(b)}),v}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(s,e,t,n){return(await Ho(e,Qr.COUNT_TOKENS,s,!1,JSON.stringify(t),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(s,e,t,n){return(await Ho(e,Qr.EMBED_CONTENT,s,!1,JSON.stringify(t),n)).json()}async function H4(s,e,t,n){const i=t.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await Ho(e,Qr.BATCH_EMBED_CONTENTS,s,!1,JSON.stringify({requests:i}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t,n={}){this.apiKey=e,this._requestOptions=n,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=Dv(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var n;const i=Mx(e),l=Object.assign(Object.assign({},this._requestOptions),t);return Iv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},i),l)}async generateContentStream(e,t={}){var n;const i=Mx(e),l=Object.assign(Object.assign({},this._requestOptions),t);return Rv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},i),l)}startChat(e){var t;return new B4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const n=L4(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return U4(this.apiKey,this.model,n,i)}async embedContent(e,t={}){const n=F4(e),i=Object.assign(Object.assign({},this._requestOptions),t);return W4(this.apiKey,this.model,n,i)}async batchEmbedContents(e,t={}){const n=Object.assign(Object.assign({},this._requestOptions),t);return H4(this.apiKey,this.model,e,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new Gt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Ix(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,n){if(!e.name)throw new pr("Cached content must contain a `name` field.");if(!e.model)throw new pr("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const c of i)if(t?.[c]&&e[c]&&t?.[c]!==e[c]){if(c==="model"){const d=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,h=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(d===h)continue}throw new pr(`Different value for "${c}" specified in modelParams (${t[c]}) and cachedContent (${e[c]})`)}const l=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Ix(this.apiKey,l,n)}}const Lv=new V4("AIzaSyCMK5x_SXmK6mZi1riF6zixKH0rUypNoPU");async function q4(s){try{const i=(await Lv.getGenerativeModel({model:"gemini-1.5-flash-8b",generationConfig:{temperature:.3,topK:20,topP:.8,maxOutputTokens:100}}).generateContent(`Task: "${s}"
      
Analyze this task and determine the optimal number of steps (between 1-10) needed to complete it effectively.
Consider:
- Task complexity
- Logical breakdown requirements
- Practical implementation steps

Return ONLY a single number between 1 and 10, nothing else.`)).response.text().trim(),l=parseInt(i);return isNaN(l)||l<1||l>10?3:l}catch(e){return console.error("Error determining optimal steps:",e),3}}async function G4(s,e){try{const l=(await Lv.getGenerativeModel({model:"gemini-1.5-flash-8b",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}}).generateContent(`Task: "${s}"
Instructions: Break this task into ${e} ordered steps, starting with step 1 and ending with step ${e}.
Rules:
1. Steps must be in logical chronological order
2. Each step must start with the step number followed by a period and space (e.g. "1. First step")
3. Steps must be sequential and dependent on previous steps
4. Return only a JSON array of strings

Example format for 3 steps:
["1. First step that needs to be done", "2. Second step after the first", "3. Final step to complete the task"]`)).response.text().trim();try{const c=JSON.parse(l);if(!Array.isArray(c))throw new Error("Response is not an array");if(c.length!==e)throw new Error(`Expected ${e} subtasks but got ${c.length}`);if(!c.every(d=>typeof d=="string"))throw new Error("All subtasks must be strings");return c}catch{const d=l.match(/\[[\s\S]*\]/);if(!d)throw new Error("Could not find JSON array in response");const h=JSON.parse(d[0]);if(!Array.isArray(h)||h.length!==e)throw new Error(`Expected ${e} subtasks but got ${h.length}`);if(!h.every(m=>typeof m=="string"))throw new Error("All subtasks must be strings");return h}}catch(t){throw console.error("Error generating subtasks:",t),t instanceof Error?t.message.includes("404")&&t.message.includes("models/")?new Error("Invalid Gemini model configuration. Please check the model name and API version."):t.message.includes("500")?new Error("Gemini API server error. Please try again later or check your API key configuration."):t.message.includes("401")||t.message.includes("403")?new Error("Invalid or unauthorized API key. Please check your API key configuration."):new Error(t.message):new Error("Failed to generate subtasks. Please try again later.")}}const Dx=()=>{const[s,e]=k.useState(""),[t,n]=k.useState("ai-decide"),[i,l]=k.useState(!1),[c,d]=k.useState(null),[h,m]=k.useState(null),[g,x]=k.useState([]),[v,b]=k.useState(!1),[j,_]=k.useState(!1),[S,N]=k.useState(!1),[P,E]=k.useState(!1),[I,L]=k.useState({}),{supabase:B}=da(),{user:G}=fs(),q=yr(),Z=qe.useRef(null),re=qe.useRef(null);qe.useEffect(()=>{c&&d(null),h&&m(null)},[s]),qe.useEffect(()=>{v&&c&&d(null)},[v,g]),qe.useEffect(()=>{Z.current?.focus()},[]),qe.useEffect(()=>{const A=C=>{C.key==="Escape"&&(_(!1),N(!1),E(!1))};return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[]);const K=A=>{n(A),E(!1)},ie=()=>{_(!1),N(!0)},Y=()=>{j||S?(_(!1),N(!1),E(!1)):_(!0)},ae=()=>{E(!P)},Q=async(A,C=[])=>{if(G){console.log("Creating task:",{title:A,subtasks:C,userId:G.id});try{const{data:$,error:se}=await B.from("tasks").insert({user_id:G.id,title:A,status:"open",priority:"medium",is_deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(se)throw se;if(console.log("Task created successfully:",$),C.length>0){const oe=C.map((ke,je)=>({task_id:$.id,title:ke,status:"open",order_index:je+1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})),{error:be}=await B.from("subtasks").insert(oe).select();if(be)throw be}return e(""),m(`Task "${A}" created successfully${C.length?" with "+C.length+" subtasks":""}`),setTimeout(()=>{q("/app/tasks",{state:{newTaskId:$.id,showDateModal:!0}})},500),$}catch($){throw console.error("Error creating task:",$),$}}},ce=async()=>{if(s.trim()){l(!0);try{let A;t==="ai-decide"?A=await q4(s):A=t;const C=await G4(s,A);d(null),x(C.map($=>({title:$,selected:!0}))),b(!0)}catch(A){console.error("Error breaking down task:",A),d(A instanceof Error?A.message:"Failed to break down task")}finally{l(!1)}}},R=A=>{x(C=>C.map(($,se)=>se===A?{...$,selected:!$.selected}:$))},M=A=>A.every($=>/^\d+\.\s/.test($))?A.map(($,se)=>{const oe=$.replace(/^\d+\.\s*/,"");return`${se+1}. ${oe}`}):A,W=async()=>{if(s.trim()){l(!0);try{if(d(null),v&&g.length>0){const A=g.filter($=>$.selected).map($=>$.title),C=M(A);await Q(s,C),b(!1),x([]),e(""),m("Task created successfully!")}else await ce()}catch(A){console.error("Error adding task:",A),d(A instanceof Error?A.message:"Failed to create task")}finally{l(!1)}}};return a.jsx("div",{className:"space-y-3 sm:space-y-4 bg-white min-h-full",children:a.jsx("div",{className:"flex flex-col items-center justify-center text-center px-4 sm:px-6 min-h-[70vh] py-8",children:a.jsxs("div",{className:"w-full max-w-4xl",children:[a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-medium text-gray-900 mb-8 sm:mb-12",children:"Create your task."}),c&&a.jsx("div",{className:"mt-4 p-3 sm:p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg max-w-md w-full",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[a.jsx("span",{className:"text-sm font-medium",children:c}),c.includes("AI")||c.includes("generate")||c.includes("Gemini")?a.jsx("button",{onClick:()=>{d(null),ce()},disabled:i,className:"px-2 py-1 text-xs bg-red-100 hover:bg-red-200 text-red-700 rounded border border-red-300 disabled:opacity-50 transition-colors",children:"Retry"}):null]})}),h&&a.jsx("div",{className:"mt-4 p-3 sm:p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg max-w-md w-full",children:a.jsx("span",{className:"text-sm font-medium",children:h})}),a.jsxs("div",{className:"w-full max-w-2xl mx-auto relative",children:[a.jsxs("div",{className:`bg-white border border-gray-200 transition-all duration-600 ease-in-out ${S?"shadow-sm":"shadow-sm focus-within:shadow-lg"}`,style:{borderRadius:S?"1rem":"2rem",transition:"all 0.6s cubic-bezier(0.4, 0, 0.2, 1), border-radius 0.6s cubic-bezier(0.4, 0, 0.2, 1)"},children:[a.jsxs("form",{className:"p-2 flex items-center gap-3",onSubmit:A=>{A.preventDefault(),W()},children:[a.jsx("div",{className:"flex items-center gap-3 flex-shrink-0 text-gray-500 pl-2",children:a.jsx("button",{type:"button",onClick:Y,className:`border-0 bg-white text-gray-600 p-2 rounded-full cursor-pointer leading-none transition-all duration-400 ease-in-out hover:bg-blue-50 hover:text-blue-600 hover:shadow-sm ${j||S?"transform rotate-45":""}`,title:"Options",children:a.jsx(Pn,{className:"w-4 h-4 transition-transform duration-400 ease-in-out"})})}),a.jsx("input",{ref:Z,className:"appearance-none border-0 outline-0 py-1.5 flex-1 text-sm bg-transparent text-gray-900 placeholder-gray-400",type:"text",placeholder:"Describe your task...",value:s,onChange:A=>e(A.target.value),onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),W())}}),a.jsxs("button",{type:"submit",disabled:i||!s.trim(),className:"flex-shrink-0 border-0 rounded-full py-2 px-2.5 bg-blue-500 text-white cursor-pointer leading-none transition-all duration-150 hover:brightness-105 active:translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:brightness-100 disabled:active:translate-y-0 mr-1",title:"Create Task",children:[a.jsx("span",{className:"sr-only",children:"Create Task"}),i?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):a.jsx(Qi,{className:"w-4 h-4"})]})]}),a.jsx("div",{className:`transition-all duration-600 cubic-bezier(0.4, 0, 0.2, 1) ${S?"max-h-24 opacity-100":"max-h-0 opacity-0"}`,style:{overflow:P?"visible":"hidden"},children:a.jsx("div",{className:"px-4 py-3 relative",style:{transform:S?"translateY(0)":"translateY(-10px)",transition:"transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1)"},children:a.jsx("div",{className:"flex items-center justify-start",children:a.jsxs("div",{className:"relative inline-block",children:[a.jsx("button",{type:"button",onClick:ae,className:`px-4 py-2 text-sm font-medium rounded-full border transition-all duration-300 ${t==="ai-decide"?"bg-purple-500 text-white border-purple-500":typeof t=="number"?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-500 border-gray-300 hover:bg-gray-100"}`,children:t==="ai-decide"?"AI will Decide":`${t} Steps`}),P&&a.jsxs("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 bg-gray-50 border border-gray-200 rounded-xl shadow-lg p-3 z-[60] animate-in slide-in-from-left-2 duration-300 w-48 sm:w-56",children:[a.jsx("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-white border-l border-t border-gray-200 transform rotate-45"}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("button",{type:"button",onClick:()=>K("ai-decide"),className:`px-3 py-2 text-xs sm:text-sm font-medium rounded-lg transition-all duration-300 text-left ${t==="ai-decide"?"bg-purple-500 text-white shadow-sm":"bg-gray-50 text-purple-500 hover:bg-purple-500 hover:text-white hover:shadow-sm"}`,children:"✨ Let AI Decide"}),[2,3,4,5,6,7,8,9,10].map(A=>a.jsxs("button",{type:"button",onClick:()=>K(A),className:`px-3 py-2 text-xs sm:text-sm font-medium rounded-lg transition-all duration-300 text-left ${t===A?"bg-blue-500 text-white shadow-sm":"bg-gray-50 text-blue-500 hover:bg-blue-500 hover:text-white hover:shadow-sm"}`,children:[A," Steps"]},A))]})]})]})})})})]}),j&&!S&&a.jsxs("div",{className:"absolute left-6 top-full mt-1 z-50 animate-in slide-in-from-top-2 duration-300",children:[a.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-white border-l border-t border-gray-200 transform rotate-45"}),a.jsx("button",{type:"button",onClick:ie,className:"px-4 py-2 text-sm font-medium text-blue-600 bg-white border border-blue-500 rounded-lg hover:bg-blue-50 transition-all duration-300 shadow-sm whitespace-nowrap",children:"AI Breakdown Steps"})]})]}),v&&g.length>0&&a.jsx("div",{className:"mt-8 w-full max-w-[95%] sm:max-w-6xl mx-auto px-2 sm:px-4",children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Generated Task Steps"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Review and customize your AI-generated task breakdown"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsxs("span",{children:[g.filter(A=>A.selected).length," of ",g.length," selected"]})]}),a.jsx("button",{onClick:()=>{const A=g.every(C=>C.selected);x(C=>C.map($=>({...$,selected:!A})))},className:"text-sm font-medium text-blue-600 hover:text-blue-700 px-3 py-2 hover:bg-blue-50 rounded-lg transition-colors ml-4",children:g.every(A=>A.selected)?"Deselect All":"Select All"})]})]})}),a.jsxs("div",{className:"relative",style:{height:"clamp(400px, 50vh, 500px)"},children:[a.jsx("div",{ref:re,className:"h-full overflow-y-auto overflow-x-hidden px-6 py-4 scroll-smooth",style:{scrollbarWidth:"thin",scrollbarColor:"#cbd5e1 transparent"},children:a.jsx("div",{className:"space-y-3 pb-8",children:g.map((A,C)=>a.jsx("div",{id:`step-${C}`,className:`group rounded-xl border will-change-transform ${A.selected?"border-blue-200 bg-blue-50/60 shadow-sm":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"}`,children:a.jsxs("label",{className:"flex items-center gap-4 p-4 sm:p-5 cursor-pointer touch-manipulation",onClick:$=>{$.preventDefault(),$.stopPropagation(),R(C)},children:[a.jsxs("div",{className:"flex-shrink-0",children:[a.jsx("input",{type:"checkbox",checked:A.selected,onChange:$=>{$.stopPropagation(),R(C)},className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transform-gpu ${A.selected?"bg-blue-600 border-blue-600":"border-gray-300 group-hover:border-blue-400"}`,children:A.selected&&a.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("span",{className:`block text-base leading-relaxed ${A.selected?"text-blue-900 font-medium":"text-gray-700 group-hover:text-gray-900"}`,children:A.title})}),a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transform-gpu ${A.selected?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500 group-hover:bg-gray-200"}`,children:C+1})]})},C))})}),a.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 bg-gradient-to-b from-white via-white/80 to-transparent pointer-events-none"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-white via-white/80 to-transparent pointer-events-none"})]}),a.jsx("div",{className:"px-6 py-5 bg-gray-50/50 border-t border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-end",children:[a.jsx("button",{type:"button",onClick:()=>{b(!1),x([])},className:"px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:"Cancel"}),a.jsx("button",{type:"button",onClick:W,disabled:i||!g.some(A=>A.selected),className:"px-8 py-3 text-sm font-semibold text-white bg-blue-600 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-200 shadow-sm",children:i?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Creating Task..."]}):`Create Task with ${g.filter(A=>A.selected).length} Steps`})]})})]})})]})})})},Y4=({isOpen:s,onClose:e,title:t,message:n,type:i="info",confirmText:l="OK",cancelText:c="Cancel",onConfirm:d,showCancel:h=!1})=>{if(!s)return null;const m=()=>{d&&d(),e()},g=()=>{switch(i){case"success":return a.jsx(Ms,{className:"w-6 h-6 text-green-600"});case"error":return a.jsx(p_,{className:"w-6 h-6 text-red-600"});case"warning":return a.jsx(Oc,{className:"w-6 h-6 text-yellow-600"});default:return a.jsx(E_,{className:"w-6 h-6 text-blue-600"})}},v=(()=>{switch(i){case"success":return{bg:"bg-green-50",border:"border-green-200",button:"bg-green-600 hover:bg-green-700 focus:ring-green-500"};case"error":return{bg:"bg-red-50",border:"border-red-200",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500"};case"warning":return{bg:"bg-yellow-50",border:"border-yellow-200",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"};default:return{bg:"bg-blue-50",border:"border-blue-200",button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}}})();return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-in slide-in-from-bottom-2 duration-300",children:[a.jsx("div",{className:`p-6 ${v.bg} ${v.border} border-b rounded-t-xl`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[g(),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),a.jsx("button",{onClick:e,className:"p-1 hover:bg-white/50 rounded-lg transition-colors",children:a.jsx(bs,{className:"w-5 h-5 text-gray-500"})})]})}),a.jsx("div",{className:"p-6",children:a.jsx("p",{className:"text-gray-700 leading-relaxed",children:n})}),a.jsxs("div",{className:"p-6 pt-0 flex gap-3 justify-end",children:[h&&a.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-200",children:c}),a.jsx("button",{onClick:m,className:`px-4 py-2 text-white rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${v.button}`,children:l})]})]})})},K4=()=>{const{user:s}=fs(),[e,t]=k.useState(""),[n,i]=k.useState(""),[l,c]=k.useState(!1),[d,h]=k.useState(null),[m,g]=k.useState(!1),[x,v]=k.useState([]),[b,j]=k.useState(!1),[_,S]=k.useState({isOpen:!1,title:"",message:"",type:"info"}),N=(Y,ae,Q="info",ce=!1,R)=>{S({isOpen:!0,title:Y,message:ae,type:Q,showCancel:ce,onConfirm:R})},P=()=>{S(Y=>({...Y,isOpen:!1}))};k.useEffect(()=>{s&&(E(),G())},[s]);const E=async()=>{if(s)try{const{data:Y,error:ae}=await Ue.from("team_invites").select("*").eq("created_by",s.id).order("created_at",{ascending:!1}).limit(1);if(ae)throw ae;if(Y&&Y.length>0){const Q=Y[0];h(Q),new Date(Q.expires_at)>new Date?t(Q.code):t("")}}catch(Y){console.error("Error checking existing invite:",Y)}},I=()=>{const Y="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let ae="";for(let Q=0;Q<6;Q++)ae+=Y.charAt(Math.floor(Math.random()*Y.length));return ae},L=async()=>{if(s){g(!0);try{const Y=I(),ae=new Date;ae.setDate(ae.getDate()+15);const{data:Q,error:ce}=await Ue.from("team_invites").insert({code:Y,created_by:s.id,expires_at:ae.toISOString()}).select().single();if(ce)throw ce;const R=x.length>0;if(R){const{error:W}=await Ue.from("team_members").update({team_invite_id:Q.id}).eq("admin_id",s.id);W&&console.warn("Failed to update existing team members:",W)}else{const{error:W}=await Ue.from("team_members").insert({user_id:s.id,team_invite_id:Q.id,admin_id:s.id});W&&console.warn("Admin auto-join failed:",W)}t(Y),h(Q),await G();const M=R?"New invite code generated for existing team!":"Team invite code generated successfully!";N("Success",M,"success"),console.log(M)}catch(Y){console.error("Error generating invite code:",Y),N("Error","Failed to generate invite code. Please try again.","error")}finally{g(!1)}}},B=async Y=>{try{await navigator.clipboard.writeText(Y),c(!0),setTimeout(()=>c(!1),2e3)}catch{const Q=document.createElement("textarea");Q.value=Y,document.body.appendChild(Q),Q.select(),document.execCommand("copy"),document.body.removeChild(Q),c(!0),setTimeout(()=>c(!1),2e3)}},G=async()=>{if(s)try{j(!0);const{data:Y,error:ae}=await Ue.from("team_members").select("*").eq("admin_id",s.id);if(ae)throw ae;if(Y&&Y.length>0){const Q=Y.map(M=>M.user_id),{data:ce,error:R}=await Ue.from("profiles").select("id, email, name").in("id",Q);if(R)console.warn("Could not load profiles:",R),v(Y.map(M=>({...M,profiles:null})));else{const M=Y.map(W=>{const A=ce.find(C=>C.id===W.user_id);return{...W,profiles:A||null}});v(M)}}else v([])}catch(Y){console.error("Error loading team members:",Y),v([])}finally{j(!1)}},q=async(Y,ae)=>{if(ae===s?.id){N("Not Allowed","You cannot remove yourself from the team.","warning");return}N("Confirm Removal","Are you sure you want to remove this team member?","warning",!0,async()=>{await Z(Y)})},Z=async(Y,ae)=>{try{const{error:Q}=await Ue.from("team_members").delete().eq("id",Y).eq("admin_id",s?.id);if(Q)throw Q;await G(),N("Success","Team member removed successfully","success")}catch(Q){console.error("Error removing team member:",Q),N("Error","Failed to remove team member","error")}},re=async()=>{if(n.length!==6){N("Invalid Code","Please enter a 6-digit team code.","warning");return}if(!s){N("Authentication Required","You must be logged in to join a team.","warning");return}try{console.log("Attempting to join team with code:",n);const{data:Y,error:ae}=await Ue.from("team_invites").select("*").eq("code",n.toUpperCase()).single();if(ae){console.error("Invite lookup error:",ae),ae.code==="PGRST116"?N("Invalid Code","Invalid team code. Please check the code and try again.","error"):N("Lookup Error","Error looking up team code. Please try again.","error");return}if(!Y){N("Invalid Code","Invalid team code. Please check the code and try again.","error");return}if(console.log("Found invite:",Y),new Date(Y.expires_at)<=new Date){N("Expired Code","This team code has expired. Please ask the team admin to generate a new code.","warning");return}const{data:Q}=await Ue.from("team_members").select("*").eq("user_id",s.id).eq("admin_id",Y.created_by).single();if(Q){N("Already a Member","You are already a member of this team.","info"),i("");return}if(Y.created_by===s.id){N("Invalid Action","You cannot join your own team using an invite code.","warning"),i("");return}console.log("Adding user to team...");const{error:ce}=await Ue.from("team_members").insert({user_id:s.id,team_invite_id:Y.id,admin_id:Y.created_by});if(ce)throw console.error("Member insert error:",ce),ce;N("Success!","Successfully joined the team!","success"),i(""),console.log("Successfully joined team")}catch(Y){console.error("Error joining team:",Y),N("Join Failed",`Failed to join team: ${Y.message||"Please try again."}`,"error")}},K=d&&new Date(d.expires_at)>new Date,ie=x.length>0;return a.jsxs("div",{className:"space-y-3 sm:space-y-4 bg-white min-h-full",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Teams"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage team invitations and join existing teams"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-md shadow-sm border border-gray-200 p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-50 rounded-lg mr-3",children:a.jsx(hn,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Team Invite Code"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Generate a code to invite team members"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:L,disabled:m,className:`w-full px-4 py-2 sm:py-3 rounded-md font-medium transition-colors duration-200 flex items-center justify-center touch-manipulation ${m?"bg-gray-100 text-gray-400 cursor-not-allowed":ie&&!K?"bg-orange-600 text-white hover:bg-orange-700":ie&&K?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[a.jsx(Zi,{className:"w-4 h-4 mr-2"}),m?"Generating...":ie&&!K?"Generate New Code for Team":ie&&K?"Generate New Code (Current Active)":"Create Team Invite Code"]}),e&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 block",children:"Active Team Invite Code"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{value:e,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-center font-mono text-lg tracking-widest"}),a.jsx("button",{onClick:()=>B(e),className:"px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:l?a.jsx(b_,{className:"w-4 h-4 text-green-600"}):a.jsx(__,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Share this 6-digit code with team members to invite them to join your team."}),d&&a.jsx("p",{className:"text-xs text-gray-500",children:K?a.jsxs(a.Fragment,{children:["✅ Code expires on ",new Date(d.expires_at).toLocaleDateString()]}):a.jsxs(a.Fragment,{children:["⚠️ Code expired on ",new Date(d.expires_at).toLocaleDateString(),". Generate a new code above."]})})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-md shadow-sm border border-gray-200 p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"p-2 bg-green-50 rounded-lg mr-3",children:a.jsx(Nc,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Join Team"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enter a 6-digit code to join a team"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Team Code"}),a.jsx("input",{placeholder:"Enter 6-digit code",value:n,onChange:Y=>i(Y.target.value.toUpperCase().slice(0,6)),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-center text-lg tracking-widest font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:6}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Ask your team admin for the 6-digit team code"})]}),a.jsxs("button",{onClick:re,disabled:n.length!==6,className:`w-full px-4 py-2 sm:py-3 rounded-md font-medium transition-colors duration-200 flex items-center justify-center touch-manipulation ${n.length===6?"bg-green-600 text-white hover:bg-green-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(hn,{className:"w-4 h-4 mr-2"}),"Join Team"]})]})]})]}),a.jsx("div",{className:"bg-white rounded-md shadow-sm border border-gray-200",children:a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Team Members"}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(hn,{className:"w-4 h-4 mr-1"}),x.length," member",x.length!==1?"s":""]})]}),b?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):x.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(hn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No team members yet"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Share your invite link or code to add team members"})]}):a.jsx("div",{className:"space-y-3",children:x.map(Y=>{const ae=Y.user_id===s?.id;return a.jsxs("div",{className:`flex flex-col sm:flex-row items-start sm:items-center justify-between p-3 rounded-md gap-2 ${ae?"bg-blue-50 border border-blue-200":"border border-gray-200 hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${ae?"bg-blue-500":"bg-gray-300"}`,children:a.jsx("span",{className:`text-sm font-semibold ${ae?"text-white":"text-gray-600"}`,children:Y.profiles?.email?.charAt(0).toUpperCase()||"U"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[Y.profiles?.email||"Unknown User",ae&&a.jsx("span",{className:"text-sm text-blue-600 ml-2",children:"(You - Admin)"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:ae?"Team administrator":`Joined ${new Date(Y.joined_at).toLocaleDateString()}`})]})]}),!ae&&a.jsx("button",{onClick:()=>q(Y.id,Y.user_id),className:"px-3 py-1 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors duration-200",children:"Remove"})]},Y.id)})})]})}),a.jsx(Y4,{isOpen:_.isOpen,onClose:P,title:_.title,message:_.message,type:_.type,showCancel:_.showCancel,onConfirm:_.onConfirm})]})},J4=()=>{const{user:s}=fs(),{drafts:e,sentMessages:t,scheduledMessages:n,addDraft:i,updateDraft:l,deleteDraft:c,sendDraft:d,addScheduledMessage:h,cancelScheduledMessage:m,searchDrafts:g,searchSent:x,searchScheduled:v}=d_(),[b,j]=k.useState("unread"),[_,S]=k.useState(null),[N,P]=k.useState(null),[E,I]=k.useState(""),[L,B]=k.useState([]),[G,q]=k.useState(!0),[Z,re]=k.useState(!1),[K,ie]=k.useState("replies"),[Y,ae]=k.useState(""),[Q,ce]=k.useState(""),[R,M]=k.useState("Select Channel"),[W,A]=k.useState(!1),[C,$]=k.useState(!1),[se,oe]=k.useState(!1),[be,ke]=k.useState(!1),[je,Pe]=k.useState(!1),[Ae,Qe]=k.useState(""),[mt,kt]=k.useState(""),[bt,Kt]=k.useState([]),[ut,Ds]=k.useState("channel"),[fn,Ls]=k.useState(!1),[Jt,Fs]=k.useState([]),[Ve,$t]=k.useState([]),[ms,ue]=k.useState(""),[Re,_e]=k.useState(new Set),$e=k.useRef(null),it=k.useRef(null),[pt,ws]=k.useState("drafts"),[at,In]=k.useState(""),[ti,mn]=k.useState(null),[si,$s]=k.useState(""),[br,js]=k.useState(!1),[zt,zs]=k.useState("mentions"),Bs=[{id:"replies",label:"Replies",icon:a.jsx(nh,{className:"w-4 h-4"}),active:!0},{id:"posts",label:"Posts",icon:a.jsx(Za,{className:"w-4 h-4"})},{id:"followups",label:"FollowUps",icon:a.jsx(hn,{className:"w-4 h-4"})},{id:"activity",label:"Activity",icon:a.jsx(g_,{className:"w-4 h-4"})},{id:"drafts",label:"Drafts & Sent",icon:a.jsx(Ji,{className:"w-4 h-4"}),count:1}];k.useEffect(()=>(s?.id&&(Us(),Dn()),()=>{it.current&&Ue.removeChannel(it.current)}),[s]);const Us=async()=>{try{const[z,Ee]=await Promise.all([Ue.from("team_members").select("user_id, profiles(id, email, full_name, name, avatar_url)").eq("admin_id",s?.id),Ue.from("team_members").select("admin_id, team_invite_id, profiles!team_members_admin_id_fkey(id, email, full_name, name, avatar_url)").eq("user_id",s?.id)]),Je=[],ot=new Set;if(z.data&&z.data.forEach(ze=>{ze.profiles&&!ot.has(ze.profiles.id)&&(ot.add(ze.profiles.id),Je.push({id:ze.profiles.id,name:ze.profiles.name||ze.profiles.full_name||"Unknown",email:ze.profiles.email||"",avatar:ze.profiles.avatar_url||"",status:"offline",role:"team member"}))}),Ee.data&&Ee.data.forEach(ze=>{ze.profiles&&!ot.has(ze.profiles.id)&&(ot.add(ze.profiles.id),Je.push({id:ze.profiles.id,name:ze.profiles.name||ze.profiles.full_name||"Admin",email:ze.profiles.email||"",avatar:ze.profiles.avatar_url||"",status:"offline",role:"team admin"}))}),Ee.data&&Ee.data.length>0){const ze=Ee.data.map(dt=>dt.team_invite_id),{data:gs}=await Ue.from("team_members").select("user_id, profiles(id, email, full_name, name, avatar_url)").in("team_invite_id",ze).neq("user_id",s?.id);gs&&gs.forEach(dt=>{dt.profiles&&!ot.has(dt.profiles.id)&&(ot.add(dt.profiles.id),Je.push({id:dt.profiles.id,name:dt.profiles.name||dt.profiles.full_name||"Unknown",email:dt.profiles.email||"",avatar:dt.profiles.avatar_url||"",status:"offline",role:"team member"}))})}Fs(Je)}catch(z){console.error("Error fetching team members:",z)}},Dn=()=>{const z=Ue.channel("online-users",{config:{presence:{key:s?.id||""}}});z.on("presence",{event:"sync"},()=>{const Ee=z.presenceState(),Je=new Set;Object.keys(Ee).forEach(ot=>{Ee[ot]&&Ee[ot].length>0&&Je.add(ot)}),_e(Je)}).on("presence",{event:"join"},({key:Ee,newPresences:Je})=>{_e(ot=>new Set([...ot,Ee]))}).on("presence",{event:"leave"},({key:Ee,leftPresences:Je})=>{_e(ot=>{const ze=new Set(ot);return ze.delete(Ee),ze})}).subscribe(async Ee=>{Ee==="SUBSCRIBED"&&await z.track({online_at:new Date().toISOString(),user_id:s?.id})}),it.current=z},ni=z=>Re.has(z)?"online":"offline",wr=()=>{if(Ae.trim()){const z={id:Date.now().toString(),name:Ae.toLowerCase().replace(/\s+/g,"-"),type:"text",description:mt,memberCount:1,members:[]};Kt([...bt,z]),Qe(""),kt(""),Pe(!1),S(z)}},ri=()=>{if(_&&Ve.length>0){const z=Jt.filter(Je=>Ve.includes(Je.id)),Ee={..._,members:[..._.members||[],...z],memberCount:(_.memberCount||0)+Ve.length};Kt(bt.map(Je=>Je.id===_.id?Ee:Je)),S(Ee),$t([]),Ls(!1)}},Pt=Jt.map(z=>({id:z.id,name:z.name,status:ni(z.id),avatar:z.avatar,lastMessage:"",unread:!1}));s&&Pt.push({id:s.id,name:s.email?.split("@")[0]||"You",status:"online",lastMessage:"You",unread:!1}),k.useEffect(()=>{if(_){const z=[{id:"1",userId:"1",userName:"Team Member",content:"Hey everyone! Just wanted to share the latest updates on the project.",timestamp:new Date(Date.now()-36e5),reactions:[{emoji:"👍",count:3,reacted:!1},{emoji:"🎉",count:1,reacted:!0}]},{id:"2",userId:"2",userName:"Another Member",content:"That sounds great! I've been working on the implementation and we're making good progress.",timestamp:new Date(Date.now()-18e5),edited:!0},{id:"3",userId:s?.id||"3",userName:"You",content:"I'll review the code and provide feedback by EOD.",timestamp:new Date(Date.now()-9e5)}];B(z)}else if(N){const z=Pt.find(Ee=>Ee.id===N);if(z&&z.id!==s?.id){const Ee=[{id:"1",userId:N,userName:z.name,content:"Hey! How's the project going?",timestamp:new Date(Date.now()-72e5)},{id:"2",userId:s?.id||"current",userName:"You",content:"Going well! Just finished the new feature.",timestamp:new Date(Date.now()-36e5)},{id:"3",userId:N,userName:z.name,content:"That's awesome! Can't wait to see it in action.",timestamp:new Date(Date.now()-18e5)}];B(Ee)}else B([])}},[_,N,s,Pt]);const Ln=()=>{$e.current?.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{Ln()},[L]);const Fn=()=>{if(E.trim()){const z={id:Date.now().toString(),userId:s?.id||"current",userName:"You",content:E,timestamp:new Date};B([...L,z]),I("")}},xt=z=>{const Je=new Date().getTime()-z.getTime(),ot=Math.floor(Je/6e4),ze=Math.floor(Je/36e5),gs=Math.floor(Je/864e5);return gs>0?`${gs}d ago`:ze>0?`${ze}h ago`:`${ot}m ago`};return a.jsxs("div",{className:"h-screen w-full flex bg-gray-50 -mx-3 -my-4 sm:-mx-6 sm:-my-6 lg:-mx-8 lg:-my-8",children:[a.jsxs("div",{className:"w-72 bg-gray-100 border-r border-gray-200 flex flex-col h-full",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded flex items-center justify-center mr-2",children:a.jsx(nh,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Chat"})]})}),a.jsx("div",{className:"flex-1 flex flex-col",children:a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsx("div",{className:"py-2",children:Bs.map(z=>a.jsxs("button",{onClick:()=>ie(z.id),className:`w-full px-4 py-2.5 text-left text-sm transition-colors flex items-center justify-between group ${K===z.id?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-200 hover:text-gray-900"}`,children:[a.jsxs("div",{className:"flex items-center",children:[z.icon,a.jsx("span",{className:"ml-3",children:z.label})]}),z.count!==void 0&&z.count>0&&a.jsx("span",{className:"bg-gray-300 text-gray-700 text-xs px-2 py-0.5 rounded-full",children:z.count})]},z.id))}),a.jsxs("div",{className:"px-2 py-3 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-1",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"CHANNELS"}),a.jsx("button",{onClick:()=>Pe(!0),className:"w-4 h-4 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded transition-colors flex items-center justify-center",children:a.jsx(Pn,{className:"w-3 h-3"})})]}),bt.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"No group channels yet"}),a.jsx("button",{onClick:()=>Pe(!0),className:"text-xs text-blue-600 hover:text-blue-700 underline",children:"Create your first channel"})]}):a.jsx("div",{className:"space-y-0.5",children:bt.map(z=>a.jsxs("button",{className:`w-full flex items-center px-2 py-1.5 text-sm rounded transition-colors ${_?.id===z.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-200 hover:text-gray-900"}`,onClick:()=>{S(z),P(null),ie("channel")},children:[a.jsx(Sn,{className:"w-4 h-4 mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate flex-1 text-left",children:z.name}),z.locked&&a.jsx(Ic,{className:"w-3 h-3 text-gray-400"}),z.memberCount&&z.memberCount>0&&a.jsx("span",{className:"text-xs text-gray-500",children:z.memberCount})]},z.id))})]}),a.jsxs("div",{className:"px-2 py-3 border-t border-gray-200",children:[a.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-gray-600 mb-1",children:"DIRECT MESSAGES"}),a.jsxs("div",{className:"space-y-0.5",children:[Pt.length>0?Pt.map(z=>a.jsxs("button",{className:`w-full flex items-center px-2 py-1.5 text-sm rounded transition-colors ${N===z.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-200 hover:text-gray-900"}`,onClick:()=>{P(z.id),S(null),ie("dm")},children:[a.jsxs("div",{className:"relative mr-2",children:[a.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-semibold",children:z.name.charAt(0).toUpperCase()}),a.jsx("div",{className:`absolute bottom-0 right-0 w-2 h-2 ${z.status==="online"?"bg-green-500":"bg-gray-400"} rounded-full border border-white`})]}),a.jsx("span",{className:"truncate flex-1 text-left",children:z.name}),z.id===s?.id&&a.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"— You"})]},z.id)):a.jsx("div",{className:"px-2 py-4 text-xs text-gray-500 text-center",children:"No team members yet"}),a.jsxs("button",{className:"w-full flex items-center px-2 py-1.5 text-sm text-gray-500 hover:text-gray-700 rounded hover:bg-gray-200 transition-colors",children:[a.jsx(Pn,{className:"w-4 h-4 mr-2"}),"New message"]})]})]})]})}),a.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-100",children:a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:s?.email?.charAt(0).toUpperCase()||"U"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),a.jsxs("div",{className:"ml-3 flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:s?.email?.split("@")[0]||"User"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Online"})]}),a.jsx(Hp,{className:"w-5 h-5 text-gray-500 cursor-pointer hover:text-gray-700"})]})})]}),a.jsx("div",{className:"flex-1 flex flex-col bg-white",children:a.jsx("div",{className:"flex-1 flex flex-col",children:K==="channel"&&_?a.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[a.jsxs("div",{className:"border-b border-gray-200 bg-white",children:[a.jsxs("div",{className:"px-6 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Sn,{className:"w-5 h-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:_.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[_.memberCount||0," members • ",_.description||"Channel"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>Ls(!0),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Add members",children:a.jsx(Nc,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(jo,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Hp,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"px-6 flex space-x-6",children:[a.jsx("button",{onClick:()=>Ds("channel"),className:`py-3 text-sm font-medium border-b-2 transition-colors ${ut==="channel"?"text-gray-900 border-gray-900":"text-gray-500 border-transparent hover:text-gray-700"}`,children:"Channel"}),a.jsx("button",{onClick:()=>Ds("posts"),className:`py-3 text-sm font-medium border-b-2 transition-colors ${ut==="posts"?"text-gray-900 border-gray-900":"text-gray-500 border-transparent hover:text-gray-700"}`,children:"Posts"})]})]}),ut==="channel"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:L.length>0?a.jsxs("div",{className:"space-y-6",children:[L.map(z=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:z.userName.charAt(0)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:z.userName}),a.jsx("span",{className:"text-xs text-gray-500",children:xt(z.timestamp)}),z.edited&&a.jsx("span",{className:"text-xs text-gray-400",children:"(edited)"})]}),a.jsx("div",{className:"text-gray-800",children:z.content}),z.reactions&&z.reactions.length>0&&a.jsx("div",{className:"flex items-center mt-2 space-x-2",children:z.reactions.map((Ee,Je)=>a.jsxs("button",{className:`px-2 py-1 rounded-full text-xs flex items-center space-x-1 border ${Ee.reacted?"bg-blue-50 border-blue-200 text-blue-700":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[a.jsx("span",{children:Ee.emoji}),a.jsx("span",{children:Ee.count})]},Je))})]})]},z.id)),a.jsx("div",{ref:$e})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(Sn,{className:"w-12 h-12 text-gray-400"})}),a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Welcome to #",_.name]}),a.jsxs("p",{className:"text-gray-600 max-w-md",children:["This is the beginning of the #",_.name," channel."]})]})}),a.jsx("div",{className:"border-t border-gray-200 bg-white p-4",children:a.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg",children:[a.jsx("div",{className:"flex items-start p-3",children:a.jsx("input",{type:"text",value:E,onChange:z=>I(z.target.value),onKeyPress:z=>z.key==="Enter"&&!z.shiftKey&&Fn(),placeholder:`Message #${_.name}`,className:"flex-1 text-gray-900 placeholder-gray-500 focus:outline-none"})}),a.jsxs("div",{className:"flex items-center justify-between px-3 pb-3",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(Pn,{className:"w-4 h-4"})}),a.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx($p,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(Bp,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(Up,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(T_,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(th,{className:"w-4 h-4"})}),a.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(to,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(Ui,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(so,{className:"w-4 h-4"})}),a.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(eo,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(no,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:Fn,disabled:!E.trim(),className:"px-3 py-1.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:a.jsx(Qi,{className:"w-4 h-4"})})]})]})})]}):a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:s?.email?.charAt(0).toUpperCase()||"U"}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg",children:[a.jsx("input",{type:"text",placeholder:"Post topic",className:"w-full px-4 pt-3 pb-1 text-gray-900 placeholder-gray-500 font-medium focus:outline-none"}),a.jsx("div",{className:"px-4 pb-3",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Ui,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"@@"})]})}),a.jsxs("div",{className:"border-t border-gray-200 px-3 py-2 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(Pn,{className:"w-4 h-4"})}),a.jsxs("button",{className:"px-3 py-1.5 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 rounded flex items-center",children:[a.jsx(jo,{className:"w-3 h-3 mr-1"}),"Update",a.jsx(us,{className:"w-3 h-3 ml-1"})]}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(to,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(Ui,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(so,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(th,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(C_,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(no,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(eo,{className:"w-4 h-4"})})]}),a.jsx("button",{className:"px-4 py-1.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Post"})]})]})})]})}),a.jsxs("div",{className:"px-6 py-3 border-b border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{className:"px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg flex items-center",children:[a.jsx(Za,{className:"w-4 h-4 mr-1"}),"Type",a.jsx(us,{className:"w-3 h-3 ml-1"})]}),a.jsxs("button",{className:"px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg flex items-center",children:[a.jsx(hn,{className:"w-4 h-4 mr-1"}),"Author"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Sort:"}),a.jsxs("button",{className:"px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg flex items-center",children:["Newest",a.jsx(us,{className:"w-3 h-3 ml-1"})]})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(sh,{className:"w-12 h-12 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No posts yet"}),a.jsx("p",{className:"text-gray-600",children:"Be the first to post in this channel"})]})})]})]}):K==="dm"&&N?a.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[a.jsx("div",{className:"border-b border-gray-200 bg-white",children:a.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:Pt.find(z=>z.id===N)?.name.charAt(0).toUpperCase()}),a.jsx("div",{className:Re.has(N)?"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white":"absolute bottom-0 right-0 w-3 h-3 bg-gray-400 rounded-full border-2 border-white"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:Pt.find(z=>z.id===N)?.name}),a.jsx("p",{className:"text-sm text-gray-500",children:Re.has(N)?"Active now":"Offline"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>$(!0),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(no,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(ac,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wp,{className:"w-5 h-5"})})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:L.length>0?a.jsxs("div",{className:"space-y-6",children:[L.map(z=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:z.userName.charAt(0)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:z.userName}),a.jsx("span",{className:"text-xs text-gray-500",children:xt(z.timestamp)}),z.edited&&a.jsx("span",{className:"text-xs text-gray-400",children:"(edited)"})]}),a.jsx("div",{className:"text-gray-800",children:z.content})]})]},z.id)),a.jsx("div",{ref:$e})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(sh,{className:"w-12 h-12 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Start a conversation"}),a.jsxs("p",{className:"text-gray-600 max-w-md",children:["Send a message to ",Pt.find(z=>z.id===N)?.name]})]})}),a.jsx("div",{className:"border-t border-gray-200 bg-white p-3",children:a.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg",children:[a.jsx("div",{className:"flex items-start p-3",children:a.jsx("input",{type:"text",value:E,onChange:z=>I(z.target.value),onKeyPress:z=>z.key==="Enter"&&!z.shiftKey&&Fn(),placeholder:`Message ${Pt.find(z=>z.id===N)?.name}`,className:"flex-1 text-gray-900 placeholder-gray-500 focus:outline-none"})}),a.jsxs("div",{className:"flex items-center justify-between px-3 pb-3",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(Pn,{className:"w-4 h-4"})}),a.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx($p,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(Bp,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(Up,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(th,{className:"w-4 h-4"})}),a.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(to,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(so,{className:"w-4 h-4"})}),a.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(eo,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:a.jsx(no,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:Fn,disabled:!E.trim(),className:"px-3 py-1.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:a.jsx(Qi,{className:"w-4 h-4"})})]})]})}),C&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-4xl h-full max-h-[90vh] overflow-hidden",children:[a.jsx("div",{className:"bg-gray-800 px-4 py-3 border-b border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:Pt.find(z=>z.id===N)?.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold",children:Pt.find(z=>z.id===N)?.name}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Video call"})]})]}),a.jsx("button",{onClick:()=>$(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg",children:a.jsx(bs,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"relative flex-1 bg-gray-800 flex items-center justify-center",style:{height:"calc(90vh - 140px)"},children:[a.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-2xl font-semibold mx-auto mb-4",children:Pt.find(z=>z.id===N)?.name.charAt(0).toUpperCase()}),a.jsx("p",{className:"text-white text-lg font-semibold",children:Pt.find(z=>z.id===N)?.name}),a.jsx("p",{className:"text-gray-400",children:"Connecting..."})]})}),a.jsx("div",{className:"absolute top-4 right-4 w-48 h-36 bg-gray-600 rounded-lg border-2 border-gray-500 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center text-white font-semibold mx-auto mb-2",children:s?.email?.charAt(0).toUpperCase()||"Y"}),a.jsx("p",{className:"text-white text-sm",children:"You"})]})})]}),a.jsx("div",{className:"bg-gray-800 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsx("button",{onClick:()=>ke(!be),className:`p-3 rounded-full transition-colors ${be?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:be?a.jsx(A_,{className:"w-5 h-5"}):a.jsx(eo,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>oe(!se),className:`p-3 rounded-full transition-colors ${se?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:se?a.jsx($_,{className:"w-5 h-5"}):a.jsx(no,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>$(!1),className:"p-3 bg-red-600 hover:bg-red-700 text-white rounded-full transition-colors",children:a.jsx(bs,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-3 bg-gray-600 hover:bg-gray-700 text-white rounded-full transition-colors",children:a.jsx(O_,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-3 bg-gray-600 hover:bg-gray-700 text-white rounded-full transition-colors",children:a.jsx(Wp,{className:"w-5 h-5"})})]})})]})})]}):K==="posts"?a.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[a.jsxs("div",{className:"px-4 py-4 border-b border-gray-200 bg-white flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Posts"}),a.jsx("button",{onClick:()=>A(!0),className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"New Post"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto max-h-[75vh]",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-blue-500 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:s?.email?.charAt(0).toUpperCase()||"V"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-3",children:a.jsx("div",{className:"relative",children:a.jsxs("button",{className:"flex items-center justify-between w-48 px-3 py-2 text-left bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:R}),a.jsx(us,{className:"w-4 h-4 text-gray-500"})]})})}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2",children:[a.jsx("input",{type:"text",placeholder:"Post topic",value:Q,onChange:z=>ce(z.target.value),className:"w-full text-base font-medium placeholder-gray-500 border-0 focus:outline-none mb-1"}),a.jsx("textarea",{placeholder:"Write an update...",value:Y,onChange:z=>ae(z.target.value),rows:2,className:"w-full placeholder-gray-500 border-0 focus:outline-none resize-none"}),a.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:a.jsx(Pn,{className:"w-4 h-4"})}),a.jsxs("button",{className:"px-3 py-1.5 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 rounded flex items-center",children:[a.jsx("span",{className:"mr-1",children:"🔔"}),"Update",a.jsx(us,{className:"w-3 h-3 ml-1"})]}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:a.jsx(to,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:a.jsx(so,{className:"w-4 h-4"})})]}),a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700 transition-colors",onClick:()=>{ce(""),ae("")},children:"Post"})]})]})]})]})}),a.jsx("div",{className:"px-4 py-4 border-b border-gray-200 bg-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{className:"px-3 py-1.5 bg-blue-100 text-blue-700 text-sm font-medium rounded-full flex items-center",children:[a.jsx("span",{className:"mr-1",children:"🔔"}),"Following"]}),a.jsxs("button",{className:"px-3 py-1.5 text-gray-700 text-sm font-medium rounded-full hover:bg-gray-100 flex items-center",children:[a.jsx(Za,{className:"w-3 h-3 mr-1"}),"Type",a.jsx(us,{className:"w-3 h-3 ml-1"})]}),a.jsxs("button",{className:"px-3 py-1.5 text-gray-700 text-sm font-medium rounded-full hover:bg-gray-100 flex items-center",children:[a.jsx(hn,{className:"w-3 h-3 mr-1"}),"Author"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Sort:"}),a.jsxs("button",{className:"px-3 py-1.5 text-gray-700 text-sm font-medium rounded hover:bg-gray-100 flex items-center",children:["Newest",a.jsx(us,{className:"w-3 h-3 ml-1"})]})]})]})}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Za,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No posts yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Posts from your team will appear here when they're shared."})]})})]}),W&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("button",{className:"flex items-center justify-between w-48 px-3 py-2 text-left bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:"Select Channel"}),a.jsx(us,{className:"w-4 h-4 text-gray-500"})]})}),a.jsx("button",{onClick:()=>A(!1),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:a.jsx(bs,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",placeholder:"Post topic",value:Q,onChange:z=>ce(z.target.value),className:"w-full text-lg font-medium placeholder-gray-500 border-0 focus:outline-none bg-transparent"}),a.jsx("textarea",{placeholder:"Write an update...",value:Y,onChange:z=>ae(z.target.value),rows:8,className:"w-full placeholder-gray-500 border-0 focus:outline-none resize-none bg-transparent"})]})}),a.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:a.jsx(Pn,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:a.jsx(to,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:a.jsx(Ui,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:a.jsx(Sn,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:a.jsx(so,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:a.jsx(y_,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:a.jsx(eo,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",children:a.jsx(Za,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{className:"px-3 py-1.5 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded flex items-center",children:[a.jsx("span",{className:"mr-1",children:"🔔"}),"Update",a.jsx(us,{className:"w-3 h-3 ml-1"})]}),a.jsx("button",{onClick:()=>{ce(""),ae(""),A(!1)},className:"px-6 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Post"})]})]})})]})})]}):K==="replies"?a.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Replies"}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsx("button",{onClick:()=>j("unread"),className:`pb-2 text-sm font-medium border-b-2 transition-colors ${b==="unread"?"text-gray-900 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:"Unread"}),a.jsx("button",{onClick:()=>j("read"),className:`pb-2 text-sm font-medium border-b-2 transition-colors ${b==="read"?"text-gray-900 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:"Read"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto max-h-[calc(100vh-200px)]",children:b==="unread"?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12",children:[a.jsx("div",{className:"w-32 h-32 mb-6 relative",children:a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[a.jsxs("div",{className:"w-20 h-16 bg-gray-200 rounded-lg relative transform -rotate-12",children:[a.jsx("div",{className:"absolute top-2 left-2 w-3 h-3 bg-gray-400 rounded-full"}),a.jsx("div",{className:"absolute top-2 right-2 w-8 h-1 bg-gray-400 rounded"}),a.jsx("div",{className:"absolute bottom-2 left-2 w-12 h-1 bg-gray-400 rounded"})]}),a.jsxs("div",{className:"absolute w-20 h-16 bg-gray-300 rounded-lg transform rotate-6",children:[a.jsx("div",{className:"absolute top-2 left-2 w-3 h-3 bg-gray-500 rounded-full"}),a.jsx("div",{className:"absolute top-2 right-2 w-8 h-1 bg-gray-500 rounded"}),a.jsx("div",{className:"absolute bottom-2 left-2 w-12 h-1 bg-gray-500 rounded"})]}),a.jsxs("div",{className:"absolute w-20 h-16 bg-gray-400 rounded-lg transform rotate-12 translate-x-1 translate-y-1",children:[a.jsx("div",{className:"absolute top-2 left-2 w-3 h-3 bg-gray-600 rounded-full"}),a.jsx("div",{className:"absolute top-2 right-2 w-8 h-1 bg-gray-600 rounded"}),a.jsx("div",{className:"absolute bottom-2 left-2 w-12 h-1 bg-gray-600 rounded"})]}),a.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 bg-white border-2 border-green-500 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"You're all caught up"}),a.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Looks like you don't have any unread replies"}),a.jsx("button",{className:"px-6 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium",children:"Read old replies"})]}):a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(nh,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No read replies"}),a.jsx("p",{className:"text-gray-600 text-center max-w-sm",children:"Previously read replies will appear here."})]})})]}):K==="followups"?a.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"FollowUps"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ac,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Search messages",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{className:"px-3 py-1.5 bg-blue-100 text-blue-700 text-sm font-medium rounded-full flex items-center",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Assigned to: You"]}),a.jsxs("button",{className:"px-3 py-1.5 bg-green-100 text-green-700 text-sm font-medium rounded-full flex items-center",children:[a.jsx("span",{className:"mr-1",children:"✓"}),"Resolved"]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"w-24 h-24 mb-6 relative",children:a.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-2xl flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-lg flex items-center justify-center",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-1 h-1 bg-gray-500 rounded-full"}),a.jsx("div",{className:"w-2 h-1 bg-gray-500 rounded-full"})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-1 h-1 bg-gray-500 rounded-full"}),a.jsx("div",{className:"w-2 h-1 bg-gray-500 rounded-full"})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-1 h-1 bg-gray-500 rounded-full"}),a.jsx("div",{className:"w-2 h-1 bg-gray-500 rounded-full"})]})]})})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"You're all caught up"}),a.jsx("p",{className:"text-gray-600 text-center mb-6 max-w-sm",children:"Looks like you don't have any assigned messages"}),a.jsx("button",{className:"px-6 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium",children:"Clear filters"})]})]}):K==="activity"?a.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Activity"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsxs("button",{onClick:()=>zs("mentions"),className:`flex items-center space-x-2 px-3 py-1.5 text-sm font-medium rounded-full transition-colors ${zt==="mentions"?"bg-blue-100 text-blue-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(Ui,{className:"w-4 h-4"}),a.jsx("span",{children:"Mentions"})]}),a.jsxs("button",{onClick:()=>zs("reactions"),className:`flex items-center space-x-2 px-3 py-1.5 text-sm font-medium rounded-full transition-colors ${zt==="reactions"?"bg-blue-100 text-blue-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx("span",{children:"😊"}),a.jsx("span",{children:"Reactions"})]}),a.jsxs("button",{onClick:()=>zs("assigned"),className:`flex items-center space-x-2 px-3 py-1.5 text-sm font-medium rounded-full transition-colors ${zt==="assigned"?"bg-blue-100 text-blue-800":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(Nc,{className:"w-4 h-4"}),a.jsx("span",{children:"Assigned to me"})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto max-h-[calc(100vh-200px)]",children:zt==="mentions"?a.jsx("div",{className:"flex-1 flex items-center justify-center p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ui,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No mentions yet"}),a.jsx("p",{className:"text-gray-600 text-center max-w-sm",children:"When someone mentions you, it will appear here."})]})}):zt==="reactions"?a.jsx("div",{className:"flex-1 flex items-center justify-center p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"😊"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No reactions yet"}),a.jsx("p",{className:"text-gray-600 text-center max-w-sm",children:"When people react to your messages, it will appear here."})]})}):a.jsx("div",{className:"flex-1 flex items-center justify-center p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Nc,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No assignments yet"}),a.jsx("p",{className:"text-gray-600 text-center max-w-sm",children:"When tasks are assigned to you, they will appear here."})]})})})]}):K==="drafts"?a.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center",children:a.jsx(Ji,{className:"w-4 h-4 text-white"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Drafts & Sent"})]}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("button",{onClick:()=>ws("drafts"),className:`flex items-center space-x-2 py-2 text-sm font-medium border-b-2 transition-colors ${pt==="drafts"?"text-gray-900 border-purple-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[a.jsx(Ji,{className:"w-4 h-4"}),a.jsx("span",{children:"Drafts"})]}),a.jsxs("button",{onClick:()=>ws("sent"),className:`flex items-center space-x-2 py-2 text-sm font-medium border-b-2 transition-colors ${pt==="sent"?"text-gray-900 border-purple-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[a.jsx(Qi,{className:"w-4 h-4"}),a.jsx("span",{children:"Sent"})]}),a.jsxs("button",{onClick:()=>ws("scheduled"),className:`flex items-center space-x-2 py-2 text-sm font-medium border-b-2 transition-colors ${pt==="scheduled"?"text-gray-900 border-purple-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[a.jsx(ko,{className:"w-4 h-4"}),a.jsx("span",{children:"Scheduled"})]})]})]}),a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"relative",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:pt==="drafts"?"Search drafts...":pt==="sent"?"Search sent...":"Search scheduled messages...",value:at,onChange:z=>In(z.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})}),a.jsx("div",{className:"px-6 py-2 bg-gray-50",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"inline-flex items-center space-x-2 px-2 py-1 bg-gray-200 rounded text-xs text-gray-600",children:[a.jsx(sh,{className:"w-3 h-3"}),a.jsx("span",{children:"In thread"})]}),pt==="sent"&&a.jsx("div",{className:"inline-flex items-center space-x-2 px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:a.jsx("span",{children:"Sent by: You"})})]})}),a.jsx("div",{className:"px-6 py-3 bg-white border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[a.jsx("div",{children:"Location"}),a.jsx("div",{children:"Message"}),a.jsx("div",{children:pt==="sent"?"Sent":pt==="scheduled"?"Send":"Updated"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto max-h-[calc(100vh-300px)] min-h-0",children:pt==="drafts"?e.length===0||at&&g(at).length===0?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(Ji,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No drafts"}),a.jsx("p",{className:"text-gray-600 text-center max-w-sm",children:"Drafts are saved messages that you have not sent yet."})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:(at?g(at):e).map(z=>a.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 items-start",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Sn,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-900 truncate",children:z.location})]}),a.jsx("div",{className:"flex-1",children:ti===z.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx("textarea",{value:si,onChange:Ee=>$s(Ee.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm resize-none",rows:2}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{l(z.id,si),mn(null),$s("")},className:"px-3 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700",children:"Save"}),a.jsx("button",{onClick:()=>{d(z.id),mn(null),$s("")},className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"Send"}),a.jsx("button",{onClick:()=>{mn(null),$s("")},className:"px-3 py-1 bg-gray-300 text-gray-700 text-xs rounded hover:bg-gray-400",children:"Cancel"})]})]}):a.jsxs("div",{className:"flex items-start justify-between group",children:[a.jsx("p",{className:"text-sm text-gray-900 flex-1 pr-4",children:z.message}),a.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[a.jsx("button",{onClick:()=>{mn(z.id),$s(z.message)},className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Edit draft",children:a.jsx(Ji,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>d(z.id),className:"p-1 text-gray-400 hover:text-blue-600 rounded",title:"Send draft",children:a.jsx(Qi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>c(z.id),className:"p-1 text-gray-400 hover:text-red-600 rounded",title:"Delete draft",children:a.jsx(F_,{className:"w-4 h-4"})})]})]})}),a.jsx("div",{className:"text-sm text-gray-500",children:new Date(z.lastUpdated).toLocaleDateString()})]})},z.id))}):pt==="sent"?t.length===0||at&&x(at).length===0?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:a.jsx("div",{className:"w-10 h-10 border-2 border-gray-400 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded-full transform rotate-45"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"You're all caught up"}),a.jsx("p",{className:"text-gray-600 text-center max-w-sm",children:"Looks like you don't have any sent messages"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:(at?x(at):t).map(z=>a.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 items-start",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Sn,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-900 truncate",children:z.location})]}),a.jsxs("div",{className:"flex items-start justify-between group",children:[a.jsx("p",{className:"text-sm text-gray-900 flex-1 pr-4",children:z.message}),a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"View message",children:a.jsx(Rc,{className:"w-4 h-4"})})})]}),a.jsx("div",{className:"text-sm text-gray-500",children:new Date(z.sentAt).toLocaleDateString()})]})},z.id))}):n.length===0||at&&v(at).length===0?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:a.jsx(ko,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No scheduled messages"}),a.jsx("p",{className:"text-gray-600 text-center max-w-sm",children:"Looks like you don't have any scheduled messages"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:(at?v(at):n).map(z=>a.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 items-start",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Sn,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-900 truncate",children:z.location})]}),a.jsxs("div",{className:"flex items-start justify-between group",children:[a.jsx("p",{className:"text-sm text-gray-900 flex-1 pr-4",children:z.message}),a.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[a.jsx("button",{onClick:()=>m(z.id),className:"p-1 text-gray-400 hover:text-red-600 rounded",title:"Cancel scheduled message",children:a.jsx(bs,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Edit schedule",children:a.jsx(ko,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[new Date(z.scheduledFor).toLocaleDateString()," at ",new Date(z.scheduledFor).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})},z.id))})})]}):a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-2xl text-gray-400",children:"📋"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:K.charAt(0).toUpperCase()+K.slice(1)}),a.jsx("p",{className:"text-gray-600",children:"This section is coming soon. Stay tuned for updates!"})]})})})}),je&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Channel"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Channel Name"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Sn,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"text",value:Ae,onChange:z=>Qe(z.target.value),placeholder:"channel-name",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:z=>z.key==="Enter"&&wr()})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Channel names must be lowercase, without spaces or periods, and can't be longer than 22 characters."})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),a.jsx("textarea",{value:mt,onChange:z=>kt(z.target.value),placeholder:"What's this channel about?",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{Pe(!1),Qe(""),kt("")},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:wr,disabled:!Ae.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Channel"})]})]})})}),fn&&_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[80vh] flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Add people to #",_.name]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[_.memberCount||0," members in this channel"]})]}),a.jsx("button",{onClick:()=>{Ls(!1),$t([]),ue("")},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(bs,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ac,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{type:"text",value:ms,onChange:z=>ue(z.target.value),placeholder:"Search team members by name or email",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),Ve.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Selected (",Ve.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Ve.map(z=>{const Ee=Jt.find(Je=>Je.id===z);return Ee?a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-full",children:[a.jsx("span",{className:"text-sm",children:Ee.name}),a.jsx("button",{onClick:()=>$t(Ve.filter(Je=>Je!==z)),className:"text-blue-500 hover:text-blue-700",children:a.jsx(bs,{className:"w-3 h-3"})})]},z):null})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Team Members"}),Jt.filter(z=>z.name.toLowerCase().includes(ms.toLowerCase())||z.email.toLowerCase().includes(ms.toLowerCase())).filter(z=>!_.members?.some(Ee=>Ee.id===z.id)).map(z=>a.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg cursor-pointer",onClick:()=>{Ve.includes(z.id)?$t(Ve.filter(Ee=>Ee!==z.id)):$t([...Ve,z.id])},children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:Ve.includes(z.id),onChange:()=>{},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:z.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:z.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[z.email," • ",z.role]})]})]}),a.jsx("div",{className:`w-2 h-2 rounded-full ${z.status==="online"?"bg-green-500":z.status==="idle"?"bg-yellow-500":z.status==="dnd"?"bg-red-500":"bg-gray-400"}`})]},z.id))]}),_.members&&_.members.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Already in channel (",_.members.length,")"]}),a.jsx("div",{className:"space-y-2",children:_.members.map(z=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:z.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:z.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[z.email," • ",z.role]})]})]}),a.jsx("span",{className:"text-xs text-gray-500",children:"Member"})]},z.id))})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{Ls(!1),$t([]),ue("")},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:ri,disabled:Ve.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Add ",Ve.length>0?`${Ve.length} ${Ve.length===1?"person":"people"}`:""]})]})})]})}),br&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upgrade Your Plan"}),a.jsx("button",{onClick:()=>js(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(bs,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:a.jsx(Qi,{className:"w-8 h-8 text-blue-600"})}),a.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Access your full chat history and unlock premium features with our Pro plan."}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mr-2"}),"Unlimited chat history"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mr-2"}),"Advanced search features"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mr-2"}),"Priority support"]})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>js(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Not now"}),a.jsx("button",{onClick:()=>{alert("Redirect to upgrade page..."),js(!1)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Upgrade Now"})]})]})})})]})},Q4=()=>{const{user:s,signOut:e}=fs(),{supabase:t}=da(),n=yr(),{notifications:i,unreadCount:l,markAsRead:c,markAllAsRead:d,clearAllNotifications:h,addNotification:m}=c_(),[g,x]=k.useState(""),[v,b]=k.useState(""),[j,_]=k.useState(""),[S,N]=k.useState(""),[P,E]=k.useState(""),[I,L]=k.useState(""),[B,G]=k.useState(""),[q,Z]=k.useState(!1),[re,K]=k.useState(""),[ie,Y]=k.useState(""),[ae,Q]=k.useState([]),[ce,R]=k.useState(!1),[M,W]=k.useState(""),[A,C]=k.useState(!1),[$,se]=k.useState(!1),[oe,be]=k.useState(""),[ke,je]=k.useState(""),[Pe,Ae]=k.useState(""),[Qe,mt]=k.useState(!1),[kt,bt]=k.useState(!1);k.useEffect(()=>{(async()=>{if(s){try{const Re=localStorage.getItem(`profile_${s.id}`);if(Re){const _e=JSON.parse(Re);console.log("Loading profile from localStorage:",_e),x(_e.firstName||""),b(_e.lastName||""),N(_e.gender||""),E(_e.country||""),L(_e.language||""),G(_e.timeZone||"")}}catch{console.log("No localStorage profile data available")}try{const Re=localStorage.getItem(`emails_${s.id}`);if(Re){const _e=JSON.parse(Re);console.log("Loading emails from localStorage:",_e),Q(_e)}}catch{console.log("No localStorage email data available")}try{const{data:Re}=await t.from("profiles").select("name, full_name").eq("id",s.id).single();if(Re&&(_(Re.name||Re.full_name||""),!g&&!v&&Re.full_name)){const _e=Re.full_name.split(" ");_e.length>=2&&(x(_e[0]||""),b(_e.slice(1).join(" ")||""))}try{const{data:_e}=await t.from("profiles").select("first_name, last_name, gender, country, language, time_zone").eq("id",s.id).single();_e&&(x($e=>$e||_e.first_name||""),b($e=>$e||_e.last_name||""),N($e=>$e||_e.gender||""),E($e=>$e||_e.country||""),L($e=>$e||_e.language||""),G($e=>$e||_e.time_zone||""))}catch{console.log("Extended fields not in database, using localStorage values")}try{const{data:_e}=await t.from("user_emails").select("email").eq("user_id",s.id);_e&&_e.length>0&&Q($e=>$e.length>0?$e:_e.map(it=>it.email))}catch{console.log("User emails table not in database, using localStorage values")}}catch(Re){console.error("Error loading profile from database:",Re)}}})()},[s,t]);const Kt=async()=>{if(s){Z(!0),Y(""),K("");try{let ue={name:j.trim()||g.trim(),full_name:`${g.trim()} ${v.trim()}`.trim(),updated_at:new Date().toISOString()};const{error:Re}=await t.from("profiles").update(ue).eq("id",s.id);if(Re)throw Re;const _e={firstName:g.trim(),lastName:v.trim(),gender:S,country:P,language:I,timeZone:B};console.log("Saving to localStorage:",_e),localStorage.setItem(`profile_${s.id}`,JSON.stringify(_e));try{let $e={first_name:g.trim()||null,last_name:v.trim()||null,gender:S||null,country:P||null,language:I||null,time_zone:B||null};const{error:it}=await t.from("profiles").update($e).eq("id",s.id);console.log(it?"Extended fields not available in database, using localStorage only":"Successfully updated extended fields in database")}catch{console.log("Extended fields not available in database, using localStorage only")}K("Profile updated successfully!"),setTimeout(()=>K(""),3e3)}catch(ue){Y("Failed to update profile"),console.error("Profile update error:",ue)}finally{Z(!1)}}},ut=async()=>{await e()},Ds=async()=>{if(!M.trim()||!M.includes("@")){Y("Please enter a valid email address");return}if(ae.includes(M)||M===s?.email){Y("Email already exists");return}C(!0),Y("");try{const ue=[...ae,M];Q(ue),localStorage.setItem(`emails_${s.id}`,JSON.stringify(ue));try{const{error:Re}=await t.from("user_emails").insert({user_id:s.id,email:M.trim(),is_verified:!1});Re&&console.log("Database storage not available for emails, using localStorage only")}catch{console.log("Database storage not available for emails, using localStorage only")}W(""),R(!1),K("Email added successfully!"),setTimeout(()=>K(""),3e3)}catch(ue){Y("Failed to add email"),console.error("Add email error:",ue)}finally{C(!1)}},fn=async ue=>{try{const Re=ae.filter(_e=>_e!==ue);Q(Re),localStorage.setItem(`emails_${s.id}`,JSON.stringify(Re));try{const{error:_e}=await t.from("user_emails").delete().eq("user_id",s.id).eq("email",ue);_e&&console.log("Database deletion not available for emails, using localStorage only")}catch{console.log("Database deletion not available for emails, using localStorage only")}K("Email removed successfully!"),setTimeout(()=>K(""),3e3)}catch(Re){Y("Failed to remove email"),console.error("Remove email error:",Re)}},Ls=async()=>{if(!oe||!ke||!Pe){Y("All password fields are required");return}if(ke!==Pe){Y("New passwords do not match");return}if(ke.length<6){Y("Password must be at least 6 characters long");return}mt(!0),Y("");try{const{error:ue}=await t.auth.updateUser({password:ke});ue?(Y("Failed to change password"),console.error("Password change error:",ue)):(K("Password changed successfully!"),be(""),je(""),Ae(""),se(!1),setTimeout(()=>K(""),3e3))}catch(ue){Y("Failed to change password"),console.error("Password change error:",ue)}finally{mt(!1)}},Jt=ue=>ue.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),Fs=()=>new Date().toLocaleDateString("en-US",{weekday:"short",day:"2-digit",month:"short",year:"numeric"}),Ve=ue=>{ue.read||c(ue.id),ue.redirectPath&&(n(ue.redirectPath),bt(!1))},$t=ue=>{switch(ue){case"message":return a.jsx(Zi,{className:"w-4 h-4"});case"task":return a.jsx(Ms,{className:"w-4 h-4"});case"channel":return a.jsx(Sn,{className:"w-4 h-4"});case"like":return a.jsx(N_,{className:"w-4 h-4"});default:return a.jsx(jo,{className:"w-4 h-4"})}},ms=ue=>{const Re=Date.now()-new Date(ue).getTime(),_e=Math.floor(Re/6e4),$e=Math.floor(_e/60),it=Math.floor($e/24);return it>0?`${it}d ago`:$e>0?`${$e}h ago`:_e>0?`${_e}m ago`:"Just now"};return a.jsxs("div",{className:"min-h-screen bg-transparent",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 py-4",children:a.jsx("div",{className:"max-w-full px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:["Welcome, ",g||j||s?.email?.split("@")[0]||"User"]}),a.jsx("p",{className:"text-sm text-gray-500",children:Fs()})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>bt(!kt),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 relative",children:[a.jsx(jo,{className:"w-5 h-5"}),l>0&&a.jsx("span",{className:"absolute top-0 right-0 transform translate-x-1/2 -translate-y-1/2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l})]}),kt&&a.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[l>0&&a.jsx("button",{onClick:d,className:"text-sm text-blue-600 hover:text-blue-700",children:"Mark all as read"}),a.jsx("button",{onClick:()=>bt(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(bs,{className:"w-4 h-4"})})]})]})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.length>0?i.map(ue=>a.jsx("div",{onClick:()=>Ve(ue),className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${ue.read?"":"bg-blue-50"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`p-2 rounded-full ${ue.type==="message"?"bg-blue-100 text-blue-600":ue.type==="task"?"bg-green-100 text-green-600":ue.type==="channel"?"bg-purple-100 text-purple-600":ue.type==="like"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:$t(ue.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ue.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ue.content}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[ue.sender||"System"," • ",ms(ue.timestamp)]})]}),!ue.read&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})]})},ue.id)):a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(jo,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No notifications yet"})]})}),i.length>0&&a.jsx("div",{className:"p-3 border-t border-gray-200",children:a.jsx("button",{onClick:h,className:"w-full text-center text-sm text-red-600 hover:text-red-700",children:"Clear all notifications"})})]})]})})]})})}),a.jsx("div",{className:"bg-transparent h-32"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-20 pb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-2xl font-semibold",children:g?.charAt(0)||j?.charAt(0)||s?.email?.charAt(0)?.toUpperCase()||"U"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:g&&v?`${g} ${v}`:j||s?.email?.split("@")[0]||"User"}),a.jsx("p",{className:"text-gray-600",children:s?.email})]})]})}),re&&a.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center mb-6",children:[a.jsx(Ms,{className:"w-4 h-4 mr-2"}),re]}),ie&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:ie}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Personal Information"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Update your personal details"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",placeholder:"Enter first name",value:g,onChange:ue=>x(ue.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",placeholder:"Enter last name",value:v,onChange:ue=>b(ue.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:S,onChange:ue=>N(ue.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[a.jsx("option",{value:"",children:"Select gender"}),a.jsx("option",{value:"male",children:"Male"}),a.jsx("option",{value:"female",children:"Female"}),a.jsx("option",{value:"other",children:"Other"}),a.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]}),a.jsx(us,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:P,onChange:ue=>E(ue.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[a.jsx("option",{value:"",children:"Select country"}),a.jsx("option",{value:"us",children:"United States"}),a.jsx("option",{value:"in",children:"India"}),a.jsx("option",{value:"uk",children:"United Kingdom"}),a.jsx("option",{value:"ca",children:"Canada"}),a.jsx("option",{value:"au",children:"Australia"}),a.jsx("option",{value:"de",children:"Germany"}),a.jsx("option",{value:"fr",children:"France"}),a.jsx("option",{value:"other",children:"Other"})]}),a.jsx(us,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:I,onChange:ue=>L(ue.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[a.jsx("option",{value:"",children:"Select language"}),a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"es",children:"Spanish"}),a.jsx("option",{value:"fr",children:"French"}),a.jsx("option",{value:"de",children:"German"}),a.jsx("option",{value:"zh",children:"Chinese"}),a.jsx("option",{value:"hi",children:"Hindi"}),a.jsx("option",{value:"other",children:"Other"})]}),a.jsx(us,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:B,onChange:ue=>G(ue.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[a.jsx("option",{value:"",children:"Select time zone"}),a.jsx("option",{value:"UTC-8",children:"Pacific Time (UTC-8)"}),a.jsx("option",{value:"UTC-5",children:"Eastern Time (UTC-5)"}),a.jsx("option",{value:"UTC+0",children:"GMT (UTC+0)"}),a.jsx("option",{value:"UTC+5:30",children:"India Standard Time (UTC+5:30)"}),a.jsx("option",{value:"UTC+8",children:"China Standard Time (UTC+8)"}),a.jsx("option",{value:"other",children:"Other"})]}),a.jsx(us,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"My email Address"}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-lg mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx(Zi,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:s?.email}),a.jsx("p",{className:"text-xs text-gray-500",children:"Primary email"})]})]}),ae.map((ue,Re)=>a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 border border-gray-200 rounded-lg mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-500 rounded-full flex items-center justify-center",children:a.jsx(Zi,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:ue}),a.jsx("p",{className:"text-xs text-gray-500",children:"Additional email"})]}),a.jsx("button",{onClick:()=>fn(ue),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"})]},Re)),ce?a.jsx("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("input",{type:"email",placeholder:"Enter email address",value:M,onChange:ue=>W(ue.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("button",{onClick:Ds,disabled:A,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Adding...":"Add"}),a.jsx("button",{onClick:()=>{R(!1),W("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancel"})]})}):a.jsxs("button",{onClick:()=>R(!0),className:"mt-4 text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center",children:[a.jsx(Pn,{className:"w-4 h-4 mr-1"}),"Add Email Address"]})]})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Account Information"}),a.jsx("p",{className:"text-sm text-gray-600",children:"View your account details"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Member Since"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Uo,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-900",children:s?.created_at?Jt(new Date(s.created_at)):Jt(new Date)})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-100",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Your account is secured with email authentication"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Security & Privacy"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account security"})]}),a.jsxs("div",{className:"space-y-4",children:[$?a.jsxs("div",{className:"px-4 py-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Change Password"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enter your current password and choose a new one"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),a.jsx("input",{type:"password",placeholder:"Enter current password",value:oe,onChange:ue=>be(ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsx("input",{type:"password",placeholder:"Enter new password",value:ke,onChange:ue=>je(ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsx("input",{type:"password",placeholder:"Confirm new password",value:Pe,onChange:ue=>Ae(ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{onClick:Ls,disabled:Qe,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Qe?"Changing...":"Change Password"}),a.jsx("button",{onClick:()=>{se(!1),be(""),je(""),Ae("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancel"})]})]})]}):a.jsx("button",{onClick:()=>se(!0),className:"w-full text-left px-4 py-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200 group",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Change Password"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update your account password"})]}),a.jsx(Lh,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600"})]})}),a.jsx("div",{className:"px-4 py-4 bg-transparent border border-gray-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ms,{className:"w-5 h-5 text-green-500 mt-0.5 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Account Protected"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Your account uses secure email authentication"})]})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Account Actions"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account status"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:ut,className:"w-full px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(P_,{className:"w-4 h-4 mr-2"}),"Sign Out"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"This will sign you out of your account on this device"})]})]})]})]}),a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsx("button",{onClick:Kt,disabled:q,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-lg font-medium",children:q?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Updating Profile..."]}):"Update Profile"})})]})]})},X4=()=>{const{user:s,connectionStatus:e}=fs(),[t,n]=k.useState([]),[i,l]=k.useState(!1),c=(h,m,g)=>{n(x=>[...x,{test:h,status:m,data:g,timestamp:new Date().toISOString()}])},d=async()=>{l(!0),n([]);try{c("Supabase Client","success","Client initialized")}catch(h){c("Supabase Client","error",h)}try{const h="https://pffgxlzfvyscuutiouzc.supabase.co",m="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBmZmd4bHpmdnlzY3V1dGlvdXpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1ODAwOTAsImV4cCI6MjA3MTE1NjA5MH0.Ed-QJrqCc3TtUlu2C0V1UByEZhjc4BC0sA1D5iIYV2c";h&&m&&c("Environment Variables","success",{url:h,keyLength:m.length})}catch(h){c("Environment Variables","error",h)}try{const{data:h,error:m}=await Ue.auth.getSession();m?c("Auth Session","error",m):c("Auth Session","success",{hasSession:!!h.session,user:h.session?.user?.email})}catch(h){c("Auth Session","error",h)}try{const{data:h,error:m}=await Ue.from("profiles").select("count").limit(1);m?c("Database Connection","error",m):c("Database Connection","success","Can query database")}catch(h){c("Database Connection","error",h)}if(s){try{const{data:h,error:m}=await Ue.from("tasks").select("id, title").eq("user_id",s.id).limit(5);m?c("User Tasks Query","error",m):c("User Tasks Query","success",{taskCount:h?.length||0})}catch(h){c("User Tasks Query","error",h)}try{const{data:h,error:m}=await Ue.from("profiles").select("*").eq("id",s.id).single();m?c("Profile Query","error",m):c("Profile Query","success",{profile:h})}catch(h){c("Profile Query","error",h)}}l(!1)};return k.useEffect(()=>{d()},[s]),a.jsxs("div",{className:"p-6 max-w-4xl mx-auto bg-white min-h-full",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Supabase Debug Dashboard"}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{children:["Auth Status: ",a.jsx("span",{className:`font-medium ${e==="connected"?"text-green-600":"text-red-600"}`,children:e})]}),a.jsxs("span",{children:["User: ",a.jsx("span",{className:"font-medium",children:s?.email||"Not logged in"})]}),a.jsx("button",{onClick:d,disabled:i,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm disabled:opacity-50",children:i?"Running...":"Run Tests"})]})]}),a.jsx("div",{className:"space-y-4",children:t.map((h,m)=>a.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${h.status==="success"?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold",children:h.test}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${h.status==="success"?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:h.status})]}),a.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded overflow-auto",children:JSON.stringify(h.data,null,2)}),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:new Date(h.timestamp).toLocaleTimeString()})]},m))}),t.length===0&&!i&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:'No test results yet. Click "Run Tests" to start.'})]})},Z4=()=>{const[s,e]=k.useState(()=>typeof window<"u"?window.innerWidth>=640:!0),[t,n]=k.useState(!s),i=()=>{e(!s)};return qe.useEffect(()=>{if(s)n(!1);else{const l=setTimeout(()=>{n(!0)},300);return()=>clearTimeout(l)}},[s]),qe.useEffect(()=>{let l;const c=()=>{clearTimeout(l),l=setTimeout(()=>{window.innerWidth<640&&s?e(!1):window.innerWidth>=640&&!s&&e(!0)},100)};return window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c),clearTimeout(l)}},[s]),a.jsxs("div",{className:"h-screen bg-white flex overflow-hidden",children:[a.jsx(B_,{isOpen:s,onClose:i,onToggle:i}),t&&a.jsx("button",{onClick:i,className:"fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-lg border border-gray-200 hover:bg-gray-50 transition-all duration-200 sm:hidden","aria-label":"Open menu",children:a.jsx(jy,{className:"w-4 h-4 text-gray-600"})}),a.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:a.jsx("main",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:`animate-in fade-in duration-300 h-full py-4 sm:py-6 ${s?"px-3 sm:px-6 lg:px-8":"pl-16 pr-3 sm:pl-8 sm:pr-6 lg:pr-8"}`,children:a.jsx("div",{className:"h-full flex flex-col",children:a.jsx(v1,{})})})})})]})},jh=({children:s})=>{const{user:e,loading:t}=fs();return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-white rounded-full animate-spin mx-auto mb-4"}),a.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-b-blue-400 rounded-full animate-spin mx-auto",style:{animationDelay:"0.15s",animationDuration:"1.5s"}})]}),a.jsx("p",{className:"text-white font-medium",children:"Loading Magic Teams..."})]})}):e?a.jsx(ef,{to:"/app",replace:!0}):a.jsx(qe.Fragment,{children:s})};function eP(){return a.jsx(z_,{children:a.jsx(n_,{children:a.jsx(l_,{children:a.jsx(u_,{children:a.jsx(i_,{children:a.jsx(o_,{children:a.jsx(H1,{children:a.jsxs(w1,{children:[a.jsx(ts,{path:"/login",element:a.jsx(jh,{children:a.jsx(W_,{})})}),a.jsx(ts,{path:"/signup",element:a.jsx(jh,{children:a.jsx(H_,{})})}),a.jsxs(ts,{path:"/app",element:a.jsx(h_,{children:a.jsx(Z4,{})}),children:[a.jsx(ts,{index:!0,element:a.jsx(Dx,{})}),a.jsx(ts,{path:"new-task",element:a.jsx(Dx,{})}),a.jsx(ts,{path:"tasks",element:a.jsx(BE,{})}),a.jsx(ts,{path:"teams",element:a.jsx(K4,{})}),a.jsx(ts,{path:"chats",element:a.jsx(J4,{})}),a.jsx(ts,{path:"dashboard",element:a.jsx(FE,{})}),a.jsx(ts,{path:"calendar",element:a.jsx(g4,{})}),a.jsx(ts,{path:"profile",element:a.jsx(Q4,{})}),a.jsx(ts,{path:"debug",element:a.jsx(X4,{})})]}),a.jsx(ts,{path:"/",element:a.jsx(jh,{children:a.jsx(U_,{})})}),a.jsx(ts,{path:"*",element:a.jsx(ef,{to:"/",replace:!0})})]})})})})})})})})}Ew.createRoot(document.getElementById("root")).render(a.jsx(k.StrictMode,{children:a.jsx(eP,{})}));
